var eS=Object.defineProperty;var tS=(e,t,n)=>t in e?eS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ho=(e,t,n)=>(tS(e,typeof t!="symbol"?t+"":t,n),n);function nS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var ay={exports:{}},Zc={},sy={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var us=Symbol.for("react.element"),iS=Symbol.for("react.portal"),oS=Symbol.for("react.fragment"),aS=Symbol.for("react.strict_mode"),sS=Symbol.for("react.profiler"),lS=Symbol.for("react.provider"),cS=Symbol.for("react.context"),uS=Symbol.for("react.forward_ref"),fS=Symbol.for("react.suspense"),dS=Symbol.for("react.memo"),pS=Symbol.for("react.lazy"),Oh=Symbol.iterator;function mS(e){return e===null||typeof e!="object"?null:(e=Oh&&e[Oh]||e["@@iterator"],typeof e=="function"?e:null)}var ly={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cy=Object.assign,uy={};function Po(e,t,n){this.props=e,this.context=t,this.refs=uy,this.updater=n||ly}Po.prototype.isReactComponent={};Po.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Po.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fy(){}fy.prototype=Po.prototype;function Jp(e,t,n){this.props=e,this.context=t,this.refs=uy,this.updater=n||ly}var em=Jp.prototype=new fy;em.constructor=Jp;cy(em,Po.prototype);em.isPureReactComponent=!0;var Lh=Array.isArray,dy=Object.prototype.hasOwnProperty,tm={current:null},py={key:!0,ref:!0,__self:!0,__source:!0};function my(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)dy.call(t,r)&&!py.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:us,type:e,key:o,ref:a,props:i,_owner:tm.current}}function hS(e,t){return{$$typeof:us,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nm(e){return typeof e=="object"&&e!==null&&e.$$typeof===us}function vS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bh=/\/+/g;function Ou(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vS(""+e.key):t.toString(36)}function pl(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case us:case iS:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Ou(a,0):r,Lh(i)?(n="",e!=null&&(n=e.replace(Bh,"$&/")+"/"),pl(i,t,n,"",function(u){return u})):i!=null&&(nm(i)&&(i=hS(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Bh,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Lh(e))for(var s=0;s<e.length;s++){o=e[s];var c=r+Ou(o,s);a+=pl(o,t,n,c,i)}else if(c=mS(e),typeof c=="function")for(e=c.call(e),s=0;!(o=e.next()).done;)o=o.value,c=r+Ou(o,s++),a+=pl(o,t,n,c,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Is(e,t,n){if(e==null)return e;var r=[],i=0;return pl(e,r,"","",function(o){return t.call(n,o,i++)}),r}function gS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var St={current:null},ml={transition:null},xS={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:ml,ReactCurrentOwner:tm};de.Children={map:Is,forEach:function(e,t,n){Is(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Is(e,function(){t++}),t},toArray:function(e){return Is(e,function(t){return t})||[]},only:function(e){if(!nm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=Po;de.Fragment=oS;de.Profiler=sS;de.PureComponent=Jp;de.StrictMode=aS;de.Suspense=fS;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xS;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=cy({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=tm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)dy.call(t,c)&&!py.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:us,type:e.type,key:i,ref:o,props:r,_owner:a}};de.createContext=function(e){return e={$$typeof:cS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lS,_context:e},e.Consumer=e};de.createElement=my;de.createFactory=function(e){var t=my.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:uS,render:e}};de.isValidElement=nm;de.lazy=function(e){return{$$typeof:pS,_payload:{_status:-1,_result:e},_init:gS}};de.memo=function(e,t){return{$$typeof:dS,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=ml.transition;ml.transition={};try{e()}finally{ml.transition=t}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(e,t){return St.current.useCallback(e,t)};de.useContext=function(e){return St.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return St.current.useDeferredValue(e)};de.useEffect=function(e,t){return St.current.useEffect(e,t)};de.useId=function(){return St.current.useId()};de.useImperativeHandle=function(e,t,n){return St.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return St.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return St.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return St.current.useMemo(e,t)};de.useReducer=function(e,t,n){return St.current.useReducer(e,t,n)};de.useRef=function(e){return St.current.useRef(e)};de.useState=function(e){return St.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return St.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return St.current.useTransition()};de.version="18.2.0";sy.exports=de;var B=sy.exports;const R=Yc(B),hy=nS({__proto__:null,default:R},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS=B,wS=Symbol.for("react.element"),bS=Symbol.for("react.fragment"),kS=Object.prototype.hasOwnProperty,_S=yS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SS={key:!0,ref:!0,__self:!0,__source:!0};function vy(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)kS.call(t,r)&&!SS.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:wS,type:e,key:o,ref:a,props:i,_owner:_S.current}}Zc.Fragment=bS;Zc.jsx=vy;Zc.jsxs=vy;ay.exports=Zc;var l=ay.exports,md={},gy={exports:{}},qt={},xy={exports:{}},yy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,U){var H=I.length;I.push(U);e:for(;0<H;){var q=H-1>>>1,Z=I[q];if(0<i(Z,U))I[q]=U,I[H]=Z,H=q;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var U=I[0],H=I.pop();if(H!==U){I[0]=H;e:for(var q=0,Z=I.length,te=Z>>>1;q<te;){var re=2*(q+1)-1,ae=I[re],pe=re+1,ve=I[pe];if(0>i(ae,H))pe<Z&&0>i(ve,ae)?(I[q]=ve,I[pe]=H,q=pe):(I[q]=ae,I[re]=H,q=re);else if(pe<Z&&0>i(ve,H))I[q]=ve,I[pe]=H,q=pe;else break e}}return U}function i(I,U){var H=I.sortIndex-U.sortIndex;return H!==0?H:I.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var c=[],u=[],f=1,p=null,d=3,h=!1,x=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(I){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=I)r(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(u)}}function _(I){if(b=!1,k(I),!x)if(n(c)!==null)x=!0,V(S);else{var U=n(u);U!==null&&G(_,U.startTime-I)}}function S(I,U){x=!1,b&&(b=!1,y(j),j=-1),h=!0;var H=d;try{for(k(U),p=n(c);p!==null&&(!(p.expirationTime>U)||I&&!L());){var q=p.callback;if(typeof q=="function"){p.callback=null,d=p.priorityLevel;var Z=q(p.expirationTime<=U);U=e.unstable_now(),typeof Z=="function"?p.callback=Z:p===n(c)&&r(c),k(U)}else r(c);p=n(c)}if(p!==null)var te=!0;else{var re=n(u);re!==null&&G(_,re.startTime-U),te=!1}return te}finally{p=null,d=H,h=!1}}var N=!1,T=null,j=-1,F=5,A=-1;function L(){return!(e.unstable_now()-A<F)}function $(){if(T!==null){var I=e.unstable_now();A=I;var U=!0;try{U=T(!0,I)}finally{U?O():(N=!1,T=null)}}else N=!1}var O;if(typeof g=="function")O=function(){g($)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,M=P.port2;P.port1.onmessage=$,O=function(){M.postMessage(null)}}else O=function(){C($,0)};function V(I){T=I,N||(N=!0,O())}function G(I,U){j=C(function(){I(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){x||h||(x=!0,V(S))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var H=d;d=U;try{return I()}finally{d=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,U){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var H=d;d=I;try{return U()}finally{d=H}},e.unstable_scheduleCallback=function(I,U,H){var q=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?q+H:q):H=q,I){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=H+Z,I={id:f++,callback:U,priorityLevel:I,startTime:H,expirationTime:Z,sortIndex:-1},H>q?(I.sortIndex=H,t(u,I),n(c)===null&&I===n(u)&&(b?(y(j),j=-1):b=!0,G(_,H-q))):(I.sortIndex=Z,t(c,I),x||h||(x=!0,V(S))),I},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(I){var U=d;return function(){var H=d;d=U;try{return I.apply(this,arguments)}finally{d=H}}}})(yy);xy.exports=yy;var ES=xy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy=B,Vt=ES;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var by=new Set,Ta={};function ji(e,t){mo(e,t),mo(e+"Capture",t)}function mo(e,t){for(Ta[e]=t,e=0;e<t.length;e++)by.add(t[e])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hd=Object.prototype.hasOwnProperty,jS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$h={},Uh={};function CS(e){return hd.call(Uh,e)?!0:hd.call($h,e)?!1:jS.test(e)?Uh[e]=!0:($h[e]=!0,!1)}function IS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function AS(e,t,n,r){if(t===null||typeof t>"u"||IS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Et(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){st[e]=new Et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];st[t]=new Et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){st[e]=new Et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){st[e]=new Et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){st[e]=new Et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){st[e]=new Et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){st[e]=new Et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){st[e]=new Et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){st[e]=new Et(e,5,!1,e.toLowerCase(),null,!1,!1)});var rm=/[\-:]([a-z])/g;function im(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rm,im);st[t]=new Et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rm,im);st[t]=new Et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rm,im);st[t]=new Et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){st[e]=new Et(e,1,!1,e.toLowerCase(),null,!1,!1)});st.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){st[e]=new Et(e,1,!1,e.toLowerCase(),null,!0,!0)});function om(e,t,n,r){var i=st.hasOwnProperty(t)?st[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(AS(t,n,i,r)&&(n=null),r||i===null?CS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var rr=wy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,As=Symbol.for("react.element"),Gi=Symbol.for("react.portal"),Hi=Symbol.for("react.fragment"),am=Symbol.for("react.strict_mode"),vd=Symbol.for("react.profiler"),ky=Symbol.for("react.provider"),_y=Symbol.for("react.context"),sm=Symbol.for("react.forward_ref"),gd=Symbol.for("react.suspense"),xd=Symbol.for("react.suspense_list"),lm=Symbol.for("react.memo"),lr=Symbol.for("react.lazy"),Sy=Symbol.for("react.offscreen"),zh=Symbol.iterator;function Wo(e){return e===null||typeof e!="object"?null:(e=zh&&e[zh]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,Lu;function oa(e){if(Lu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Lu=t&&t[1]||""}return`
`+Lu+e}var Bu=!1;function $u(e,t){if(!e||Bu)return"";Bu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=s);break}}}finally{Bu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?oa(e):""}function NS(e){switch(e.tag){case 5:return oa(e.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 2:case 15:return e=$u(e.type,!1),e;case 11:return e=$u(e.type.render,!1),e;case 1:return e=$u(e.type,!0),e;default:return""}}function yd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hi:return"Fragment";case Gi:return"Portal";case vd:return"Profiler";case am:return"StrictMode";case gd:return"Suspense";case xd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _y:return(e.displayName||"Context")+".Consumer";case ky:return(e._context.displayName||"Context")+".Provider";case sm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lm:return t=e.displayName||null,t!==null?t:yd(e.type)||"Memo";case lr:t=e._payload,e=e._init;try{return yd(e(t))}catch{}}return null}function FS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yd(t);case 8:return t===am?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ey(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function RS(e){var t=Ey(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ns(e){e._valueTracker||(e._valueTracker=RS(e))}function jy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ey(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ll(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wd(e,t){var n=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Fr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Cy(e,t){t=t.checked,t!=null&&om(e,"checked",t,!1)}function bd(e,t){Cy(e,t);var n=Fr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kd(e,t.type,n):t.hasOwnProperty("defaultValue")&&kd(e,t.type,Fr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function kd(e,t,n){(t!=="number"||Ll(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var aa=Array.isArray;function ro(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Fr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function _d(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(X(92));if(aa(n)){if(1<n.length)throw Error(X(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Fr(n)}}function Iy(e,t){var n=Fr(t.value),r=Fr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Vh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ay(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ay(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fs,Ny=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fs=Fs||document.createElement("div"),Fs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TS=["Webkit","ms","Moz","O"];Object.keys(pa).forEach(function(e){TS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pa[t]=pa[e]})});function Fy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pa.hasOwnProperty(e)&&pa[e]?(""+t).trim():t+"px"}function Ry(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Fy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var PS=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ed(e,t){if(t){if(PS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function jd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cd=null;function cm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Id=null,io=null,oo=null;function Kh(e){if(e=ps(e)){if(typeof Id!="function")throw Error(X(280));var t=e.stateNode;t&&(t=tu(t),Id(e.stateNode,e.type,t))}}function Ty(e){io?oo?oo.push(e):oo=[e]:io=e}function Py(){if(io){var e=io,t=oo;if(oo=io=null,Kh(e),t)for(e=0;e<t.length;e++)Kh(t[e])}}function Dy(e,t){return e(t)}function My(){}var Uu=!1;function Oy(e,t,n){if(Uu)return e(t,n);Uu=!0;try{return Dy(e,t,n)}finally{Uu=!1,(io!==null||oo!==null)&&(My(),Py())}}function Da(e,t){var n=e.stateNode;if(n===null)return null;var r=tu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var Ad=!1;if(Xn)try{var Vo={};Object.defineProperty(Vo,"passive",{get:function(){Ad=!0}}),window.addEventListener("test",Vo,Vo),window.removeEventListener("test",Vo,Vo)}catch{Ad=!1}function DS(e,t,n,r,i,o,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var ma=!1,Bl=null,$l=!1,Nd=null,MS={onError:function(e){ma=!0,Bl=e}};function OS(e,t,n,r,i,o,a,s,c){ma=!1,Bl=null,DS.apply(MS,arguments)}function LS(e,t,n,r,i,o,a,s,c){if(OS.apply(this,arguments),ma){if(ma){var u=Bl;ma=!1,Bl=null}else throw Error(X(198));$l||($l=!0,Nd=u)}}function Ci(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ly(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qh(e){if(Ci(e)!==e)throw Error(X(188))}function BS(e){var t=e.alternate;if(!t){if(t=Ci(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qh(i),e;if(o===r)return qh(i),t;o=o.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function By(e){return e=BS(e),e!==null?$y(e):null}function $y(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$y(e);if(t!==null)return t;e=e.sibling}return null}var Uy=Vt.unstable_scheduleCallback,Yh=Vt.unstable_cancelCallback,$S=Vt.unstable_shouldYield,US=Vt.unstable_requestPaint,ze=Vt.unstable_now,zS=Vt.unstable_getCurrentPriorityLevel,um=Vt.unstable_ImmediatePriority,zy=Vt.unstable_UserBlockingPriority,Ul=Vt.unstable_NormalPriority,GS=Vt.unstable_LowPriority,Gy=Vt.unstable_IdlePriority,Xc=null,Rn=null;function HS(e){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Xc,e,void 0,(e.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:KS,WS=Math.log,VS=Math.LN2;function KS(e){return e>>>=0,e===0?32:31-(WS(e)/VS|0)|0}var Rs=64,Ts=4194304;function sa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=sa(s):(o&=a,o!==0&&(r=sa(o)))}else a=n&~i,a!==0?r=sa(a):o!==0&&(r=sa(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-xn(t),i=1<<n,r|=e[n],t&=~i;return r}function qS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-xn(o),s=1<<a,c=i[a];c===-1?(!(s&n)||s&r)&&(i[a]=qS(s,t)):c<=t&&(e.expiredLanes|=s),o&=~s}}function Fd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hy(){var e=Rs;return Rs<<=1,!(Rs&4194240)&&(Rs=64),e}function zu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xn(t),e[t]=n}function ZS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function fm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ye=0;function Wy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vy,dm,Ky,qy,Yy,Rd=!1,Ps=[],yr=null,wr=null,br=null,Ma=new Map,Oa=new Map,fr=[],XS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zh(e,t){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Ma.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oa.delete(t.pointerId)}}function Ko(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ps(t),t!==null&&dm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function QS(e,t,n,r,i){switch(t){case"focusin":return yr=Ko(yr,e,t,n,r,i),!0;case"dragenter":return wr=Ko(wr,e,t,n,r,i),!0;case"mouseover":return br=Ko(br,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ma.set(o,Ko(Ma.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Oa.set(o,Ko(Oa.get(o)||null,e,t,n,r,i)),!0}return!1}function Zy(e){var t=Jr(e.target);if(t!==null){var n=Ci(t);if(n!==null){if(t=n.tag,t===13){if(t=Ly(n),t!==null){e.blockedOn=t,Yy(e.priority,function(){Ky(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Td(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cd=r,n.target.dispatchEvent(r),Cd=null}else return t=ps(n),t!==null&&dm(t),e.blockedOn=n,!1;t.shift()}return!0}function Xh(e,t,n){hl(e)&&n.delete(t)}function JS(){Rd=!1,yr!==null&&hl(yr)&&(yr=null),wr!==null&&hl(wr)&&(wr=null),br!==null&&hl(br)&&(br=null),Ma.forEach(Xh),Oa.forEach(Xh)}function qo(e,t){e.blockedOn===t&&(e.blockedOn=null,Rd||(Rd=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,JS)))}function La(e){function t(i){return qo(i,e)}if(0<Ps.length){qo(Ps[0],e);for(var n=1;n<Ps.length;n++){var r=Ps[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yr!==null&&qo(yr,e),wr!==null&&qo(wr,e),br!==null&&qo(br,e),Ma.forEach(t),Oa.forEach(t),n=0;n<fr.length;n++)r=fr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<fr.length&&(n=fr[0],n.blockedOn===null);)Zy(n),n.blockedOn===null&&fr.shift()}var ao=rr.ReactCurrentBatchConfig,Gl=!0;function eE(e,t,n,r){var i=ye,o=ao.transition;ao.transition=null;try{ye=1,pm(e,t,n,r)}finally{ye=i,ao.transition=o}}function tE(e,t,n,r){var i=ye,o=ao.transition;ao.transition=null;try{ye=4,pm(e,t,n,r)}finally{ye=i,ao.transition=o}}function pm(e,t,n,r){if(Gl){var i=Td(e,t,n,r);if(i===null)Qu(e,t,r,Hl,n),Zh(e,r);else if(QS(i,e,t,n,r))r.stopPropagation();else if(Zh(e,r),t&4&&-1<XS.indexOf(e)){for(;i!==null;){var o=ps(i);if(o!==null&&Vy(o),o=Td(e,t,n,r),o===null&&Qu(e,t,r,Hl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Qu(e,t,r,null,n)}}var Hl=null;function Td(e,t,n,r){if(Hl=null,e=cm(r),e=Jr(e),e!==null)if(t=Ci(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ly(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hl=e,null}function Xy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zS()){case um:return 1;case zy:return 4;case Ul:case GS:return 16;case Gy:return 536870912;default:return 16}default:return 16}}var hr=null,mm=null,vl=null;function Qy(){if(vl)return vl;var e,t=mm,n=t.length,r,i="value"in hr?hr.value:hr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return vl=i.slice(e,1<r?1-r:void 0)}function gl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ds(){return!0}function Qh(){return!1}function Yt(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ds:Qh,this.isPropagationStopped=Qh,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),t}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hm=Yt(Do),ds=Le({},Do,{view:0,detail:0}),nE=Yt(ds),Gu,Hu,Yo,Qc=Le({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yo&&(Yo&&e.type==="mousemove"?(Gu=e.screenX-Yo.screenX,Hu=e.screenY-Yo.screenY):Hu=Gu=0,Yo=e),Gu)},movementY:function(e){return"movementY"in e?e.movementY:Hu}}),Jh=Yt(Qc),rE=Le({},Qc,{dataTransfer:0}),iE=Yt(rE),oE=Le({},ds,{relatedTarget:0}),Wu=Yt(oE),aE=Le({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),sE=Yt(aE),lE=Le({},Do,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cE=Yt(lE),uE=Le({},Do,{data:0}),ev=Yt(uE),fE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pE[e])?!!t[e]:!1}function vm(){return mE}var hE=Le({},ds,{key:function(e){if(e.key){var t=fE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vm,charCode:function(e){return e.type==="keypress"?gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vE=Yt(hE),gE=Le({},Qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tv=Yt(gE),xE=Le({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vm}),yE=Yt(xE),wE=Le({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),bE=Yt(wE),kE=Le({},Qc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_E=Yt(kE),SE=[9,13,27,32],gm=Xn&&"CompositionEvent"in window,ha=null;Xn&&"documentMode"in document&&(ha=document.documentMode);var EE=Xn&&"TextEvent"in window&&!ha,Jy=Xn&&(!gm||ha&&8<ha&&11>=ha),nv=" ",rv=!1;function e1(e,t){switch(e){case"keyup":return SE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function jE(e,t){switch(e){case"compositionend":return t1(t);case"keypress":return t.which!==32?null:(rv=!0,nv);case"textInput":return e=t.data,e===nv&&rv?null:e;default:return null}}function CE(e,t){if(Wi)return e==="compositionend"||!gm&&e1(e,t)?(e=Qy(),vl=mm=hr=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jy&&t.locale!=="ko"?null:t.data;default:return null}}var IE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!IE[e.type]:t==="textarea"}function n1(e,t,n,r){Ty(r),t=Wl(t,"onChange"),0<t.length&&(n=new hm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var va=null,Ba=null;function AE(e){p1(e,0)}function Jc(e){var t=qi(e);if(jy(t))return e}function NE(e,t){if(e==="change")return t}var r1=!1;if(Xn){var Vu;if(Xn){var Ku="oninput"in document;if(!Ku){var ov=document.createElement("div");ov.setAttribute("oninput","return;"),Ku=typeof ov.oninput=="function"}Vu=Ku}else Vu=!1;r1=Vu&&(!document.documentMode||9<document.documentMode)}function av(){va&&(va.detachEvent("onpropertychange",i1),Ba=va=null)}function i1(e){if(e.propertyName==="value"&&Jc(Ba)){var t=[];n1(t,Ba,e,cm(e)),Oy(AE,t)}}function FE(e,t,n){e==="focusin"?(av(),va=t,Ba=n,va.attachEvent("onpropertychange",i1)):e==="focusout"&&av()}function RE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jc(Ba)}function TE(e,t){if(e==="click")return Jc(t)}function PE(e,t){if(e==="input"||e==="change")return Jc(t)}function DE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kn=typeof Object.is=="function"?Object.is:DE;function $a(e,t){if(kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hd.call(t,i)||!kn(e[i],t[i]))return!1}return!0}function sv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lv(e,t){var n=sv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sv(n)}}function o1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?o1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function a1(){for(var e=window,t=Ll();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ll(e.document)}return t}function xm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ME(e){var t=a1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&o1(n.ownerDocument.documentElement,n)){if(r!==null&&xm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lv(n,o);var a=lv(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var OE=Xn&&"documentMode"in document&&11>=document.documentMode,Vi=null,Pd=null,ga=null,Dd=!1;function cv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dd||Vi==null||Vi!==Ll(r)||(r=Vi,"selectionStart"in r&&xm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ga&&$a(ga,r)||(ga=r,r=Wl(Pd,"onSelect"),0<r.length&&(t=new hm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vi)))}function Ms(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ki={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionend:Ms("Transition","TransitionEnd")},qu={},s1={};Xn&&(s1=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function eu(e){if(qu[e])return qu[e];if(!Ki[e])return e;var t=Ki[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in s1)return qu[e]=t[n];return e}var l1=eu("animationend"),c1=eu("animationiteration"),u1=eu("animationstart"),f1=eu("transitionend"),d1=new Map,uv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){d1.set(e,t),ji(t,[e])}for(var Yu=0;Yu<uv.length;Yu++){var Zu=uv[Yu],LE=Zu.toLowerCase(),BE=Zu[0].toUpperCase()+Zu.slice(1);Mr(LE,"on"+BE)}Mr(l1,"onAnimationEnd");Mr(c1,"onAnimationIteration");Mr(u1,"onAnimationStart");Mr("dblclick","onDoubleClick");Mr("focusin","onFocus");Mr("focusout","onBlur");Mr(f1,"onTransitionEnd");mo("onMouseEnter",["mouseout","mouseover"]);mo("onMouseLeave",["mouseout","mouseover"]);mo("onPointerEnter",["pointerout","pointerover"]);mo("onPointerLeave",["pointerout","pointerover"]);ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$E=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function fv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,LS(r,t,void 0,e),e.currentTarget=null}function p1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;fv(i,s,u),o=c}else for(a=0;a<r.length;a++){if(s=r[a],c=s.instance,u=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;fv(i,s,u),o=c}}}if($l)throw e=Nd,$l=!1,Nd=null,e}function Ie(e,t){var n=t[$d];n===void 0&&(n=t[$d]=new Set);var r=e+"__bubble";n.has(r)||(m1(t,e,2,!1),n.add(r))}function Xu(e,t,n){var r=0;t&&(r|=4),m1(n,e,r,t)}var Os="_reactListening"+Math.random().toString(36).slice(2);function Ua(e){if(!e[Os]){e[Os]=!0,by.forEach(function(n){n!=="selectionchange"&&($E.has(n)||Xu(n,!1,e),Xu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Os]||(t[Os]=!0,Xu("selectionchange",!1,t))}}function m1(e,t,n,r){switch(Xy(t)){case 1:var i=eE;break;case 4:i=tE;break;default:i=pm}n=i.bind(null,t,n,e),i=void 0,!Ad||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Qu(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Jr(s),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Oy(function(){var u=o,f=cm(n),p=[];e:{var d=d1.get(e);if(d!==void 0){var h=hm,x=e;switch(e){case"keypress":if(gl(n)===0)break e;case"keydown":case"keyup":h=vE;break;case"focusin":x="focus",h=Wu;break;case"focusout":x="blur",h=Wu;break;case"beforeblur":case"afterblur":h=Wu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=iE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=yE;break;case l1:case c1:case u1:h=sE;break;case f1:h=bE;break;case"scroll":h=nE;break;case"wheel":h=_E;break;case"copy":case"cut":case"paste":h=cE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=tv}var b=(t&4)!==0,C=!b&&e==="scroll",y=b?d!==null?d+"Capture":null:d;b=[];for(var g=u,k;g!==null;){k=g;var _=k.stateNode;if(k.tag===5&&_!==null&&(k=_,y!==null&&(_=Da(g,y),_!=null&&b.push(za(g,_,k)))),C)break;g=g.return}0<b.length&&(d=new h(d,x,null,n,f),p.push({event:d,listeners:b}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==Cd&&(x=n.relatedTarget||n.fromElement)&&(Jr(x)||x[Qn]))break e;if((h||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,h?(x=n.relatedTarget||n.toElement,h=u,x=x?Jr(x):null,x!==null&&(C=Ci(x),x!==C||x.tag!==5&&x.tag!==6)&&(x=null)):(h=null,x=u),h!==x)){if(b=Jh,_="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=tv,_="onPointerLeave",y="onPointerEnter",g="pointer"),C=h==null?d:qi(h),k=x==null?d:qi(x),d=new b(_,g+"leave",h,n,f),d.target=C,d.relatedTarget=k,_=null,Jr(f)===u&&(b=new b(y,g+"enter",x,n,f),b.target=k,b.relatedTarget=C,_=b),C=_,h&&x)t:{for(b=h,y=x,g=0,k=b;k;k=Ri(k))g++;for(k=0,_=y;_;_=Ri(_))k++;for(;0<g-k;)b=Ri(b),g--;for(;0<k-g;)y=Ri(y),k--;for(;g--;){if(b===y||y!==null&&b===y.alternate)break t;b=Ri(b),y=Ri(y)}b=null}else b=null;h!==null&&dv(p,d,h,b,!1),x!==null&&C!==null&&dv(p,C,x,b,!0)}}e:{if(d=u?qi(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=NE;else if(iv(d))if(r1)S=PE;else{S=RE;var N=FE}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=TE);if(S&&(S=S(e,u))){n1(p,S,n,f);break e}N&&N(e,d,u),e==="focusout"&&(N=d._wrapperState)&&N.controlled&&d.type==="number"&&kd(d,"number",d.value)}switch(N=u?qi(u):window,e){case"focusin":(iv(N)||N.contentEditable==="true")&&(Vi=N,Pd=u,ga=null);break;case"focusout":ga=Pd=Vi=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,cv(p,n,f);break;case"selectionchange":if(OE)break;case"keydown":case"keyup":cv(p,n,f)}var T;if(gm)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Wi?e1(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Jy&&n.locale!=="ko"&&(Wi||j!=="onCompositionStart"?j==="onCompositionEnd"&&Wi&&(T=Qy()):(hr=f,mm="value"in hr?hr.value:hr.textContent,Wi=!0)),N=Wl(u,j),0<N.length&&(j=new ev(j,e,null,n,f),p.push({event:j,listeners:N}),T?j.data=T:(T=t1(n),T!==null&&(j.data=T)))),(T=EE?jE(e,n):CE(e,n))&&(u=Wl(u,"onBeforeInput"),0<u.length&&(f=new ev("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:u}),f.data=T))}p1(p,t)})}function za(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Da(e,n),o!=null&&r.unshift(za(e,o,i)),o=Da(e,t),o!=null&&r.push(za(e,o,i))),e=e.return}return r}function Ri(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dv(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(c!==null&&c===r)break;s.tag===5&&u!==null&&(s=u,i?(c=Da(n,o),c!=null&&a.unshift(za(n,c,s))):i||(c=Da(n,o),c!=null&&a.push(za(n,c,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var UE=/\r\n?/g,zE=/\u0000|\uFFFD/g;function pv(e){return(typeof e=="string"?e:""+e).replace(UE,`
`).replace(zE,"")}function Ls(e,t,n){if(t=pv(t),pv(e)!==t&&n)throw Error(X(425))}function Vl(){}var Md=null,Od=null;function Ld(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bd=typeof setTimeout=="function"?setTimeout:void 0,GE=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,HE=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(e){return mv.resolve(null).then(e).catch(WE)}:Bd;function WE(e){setTimeout(function(){throw e})}function Ju(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),La(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);La(t)}function kr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),In="__reactFiber$"+Mo,Ga="__reactProps$"+Mo,Qn="__reactContainer$"+Mo,$d="__reactEvents$"+Mo,VE="__reactListeners$"+Mo,KE="__reactHandles$"+Mo;function Jr(e){var t=e[In];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qn]||n[In]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hv(e);e!==null;){if(n=e[In])return n;e=hv(e)}return t}e=n,n=e.parentNode}return null}function ps(e){return e=e[In]||e[Qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function tu(e){return e[Ga]||null}var Ud=[],Yi=-1;function Or(e){return{current:e}}function Ae(e){0>Yi||(e.current=Ud[Yi],Ud[Yi]=null,Yi--)}function je(e,t){Yi++,Ud[Yi]=e.current,e.current=t}var Rr={},mt=Or(Rr),Ft=Or(!1),pi=Rr;function ho(e,t){var n=e.type.contextTypes;if(!n)return Rr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rt(e){return e=e.childContextTypes,e!=null}function Kl(){Ae(Ft),Ae(mt)}function vv(e,t,n){if(mt.current!==Rr)throw Error(X(168));je(mt,t),je(Ft,n)}function h1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(X(108,FS(e)||"Unknown",i));return Le({},n,r)}function ql(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rr,pi=mt.current,je(mt,e),je(Ft,Ft.current),!0}function gv(e,t,n){var r=e.stateNode;if(!r)throw Error(X(169));n?(e=h1(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,Ae(Ft),Ae(mt),je(mt,e)):Ae(Ft),je(Ft,n)}var Hn=null,nu=!1,ef=!1;function v1(e){Hn===null?Hn=[e]:Hn.push(e)}function qE(e){nu=!0,v1(e)}function Lr(){if(!ef&&Hn!==null){ef=!0;var e=0,t=ye;try{var n=Hn;for(ye=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Hn=null,nu=!1}catch(i){throw Hn!==null&&(Hn=Hn.slice(e+1)),Uy(um,Lr),i}finally{ye=t,ef=!1}}return null}var Zi=[],Xi=0,Yl=null,Zl=0,en=[],tn=0,mi=null,Kn=1,qn="";function Kr(e,t){Zi[Xi++]=Zl,Zi[Xi++]=Yl,Yl=e,Zl=t}function g1(e,t,n){en[tn++]=Kn,en[tn++]=qn,en[tn++]=mi,mi=e;var r=Kn;e=qn;var i=32-xn(r)-1;r&=~(1<<i),n+=1;var o=32-xn(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Kn=1<<32-xn(t)+i|n<<i|r,qn=o+e}else Kn=1<<o|n<<i|r,qn=e}function ym(e){e.return!==null&&(Kr(e,1),g1(e,1,0))}function wm(e){for(;e===Yl;)Yl=Zi[--Xi],Zi[Xi]=null,Zl=Zi[--Xi],Zi[Xi]=null;for(;e===mi;)mi=en[--tn],en[tn]=null,qn=en[--tn],en[tn]=null,Kn=en[--tn],en[tn]=null}var Gt=null,Ut=null,Pe=!1,vn=null;function x1(e,t){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gt=e,Ut=kr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mi!==null?{id:Kn,overflow:qn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Gt=e,Ut=null,!0):!1;default:return!1}}function zd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gd(e){if(Pe){var t=Ut;if(t){var n=t;if(!xv(e,t)){if(zd(e))throw Error(X(418));t=kr(n.nextSibling);var r=Gt;t&&xv(e,t)?x1(r,n):(e.flags=e.flags&-4097|2,Pe=!1,Gt=e)}}else{if(zd(e))throw Error(X(418));e.flags=e.flags&-4097|2,Pe=!1,Gt=e}}}function yv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gt=e}function Bs(e){if(e!==Gt)return!1;if(!Pe)return yv(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ld(e.type,e.memoizedProps)),t&&(t=Ut)){if(zd(e))throw y1(),Error(X(418));for(;t;)x1(e,t),t=kr(t.nextSibling)}if(yv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ut=kr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Gt?kr(e.stateNode.nextSibling):null;return!0}function y1(){for(var e=Ut;e;)e=kr(e.nextSibling)}function vo(){Ut=Gt=null,Pe=!1}function bm(e){vn===null?vn=[e]:vn.push(e)}var YE=rr.ReactCurrentBatchConfig;function mn(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Xl=Or(null),Ql=null,Qi=null,km=null;function _m(){km=Qi=Ql=null}function Sm(e){var t=Xl.current;Ae(Xl),e._currentValue=t}function Hd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function so(e,t){Ql=e,km=Qi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(At=!0),e.firstContext=null)}function sn(e){var t=e._currentValue;if(km!==e)if(e={context:e,memoizedValue:t,next:null},Qi===null){if(Ql===null)throw Error(X(308));Qi=e,Ql.dependencies={lanes:0,firstContext:e}}else Qi=Qi.next=e;return t}var ei=null;function Em(e){ei===null?ei=[e]:ei.push(e)}function w1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Em(t)):(n.next=i.next,i.next=n),t.interleaved=n,Jn(e,r)}function Jn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var cr=!1;function jm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _r(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Jn(e,n)}return i=r.interleaved,i===null?(t.next=t,Em(r)):(t.next=i.next,i.next=t),r.interleaved=t,Jn(e,n)}function xl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fm(e,n)}}function wv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jl(e,t,n,r){var i=e.updateQueue;cr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==a&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=c))}if(o!==null){var p=i.baseState;a=0,f=u=c=null,s=o;do{var d=s.lane,h=s.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var x=e,b=s;switch(d=t,h=n,b.tag){case 1:if(x=b.payload,typeof x=="function"){p=x.call(h,p,d);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,d=typeof x=="function"?x.call(h,p,d):x,d==null)break e;p=Le({},p,d);break e;case 2:cr=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=h,c=p):f=f.next=h,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);vi|=a,e.lanes=a,e.memoizedState=p}}function bv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var k1=new wy.Component().refs;function Wd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ru={isMounted:function(e){return(e=e._reactInternals)?Ci(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bt(),i=Er(e),o=Yn(r,i);o.payload=t,n!=null&&(o.callback=n),t=_r(e,o,i),t!==null&&(yn(t,e,i,r),xl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bt(),i=Er(e),o=Yn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=_r(e,o,i),t!==null&&(yn(t,e,i,r),xl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bt(),r=Er(e),i=Yn(n,r);i.tag=2,t!=null&&(i.callback=t),t=_r(e,i,r),t!==null&&(yn(t,e,r,n),xl(t,e,r))}};function kv(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!$a(n,r)||!$a(i,o):!0}function _1(e,t,n){var r=!1,i=Rr,o=t.contextType;return typeof o=="object"&&o!==null?o=sn(o):(i=Rt(t)?pi:mt.current,r=t.contextTypes,o=(r=r!=null)?ho(e,i):Rr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ru,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function _v(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ru.enqueueReplaceState(t,t.state,null)}function Vd(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=k1,jm(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=sn(o):(o=Rt(t)?pi:mt.current,i.context=ho(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Wd(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ru.enqueueReplaceState(i,i.state,null),Jl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Zo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;s===k1&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,e))}return e}function $s(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sv(e){var t=e._init;return t(e._payload)}function S1(e){function t(y,g){if(e){var k=y.deletions;k===null?(y.deletions=[g],y.flags|=16):k.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=jr(y,g),y.index=0,y.sibling=null,y}function o(y,g,k){return y.index=k,e?(k=y.alternate,k!==null?(k=k.index,k<g?(y.flags|=2,g):k):(y.flags|=2,g)):(y.flags|=1048576,g)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,g,k,_){return g===null||g.tag!==6?(g=lf(k,y.mode,_),g.return=y,g):(g=i(g,k),g.return=y,g)}function c(y,g,k,_){var S=k.type;return S===Hi?f(y,g,k.props.children,_,k.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===lr&&Sv(S)===g.type)?(_=i(g,k.props),_.ref=Zo(y,g,k),_.return=y,_):(_=Sl(k.type,k.key,k.props,null,y.mode,_),_.ref=Zo(y,g,k),_.return=y,_)}function u(y,g,k,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==k.containerInfo||g.stateNode.implementation!==k.implementation?(g=cf(k,y.mode,_),g.return=y,g):(g=i(g,k.children||[]),g.return=y,g)}function f(y,g,k,_,S){return g===null||g.tag!==7?(g=ai(k,y.mode,_,S),g.return=y,g):(g=i(g,k),g.return=y,g)}function p(y,g,k){if(typeof g=="string"&&g!==""||typeof g=="number")return g=lf(""+g,y.mode,k),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case As:return k=Sl(g.type,g.key,g.props,null,y.mode,k),k.ref=Zo(y,null,g),k.return=y,k;case Gi:return g=cf(g,y.mode,k),g.return=y,g;case lr:var _=g._init;return p(y,_(g._payload),k)}if(aa(g)||Wo(g))return g=ai(g,y.mode,k,null),g.return=y,g;$s(y,g)}return null}function d(y,g,k,_){var S=g!==null?g.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return S!==null?null:s(y,g,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case As:return k.key===S?c(y,g,k,_):null;case Gi:return k.key===S?u(y,g,k,_):null;case lr:return S=k._init,d(y,g,S(k._payload),_)}if(aa(k)||Wo(k))return S!==null?null:f(y,g,k,_,null);$s(y,k)}return null}function h(y,g,k,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(k)||null,s(g,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case As:return y=y.get(_.key===null?k:_.key)||null,c(g,y,_,S);case Gi:return y=y.get(_.key===null?k:_.key)||null,u(g,y,_,S);case lr:var N=_._init;return h(y,g,k,N(_._payload),S)}if(aa(_)||Wo(_))return y=y.get(k)||null,f(g,y,_,S,null);$s(g,_)}return null}function x(y,g,k,_){for(var S=null,N=null,T=g,j=g=0,F=null;T!==null&&j<k.length;j++){T.index>j?(F=T,T=null):F=T.sibling;var A=d(y,T,k[j],_);if(A===null){T===null&&(T=F);break}e&&T&&A.alternate===null&&t(y,T),g=o(A,g,j),N===null?S=A:N.sibling=A,N=A,T=F}if(j===k.length)return n(y,T),Pe&&Kr(y,j),S;if(T===null){for(;j<k.length;j++)T=p(y,k[j],_),T!==null&&(g=o(T,g,j),N===null?S=T:N.sibling=T,N=T);return Pe&&Kr(y,j),S}for(T=r(y,T);j<k.length;j++)F=h(T,y,j,k[j],_),F!==null&&(e&&F.alternate!==null&&T.delete(F.key===null?j:F.key),g=o(F,g,j),N===null?S=F:N.sibling=F,N=F);return e&&T.forEach(function(L){return t(y,L)}),Pe&&Kr(y,j),S}function b(y,g,k,_){var S=Wo(k);if(typeof S!="function")throw Error(X(150));if(k=S.call(k),k==null)throw Error(X(151));for(var N=S=null,T=g,j=g=0,F=null,A=k.next();T!==null&&!A.done;j++,A=k.next()){T.index>j?(F=T,T=null):F=T.sibling;var L=d(y,T,A.value,_);if(L===null){T===null&&(T=F);break}e&&T&&L.alternate===null&&t(y,T),g=o(L,g,j),N===null?S=L:N.sibling=L,N=L,T=F}if(A.done)return n(y,T),Pe&&Kr(y,j),S;if(T===null){for(;!A.done;j++,A=k.next())A=p(y,A.value,_),A!==null&&(g=o(A,g,j),N===null?S=A:N.sibling=A,N=A);return Pe&&Kr(y,j),S}for(T=r(y,T);!A.done;j++,A=k.next())A=h(T,y,j,A.value,_),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?j:A.key),g=o(A,g,j),N===null?S=A:N.sibling=A,N=A);return e&&T.forEach(function($){return t(y,$)}),Pe&&Kr(y,j),S}function C(y,g,k,_){if(typeof k=="object"&&k!==null&&k.type===Hi&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case As:e:{for(var S=k.key,N=g;N!==null;){if(N.key===S){if(S=k.type,S===Hi){if(N.tag===7){n(y,N.sibling),g=i(N,k.props.children),g.return=y,y=g;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===lr&&Sv(S)===N.type){n(y,N.sibling),g=i(N,k.props),g.ref=Zo(y,N,k),g.return=y,y=g;break e}n(y,N);break}else t(y,N);N=N.sibling}k.type===Hi?(g=ai(k.props.children,y.mode,_,k.key),g.return=y,y=g):(_=Sl(k.type,k.key,k.props,null,y.mode,_),_.ref=Zo(y,g,k),_.return=y,y=_)}return a(y);case Gi:e:{for(N=k.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===k.containerInfo&&g.stateNode.implementation===k.implementation){n(y,g.sibling),g=i(g,k.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else t(y,g);g=g.sibling}g=cf(k,y.mode,_),g.return=y,y=g}return a(y);case lr:return N=k._init,C(y,g,N(k._payload),_)}if(aa(k))return x(y,g,k,_);if(Wo(k))return b(y,g,k,_);$s(y,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,k),g.return=y,y=g):(n(y,g),g=lf(k,y.mode,_),g.return=y,y=g),a(y)):n(y,g)}return C}var go=S1(!0),E1=S1(!1),ms={},Tn=Or(ms),Ha=Or(ms),Wa=Or(ms);function ti(e){if(e===ms)throw Error(X(174));return e}function Cm(e,t){switch(je(Wa,t),je(Ha,e),je(Tn,ms),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sd(t,e)}Ae(Tn),je(Tn,t)}function xo(){Ae(Tn),Ae(Ha),Ae(Wa)}function j1(e){ti(Wa.current);var t=ti(Tn.current),n=Sd(t,e.type);t!==n&&(je(Ha,e),je(Tn,n))}function Im(e){Ha.current===e&&(Ae(Tn),Ae(Ha))}var De=Or(0);function ec(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tf=[];function Am(){for(var e=0;e<tf.length;e++)tf[e]._workInProgressVersionPrimary=null;tf.length=0}var yl=rr.ReactCurrentDispatcher,nf=rr.ReactCurrentBatchConfig,hi=0,Oe=null,We=null,et=null,tc=!1,xa=!1,Va=0,ZE=0;function lt(){throw Error(X(321))}function Nm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kn(e[n],t[n]))return!1;return!0}function Fm(e,t,n,r,i,o){if(hi=o,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yl.current=e===null||e.memoizedState===null?e2:t2,e=n(r,i),xa){o=0;do{if(xa=!1,Va=0,25<=o)throw Error(X(301));o+=1,et=We=null,t.updateQueue=null,yl.current=n2,e=n(r,i)}while(xa)}if(yl.current=nc,t=We!==null&&We.next!==null,hi=0,et=We=Oe=null,tc=!1,t)throw Error(X(300));return e}function Rm(){var e=Va!==0;return Va=0,e}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Oe.memoizedState=et=e:et=et.next=e,et}function ln(){if(We===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=et===null?Oe.memoizedState:et.next;if(t!==null)et=t,We=e;else{if(e===null)throw Error(X(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},et===null?Oe.memoizedState=et=e:et=et.next=e}return et}function Ka(e,t){return typeof t=="function"?t(e):t}function rf(e){var t=ln(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=We,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,c=null,u=o;do{var f=u.lane;if((hi&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(s=c=p,a=r):c=c.next=p,Oe.lanes|=f,vi|=f}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=s,kn(r,t.memoizedState)||(At=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Oe.lanes|=o,vi|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function of(e){var t=ln(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);kn(o,t.memoizedState)||(At=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function C1(){}function I1(e,t){var n=Oe,r=ln(),i=t(),o=!kn(r.memoizedState,i);if(o&&(r.memoizedState=i,At=!0),r=r.queue,Tm(F1.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,qa(9,N1.bind(null,n,r,i,t),void 0,null),nt===null)throw Error(X(349));hi&30||A1(n,t,i)}return i}function A1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function N1(e,t,n,r){t.value=n,t.getSnapshot=r,R1(t)&&T1(e)}function F1(e,t,n){return n(function(){R1(t)&&T1(e)})}function R1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kn(e,n)}catch{return!0}}function T1(e){var t=Jn(e,1);t!==null&&yn(t,e,1,-1)}function Ev(e){var t=jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:e},t.queue=e,e=e.dispatch=JE.bind(null,Oe,e),[t.memoizedState,e]}function qa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function P1(){return ln().memoizedState}function wl(e,t,n,r){var i=jn();Oe.flags|=e,i.memoizedState=qa(1|t,n,void 0,r===void 0?null:r)}function iu(e,t,n,r){var i=ln();r=r===void 0?null:r;var o=void 0;if(We!==null){var a=We.memoizedState;if(o=a.destroy,r!==null&&Nm(r,a.deps)){i.memoizedState=qa(t,n,o,r);return}}Oe.flags|=e,i.memoizedState=qa(1|t,n,o,r)}function jv(e,t){return wl(8390656,8,e,t)}function Tm(e,t){return iu(2048,8,e,t)}function D1(e,t){return iu(4,2,e,t)}function M1(e,t){return iu(4,4,e,t)}function O1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function L1(e,t,n){return n=n!=null?n.concat([e]):null,iu(4,4,O1.bind(null,t,e),n)}function Pm(){}function B1(e,t){var n=ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $1(e,t){var n=ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function U1(e,t,n){return hi&21?(kn(n,t)||(n=Hy(),Oe.lanes|=n,vi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=n)}function XE(e,t){var n=ye;ye=n!==0&&4>n?n:4,e(!0);var r=nf.transition;nf.transition={};try{e(!1),t()}finally{ye=n,nf.transition=r}}function z1(){return ln().memoizedState}function QE(e,t,n){var r=Er(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},G1(e))H1(t,n);else if(n=w1(e,t,n,r),n!==null){var i=bt();yn(n,e,r,i),W1(n,t,r)}}function JE(e,t,n){var r=Er(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(G1(e))H1(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,kn(s,a)){var c=t.interleaved;c===null?(i.next=i,Em(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=w1(e,t,i,r),n!==null&&(i=bt(),yn(n,e,r,i),W1(n,t,r))}}function G1(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function H1(e,t){xa=tc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function W1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fm(e,n)}}var nc={readContext:sn,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},e2={readContext:sn,useCallback:function(e,t){return jn().memoizedState=[e,t===void 0?null:t],e},useContext:sn,useEffect:jv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wl(4194308,4,O1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wl(4194308,4,e,t)},useInsertionEffect:function(e,t){return wl(4,2,e,t)},useMemo:function(e,t){var n=jn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=QE.bind(null,Oe,e),[r.memoizedState,e]},useRef:function(e){var t=jn();return e={current:e},t.memoizedState=e},useState:Ev,useDebugValue:Pm,useDeferredValue:function(e){return jn().memoizedState=e},useTransition:function(){var e=Ev(!1),t=e[0];return e=XE.bind(null,e[1]),jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Oe,i=jn();if(Pe){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),nt===null)throw Error(X(349));hi&30||A1(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,jv(F1.bind(null,r,o,e),[e]),r.flags|=2048,qa(9,N1.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=jn(),t=nt.identifierPrefix;if(Pe){var n=qn,r=Kn;n=(r&~(1<<32-xn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Va++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ZE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},t2={readContext:sn,useCallback:B1,useContext:sn,useEffect:Tm,useImperativeHandle:L1,useInsertionEffect:D1,useLayoutEffect:M1,useMemo:$1,useReducer:rf,useRef:P1,useState:function(){return rf(Ka)},useDebugValue:Pm,useDeferredValue:function(e){var t=ln();return U1(t,We.memoizedState,e)},useTransition:function(){var e=rf(Ka)[0],t=ln().memoizedState;return[e,t]},useMutableSource:C1,useSyncExternalStore:I1,useId:z1,unstable_isNewReconciler:!1},n2={readContext:sn,useCallback:B1,useContext:sn,useEffect:Tm,useImperativeHandle:L1,useInsertionEffect:D1,useLayoutEffect:M1,useMemo:$1,useReducer:of,useRef:P1,useState:function(){return of(Ka)},useDebugValue:Pm,useDeferredValue:function(e){var t=ln();return We===null?t.memoizedState=e:U1(t,We.memoizedState,e)},useTransition:function(){var e=of(Ka)[0],t=ln().memoizedState;return[e,t]},useMutableSource:C1,useSyncExternalStore:I1,useId:z1,unstable_isNewReconciler:!1};function yo(e,t){try{var n="",r=t;do n+=NS(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function af(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Kd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var r2=typeof WeakMap=="function"?WeakMap:Map;function V1(e,t,n){n=Yn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ic||(ic=!0,rp=r),Kd(e,t)},n}function K1(e,t,n){n=Yn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Kd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Kd(e,t),typeof r!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Cv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new r2;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=g2.bind(null,e,t,n),t.then(e,e))}function Iv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Av(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yn(-1,1),t.tag=2,_r(n,t,1))),n.lanes|=1),e)}var i2=rr.ReactCurrentOwner,At=!1;function xt(e,t,n,r){t.child=e===null?E1(t,null,n,r):go(t,e.child,n,r)}function Nv(e,t,n,r,i){n=n.render;var o=t.ref;return so(t,i),r=Fm(e,t,n,r,o,i),n=Rm(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,er(e,t,i)):(Pe&&n&&ym(t),t.flags|=1,xt(e,t,r,i),t.child)}function Fv(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!zm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,q1(e,t,o,r,i)):(e=Sl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:$a,n(a,r)&&e.ref===t.ref)return er(e,t,i)}return t.flags|=1,e=jr(o,r),e.ref=t.ref,e.return=t,t.child=e}function q1(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if($a(o,r)&&e.ref===t.ref)if(At=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(At=!0);else return t.lanes=e.lanes,er(e,t,i)}return qd(e,t,n,r,i)}function Y1(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(eo,Bt),Bt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(eo,Bt),Bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,je(eo,Bt),Bt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,je(eo,Bt),Bt|=r;return xt(e,t,i,n),t.child}function Z1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qd(e,t,n,r,i){var o=Rt(n)?pi:mt.current;return o=ho(t,o),so(t,i),n=Fm(e,t,n,r,o,i),r=Rm(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,er(e,t,i)):(Pe&&r&&ym(t),t.flags|=1,xt(e,t,n,i),t.child)}function Rv(e,t,n,r,i){if(Rt(n)){var o=!0;ql(t)}else o=!1;if(so(t,i),t.stateNode===null)bl(e,t),_1(t,n,r),Vd(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=sn(u):(u=Rt(n)?pi:mt.current,u=ho(t,u));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||c!==u)&&_v(t,a,r,u),cr=!1;var d=t.memoizedState;a.state=d,Jl(t,r,a,i),c=t.memoizedState,s!==r||d!==c||Ft.current||cr?(typeof f=="function"&&(Wd(t,n,f,r),c=t.memoizedState),(s=cr||kv(t,n,s,r,d,c,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,b1(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:mn(t.type,s),a.props=u,p=t.pendingProps,d=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=sn(c):(c=Rt(n)?pi:mt.current,c=ho(t,c));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==p||d!==c)&&_v(t,a,r,c),cr=!1,d=t.memoizedState,a.state=d,Jl(t,r,a,i);var x=t.memoizedState;s!==p||d!==x||Ft.current||cr?(typeof h=="function"&&(Wd(t,n,h,r),x=t.memoizedState),(u=cr||kv(t,n,u,r,d,x,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),a.props=r,a.state=x,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Yd(e,t,n,r,o,i)}function Yd(e,t,n,r,i,o){Z1(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&gv(t,n,!1),er(e,t,o);r=t.stateNode,i2.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=go(t,e.child,null,o),t.child=go(t,null,s,o)):xt(e,t,s,o),t.memoizedState=r.state,i&&gv(t,n,!0),t.child}function X1(e){var t=e.stateNode;t.pendingContext?vv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vv(e,t.context,!1),Cm(e,t.containerInfo)}function Tv(e,t,n,r,i){return vo(),bm(i),t.flags|=256,xt(e,t,n,r),t.child}var Zd={dehydrated:null,treeContext:null,retryLane:0};function Xd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Q1(e,t,n){var r=t.pendingProps,i=De.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),je(De,i&1),e===null)return Gd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=su(a,r,0,null),e=ai(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Xd(n),t.memoizedState=Zd,e):Dm(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return o2(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=jr(i,c),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=jr(s,o):(o=ai(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Xd(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Zd,r}return o=e.child,e=o.sibling,r=jr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Dm(e,t){return t=su({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Us(e,t,n,r){return r!==null&&bm(r),go(t,e.child,null,n),e=Dm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function o2(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=af(Error(X(422))),Us(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=su({mode:"visible",children:r.children},i,0,null),o=ai(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&go(t,e.child,null,a),t.child.memoizedState=Xd(a),t.memoizedState=Zd,o);if(!(t.mode&1))return Us(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(X(419)),r=af(o,r,void 0),Us(e,t,a,r)}if(s=(a&e.childLanes)!==0,At||s){if(r=nt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Jn(e,i),yn(r,e,i,-1))}return Um(),r=af(Error(X(421))),Us(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=x2.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ut=kr(i.nextSibling),Gt=t,Pe=!0,vn=null,e!==null&&(en[tn++]=Kn,en[tn++]=qn,en[tn++]=mi,Kn=e.id,qn=e.overflow,mi=t),t=Dm(t,r.children),t.flags|=4096,t)}function Pv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Hd(e.return,t,n)}function sf(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function J1(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xt(e,t,r.children,n),r=De.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pv(e,n,t);else if(e.tag===19)Pv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(je(De,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ec(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),sf(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ec(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}sf(t,!0,n,null,o);break;case"together":sf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function er(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=jr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=jr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function a2(e,t,n){switch(t.tag){case 3:X1(t),vo();break;case 5:j1(t);break;case 1:Rt(t.type)&&ql(t);break;case 4:Cm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;je(Xl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(je(De,De.current&1),t.flags|=128,null):n&t.child.childLanes?Q1(e,t,n):(je(De,De.current&1),e=er(e,t,n),e!==null?e.sibling:null);je(De,De.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return J1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(De,De.current),r)break;return null;case 22:case 23:return t.lanes=0,Y1(e,t,n)}return er(e,t,n)}var ew,Qd,tw,nw;ew=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qd=function(){};tw=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ti(Tn.current);var o=null;switch(n){case"input":i=wd(e,i),r=wd(e,r),o=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),o=[];break;case"textarea":i=_d(e,i),r=_d(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Vl)}Ed(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ta.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==s&&(c!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ta.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ie("scroll",e),o||s===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};nw=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xo(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function s2(e,t,n){var r=t.pendingProps;switch(wm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return Rt(t.type)&&Kl(),ct(t),null;case 3:return r=t.stateNode,xo(),Ae(Ft),Ae(mt),Am(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vn!==null&&(ap(vn),vn=null))),Qd(e,t),ct(t),null;case 5:Im(t);var i=ti(Wa.current);if(n=t.type,e!==null&&t.stateNode!=null)tw(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(X(166));return ct(t),null}if(e=ti(Tn.current),Bs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[In]=t,r[Ga]=o,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<la.length;i++)Ie(la[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Gh(r,o),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ie("invalid",r);break;case"textarea":Wh(r,o),Ie("invalid",r)}Ed(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Ls(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Ls(r.textContent,s,e),i=["children",""+s]):Ta.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Ns(r),Hh(r,o,!0);break;case"textarea":Ns(r),Vh(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ay(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[In]=t,e[Ga]=r,ew(e,t,!1,!1),t.stateNode=e;e:{switch(a=jd(n,r),n){case"dialog":Ie("cancel",e),Ie("close",e),i=r;break;case"iframe":case"object":case"embed":Ie("load",e),i=r;break;case"video":case"audio":for(i=0;i<la.length;i++)Ie(la[i],e);i=r;break;case"source":Ie("error",e),i=r;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),i=r;break;case"details":Ie("toggle",e),i=r;break;case"input":Gh(e,r),i=wd(e,r),Ie("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),Ie("invalid",e);break;case"textarea":Wh(e,r),i=_d(e,r),Ie("invalid",e);break;default:i=r}Ed(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="style"?Ry(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ny(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Pa(e,c):typeof c=="number"&&Pa(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ta.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ie("scroll",e):c!=null&&om(e,o,c,a))}switch(n){case"input":Ns(e),Hh(e,r,!1);break;case"textarea":Ns(e),Vh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Fr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ro(e,!!r.multiple,o,!1):r.defaultValue!=null&&ro(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Vl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ct(t),null;case 6:if(e&&t.stateNode!=null)nw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(n=ti(Wa.current),ti(Tn.current),Bs(t)){if(r=t.stateNode,n=t.memoizedProps,r[In]=t,(o=r.nodeValue!==n)&&(e=Gt,e!==null))switch(e.tag){case 3:Ls(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ls(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[In]=t,t.stateNode=r}return ct(t),null;case 13:if(Ae(De),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&Ut!==null&&t.mode&1&&!(t.flags&128))y1(),vo(),t.flags|=98560,o=!1;else if(o=Bs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(X(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(X(317));o[In]=t}else vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),o=!1}else vn!==null&&(ap(vn),vn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?Ve===0&&(Ve=3):Um())),t.updateQueue!==null&&(t.flags|=4),ct(t),null);case 4:return xo(),Qd(e,t),e===null&&Ua(t.stateNode.containerInfo),ct(t),null;case 10:return Sm(t.type._context),ct(t),null;case 17:return Rt(t.type)&&Kl(),ct(t),null;case 19:if(Ae(De),o=t.memoizedState,o===null)return ct(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Xo(o,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ec(e),a!==null){for(t.flags|=128,Xo(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return je(De,De.current&1|2),t.child}e=e.sibling}o.tail!==null&&ze()>wo&&(t.flags|=128,r=!0,Xo(o,!1),t.lanes=4194304)}else{if(!r)if(e=ec(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Pe)return ct(t),null}else 2*ze()-o.renderingStartTime>wo&&n!==1073741824&&(t.flags|=128,r=!0,Xo(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ze(),t.sibling=null,n=De.current,je(De,r?n&1|2:n&1),t):(ct(t),null);case 22:case 23:return $m(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Bt&1073741824&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function l2(e,t){switch(wm(t),t.tag){case 1:return Rt(t.type)&&Kl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xo(),Ae(Ft),Ae(mt),Am(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Im(t),null;case 13:if(Ae(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(De),null;case 4:return xo(),null;case 10:return Sm(t.type._context),null;case 22:case 23:return $m(),null;case 24:return null;default:return null}}var zs=!1,ft=!1,c2=typeof WeakSet=="function"?WeakSet:Set,J=null;function Ji(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(e,t,r)}else n.current=null}function Jd(e,t,n){try{n()}catch(r){Ue(e,t,r)}}var Dv=!1;function u2(e,t){if(Md=Gl,e=a1(),xm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,c=-1,u=0,f=0,p=e,d=null;t:for(;;){for(var h;p!==n||i!==0&&p.nodeType!==3||(s=a+i),p!==o||r!==0&&p.nodeType!==3||(c=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(h=p.firstChild)!==null;)d=p,p=h;for(;;){if(p===e)break t;if(d===n&&++u===i&&(s=a),d===o&&++f===r&&(c=a),(h=p.nextSibling)!==null)break;p=d,d=p.parentNode}p=h}n=s===-1||c===-1?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Od={focusedElem:e,selectionRange:n},Gl=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,C=x.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?b:mn(t.type,b),C);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(_){Ue(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return x=Dv,Dv=!1,x}function ya(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Jd(t,n,o)}i=i.next}while(i!==r)}}function ou(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ep(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rw(e){var t=e.alternate;t!==null&&(e.alternate=null,rw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[In],delete t[Ga],delete t[$d],delete t[VE],delete t[KE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iw(e){return e.tag===5||e.tag===3||e.tag===4}function Mv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vl));else if(r!==4&&(e=e.child,e!==null))for(tp(e,t,n),e=e.sibling;e!==null;)tp(e,t,n),e=e.sibling}function np(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(np(e,t,n),e=e.sibling;e!==null;)np(e,t,n),e=e.sibling}var rt=null,hn=!1;function ar(e,t,n){for(n=n.child;n!==null;)ow(e,t,n),n=n.sibling}function ow(e,t,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Xc,n)}catch{}switch(n.tag){case 5:ft||Ji(n,t);case 6:var r=rt,i=hn;rt=null,ar(e,t,n),rt=r,hn=i,rt!==null&&(hn?(e=rt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(hn?(e=rt,n=n.stateNode,e.nodeType===8?Ju(e.parentNode,n):e.nodeType===1&&Ju(e,n),La(e)):Ju(rt,n.stateNode));break;case 4:r=rt,i=hn,rt=n.stateNode.containerInfo,hn=!0,ar(e,t,n),rt=r,hn=i;break;case 0:case 11:case 14:case 15:if(!ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Jd(n,t,a),i=i.next}while(i!==r)}ar(e,t,n);break;case 1:if(!ft&&(Ji(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ue(n,t,s)}ar(e,t,n);break;case 21:ar(e,t,n);break;case 22:n.mode&1?(ft=(r=ft)||n.memoizedState!==null,ar(e,t,n),ft=r):ar(e,t,n);break;default:ar(e,t,n)}}function Ov(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new c2),t.forEach(function(r){var i=y2.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function dn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:rt=s.stateNode,hn=!1;break e;case 3:rt=s.stateNode.containerInfo,hn=!0;break e;case 4:rt=s.stateNode.containerInfo,hn=!0;break e}s=s.return}if(rt===null)throw Error(X(160));ow(o,a,i),rt=null,hn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ue(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)aw(t,e),t=t.sibling}function aw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dn(t,e),_n(e),r&4){try{ya(3,e,e.return),ou(3,e)}catch(b){Ue(e,e.return,b)}try{ya(5,e,e.return)}catch(b){Ue(e,e.return,b)}}break;case 1:dn(t,e),_n(e),r&512&&n!==null&&Ji(n,n.return);break;case 5:if(dn(t,e),_n(e),r&512&&n!==null&&Ji(n,n.return),e.flags&32){var i=e.stateNode;try{Pa(i,"")}catch(b){Ue(e,e.return,b)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Cy(i,o),jd(s,a);var u=jd(s,o);for(a=0;a<c.length;a+=2){var f=c[a],p=c[a+1];f==="style"?Ry(i,p):f==="dangerouslySetInnerHTML"?Ny(i,p):f==="children"?Pa(i,p):om(i,f,p,u)}switch(s){case"input":bd(i,o);break;case"textarea":Iy(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?ro(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?ro(i,!!o.multiple,o.defaultValue,!0):ro(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ga]=o}catch(b){Ue(e,e.return,b)}}break;case 6:if(dn(t,e),_n(e),r&4){if(e.stateNode===null)throw Error(X(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(b){Ue(e,e.return,b)}}break;case 3:if(dn(t,e),_n(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{La(t.containerInfo)}catch(b){Ue(e,e.return,b)}break;case 4:dn(t,e),_n(e);break;case 13:dn(t,e),_n(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Lm=ze())),r&4&&Ov(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ft=(u=ft)||f,dn(t,e),ft=u):dn(t,e),_n(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(J=e,f=e.child;f!==null;){for(p=J=f;J!==null;){switch(d=J,h=d.child,d.tag){case 0:case 11:case 14:case 15:ya(4,d,d.return);break;case 1:Ji(d,d.return);var x=d.stateNode;if(typeof x.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(b){Ue(r,n,b)}}break;case 5:Ji(d,d.return);break;case 22:if(d.memoizedState!==null){Bv(p);continue}}h!==null?(h.return=d,J=h):Bv(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=Fy("display",a))}catch(b){Ue(e,e.return,b)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(b){Ue(e,e.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:dn(t,e),_n(e),r&4&&Ov(e);break;case 21:break;default:dn(t,e),_n(e)}}function _n(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(iw(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pa(i,""),r.flags&=-33);var o=Mv(e);np(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Mv(e);tp(e,s,a);break;default:throw Error(X(161))}}catch(c){Ue(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function f2(e,t,n){J=e,sw(e)}function sw(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var i=J,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||zs;if(!a){var s=i.alternate,c=s!==null&&s.memoizedState!==null||ft;s=zs;var u=ft;if(zs=a,(ft=c)&&!u)for(J=i;J!==null;)a=J,c=a.child,a.tag===22&&a.memoizedState!==null?$v(i):c!==null?(c.return=a,J=c):$v(i);for(;o!==null;)J=o,sw(o),o=o.sibling;J=i,zs=s,ft=u}Lv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,J=o):Lv(e)}}function Lv(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ft||ou(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ft)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&bv(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}bv(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&La(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}ft||t.flags&512&&ep(t)}catch(d){Ue(t,t.return,d)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function Bv(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function $v(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ou(4,t)}catch(c){Ue(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Ue(t,i,c)}}var o=t.return;try{ep(t)}catch(c){Ue(t,o,c)}break;case 5:var a=t.return;try{ep(t)}catch(c){Ue(t,a,c)}}}catch(c){Ue(t,t.return,c)}if(t===e){J=null;break}var s=t.sibling;if(s!==null){s.return=t.return,J=s;break}J=t.return}}var d2=Math.ceil,rc=rr.ReactCurrentDispatcher,Mm=rr.ReactCurrentOwner,an=rr.ReactCurrentBatchConfig,he=0,nt=null,Ge=null,at=0,Bt=0,eo=Or(0),Ve=0,Ya=null,vi=0,au=0,Om=0,wa=null,Ct=null,Lm=0,wo=1/0,zn=null,ic=!1,rp=null,Sr=null,Gs=!1,vr=null,oc=0,ba=0,ip=null,kl=-1,_l=0;function bt(){return he&6?ze():kl!==-1?kl:kl=ze()}function Er(e){return e.mode&1?he&2&&at!==0?at&-at:YE.transition!==null?(_l===0&&(_l=Hy()),_l):(e=ye,e!==0||(e=window.event,e=e===void 0?16:Xy(e.type)),e):1}function yn(e,t,n,r){if(50<ba)throw ba=0,ip=null,Error(X(185));fs(e,n,r),(!(he&2)||e!==nt)&&(e===nt&&(!(he&2)&&(au|=n),Ve===4&&dr(e,at)),Tt(e,r),n===1&&he===0&&!(t.mode&1)&&(wo=ze()+500,nu&&Lr()))}function Tt(e,t){var n=e.callbackNode;YS(e,t);var r=zl(e,e===nt?at:0);if(r===0)n!==null&&Yh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Yh(n),t===1)e.tag===0?qE(Uv.bind(null,e)):v1(Uv.bind(null,e)),HE(function(){!(he&6)&&Lr()}),n=null;else{switch(Wy(r)){case 1:n=um;break;case 4:n=zy;break;case 16:n=Ul;break;case 536870912:n=Gy;break;default:n=Ul}n=hw(n,lw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lw(e,t){if(kl=-1,_l=0,he&6)throw Error(X(327));var n=e.callbackNode;if(lo()&&e.callbackNode!==n)return null;var r=zl(e,e===nt?at:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ac(e,r);else{t=r;var i=he;he|=2;var o=uw();(nt!==e||at!==t)&&(zn=null,wo=ze()+500,oi(e,t));do try{h2();break}catch(s){cw(e,s)}while(!0);_m(),rc.current=o,he=i,Ge!==null?t=0:(nt=null,at=0,t=Ve)}if(t!==0){if(t===2&&(i=Fd(e),i!==0&&(r=i,t=op(e,i))),t===1)throw n=Ya,oi(e,0),dr(e,r),Tt(e,ze()),n;if(t===6)dr(e,r);else{if(i=e.current.alternate,!(r&30)&&!p2(i)&&(t=ac(e,r),t===2&&(o=Fd(e),o!==0&&(r=o,t=op(e,o))),t===1))throw n=Ya,oi(e,0),dr(e,r),Tt(e,ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(X(345));case 2:qr(e,Ct,zn);break;case 3:if(dr(e,r),(r&130023424)===r&&(t=Lm+500-ze(),10<t)){if(zl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){bt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Bd(qr.bind(null,e,Ct,zn),t);break}qr(e,Ct,zn);break;case 4:if(dr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-xn(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*d2(r/1960))-r,10<r){e.timeoutHandle=Bd(qr.bind(null,e,Ct,zn),r);break}qr(e,Ct,zn);break;case 5:qr(e,Ct,zn);break;default:throw Error(X(329))}}}return Tt(e,ze()),e.callbackNode===n?lw.bind(null,e):null}function op(e,t){var n=wa;return e.current.memoizedState.isDehydrated&&(oi(e,t).flags|=256),e=ac(e,t),e!==2&&(t=Ct,Ct=n,t!==null&&ap(t)),e}function ap(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function p2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!kn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dr(e,t){for(t&=~Om,t&=~au,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xn(t),r=1<<n;e[n]=-1,t&=~r}}function Uv(e){if(he&6)throw Error(X(327));lo();var t=zl(e,0);if(!(t&1))return Tt(e,ze()),null;var n=ac(e,t);if(e.tag!==0&&n===2){var r=Fd(e);r!==0&&(t=r,n=op(e,r))}if(n===1)throw n=Ya,oi(e,0),dr(e,t),Tt(e,ze()),n;if(n===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qr(e,Ct,zn),Tt(e,ze()),null}function Bm(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&(wo=ze()+500,nu&&Lr())}}function gi(e){vr!==null&&vr.tag===0&&!(he&6)&&lo();var t=he;he|=1;var n=an.transition,r=ye;try{if(an.transition=null,ye=1,e)return e()}finally{ye=r,an.transition=n,he=t,!(he&6)&&Lr()}}function $m(){Bt=eo.current,Ae(eo)}function oi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,GE(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(wm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kl();break;case 3:xo(),Ae(Ft),Ae(mt),Am();break;case 5:Im(r);break;case 4:xo();break;case 13:Ae(De);break;case 19:Ae(De);break;case 10:Sm(r.type._context);break;case 22:case 23:$m()}n=n.return}if(nt=e,Ge=e=jr(e.current,null),at=Bt=t,Ve=0,Ya=null,Om=au=vi=0,Ct=wa=null,ei!==null){for(t=0;t<ei.length;t++)if(n=ei[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}ei=null}return e}function cw(e,t){do{var n=Ge;try{if(_m(),yl.current=nc,tc){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}tc=!1}if(hi=0,et=We=Oe=null,xa=!1,Va=0,Mm.current=null,n===null||n.return===null){Ve=1,Ya=t,Ge=null;break}e:{var o=e,a=n.return,s=n,c=t;if(t=at,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=s,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=Iv(a);if(h!==null){h.flags&=-257,Av(h,a,s,o,t),h.mode&1&&Cv(o,u,t),t=h,c=u;var x=t.updateQueue;if(x===null){var b=new Set;b.add(c),t.updateQueue=b}else x.add(c);break e}else{if(!(t&1)){Cv(o,u,t),Um();break e}c=Error(X(426))}}else if(Pe&&s.mode&1){var C=Iv(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Av(C,a,s,o,t),bm(yo(c,s));break e}}o=c=yo(c,s),Ve!==4&&(Ve=2),wa===null?wa=[o]:wa.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=V1(o,c,t);wv(o,y);break e;case 1:s=c;var g=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Sr===null||!Sr.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=K1(o,s,t);wv(o,_);break e}}o=o.return}while(o!==null)}dw(n)}catch(S){t=S,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function uw(){var e=rc.current;return rc.current=nc,e===null?nc:e}function Um(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),nt===null||!(vi&268435455)&&!(au&268435455)||dr(nt,at)}function ac(e,t){var n=he;he|=2;var r=uw();(nt!==e||at!==t)&&(zn=null,oi(e,t));do try{m2();break}catch(i){cw(e,i)}while(!0);if(_m(),he=n,rc.current=r,Ge!==null)throw Error(X(261));return nt=null,at=0,Ve}function m2(){for(;Ge!==null;)fw(Ge)}function h2(){for(;Ge!==null&&!$S();)fw(Ge)}function fw(e){var t=mw(e.alternate,e,Bt);e.memoizedProps=e.pendingProps,t===null?dw(e):Ge=t,Mm.current=null}function dw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=l2(n,t),n!==null){n.flags&=32767,Ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,Ge=null;return}}else if(n=s2(n,t,Bt),n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);Ve===0&&(Ve=5)}function qr(e,t,n){var r=ye,i=an.transition;try{an.transition=null,ye=1,v2(e,t,n,r)}finally{an.transition=i,ye=r}return null}function v2(e,t,n,r){do lo();while(vr!==null);if(he&6)throw Error(X(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(ZS(e,o),e===nt&&(Ge=nt=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gs||(Gs=!0,hw(Ul,function(){return lo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=an.transition,an.transition=null;var a=ye;ye=1;var s=he;he|=4,Mm.current=null,u2(e,n),aw(n,e),ME(Od),Gl=!!Md,Od=Md=null,e.current=n,f2(n),US(),he=s,ye=a,an.transition=o}else e.current=n;if(Gs&&(Gs=!1,vr=e,oc=i),o=e.pendingLanes,o===0&&(Sr=null),HS(n.stateNode),Tt(e,ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ic)throw ic=!1,e=rp,rp=null,e;return oc&1&&e.tag!==0&&lo(),o=e.pendingLanes,o&1?e===ip?ba++:(ba=0,ip=e):ba=0,Lr(),null}function lo(){if(vr!==null){var e=Wy(oc),t=an.transition,n=ye;try{if(an.transition=null,ye=16>e?16:e,vr===null)var r=!1;else{if(e=vr,vr=null,oc=0,he&6)throw Error(X(331));var i=he;for(he|=4,J=e.current;J!==null;){var o=J,a=o.child;if(J.flags&16){var s=o.deletions;if(s!==null){for(var c=0;c<s.length;c++){var u=s[c];for(J=u;J!==null;){var f=J;switch(f.tag){case 0:case 11:case 15:ya(8,f,o)}var p=f.child;if(p!==null)p.return=f,J=p;else for(;J!==null;){f=J;var d=f.sibling,h=f.return;if(rw(f),f===u){J=null;break}if(d!==null){d.return=h,J=d;break}J=h}}}var x=o.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var C=b.sibling;b.sibling=null,b=C}while(b!==null)}}J=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,J=a;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ya(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,J=y;break e}J=o.return}}var g=e.current;for(J=g;J!==null;){a=J;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,J=k;else e:for(a=g;J!==null;){if(s=J,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ou(9,s)}}catch(S){Ue(s,s.return,S)}if(s===a){J=null;break e}var _=s.sibling;if(_!==null){_.return=s.return,J=_;break e}J=s.return}}if(he=i,Lr(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Xc,e)}catch{}r=!0}return r}finally{ye=n,an.transition=t}}return!1}function zv(e,t,n){t=yo(n,t),t=V1(e,t,1),e=_r(e,t,1),t=bt(),e!==null&&(fs(e,1,t),Tt(e,t))}function Ue(e,t,n){if(e.tag===3)zv(e,e,n);else for(;t!==null;){if(t.tag===3){zv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sr===null||!Sr.has(r))){e=yo(n,e),e=K1(t,e,1),t=_r(t,e,1),e=bt(),t!==null&&(fs(t,1,e),Tt(t,e));break}}t=t.return}}function g2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=bt(),e.pingedLanes|=e.suspendedLanes&n,nt===e&&(at&n)===n&&(Ve===4||Ve===3&&(at&130023424)===at&&500>ze()-Lm?oi(e,0):Om|=n),Tt(e,t)}function pw(e,t){t===0&&(e.mode&1?(t=Ts,Ts<<=1,!(Ts&130023424)&&(Ts=4194304)):t=1);var n=bt();e=Jn(e,t),e!==null&&(fs(e,t,n),Tt(e,n))}function x2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),pw(e,n)}function y2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(t),pw(e,n)}var mw;mw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ft.current)At=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return At=!1,a2(e,t,n);At=!!(e.flags&131072)}else At=!1,Pe&&t.flags&1048576&&g1(t,Zl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;bl(e,t),e=t.pendingProps;var i=ho(t,mt.current);so(t,n),i=Fm(null,t,r,e,i,n);var o=Rm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rt(r)?(o=!0,ql(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jm(t),i.updater=ru,t.stateNode=i,i._reactInternals=t,Vd(t,r,e,n),t=Yd(null,t,r,!0,o,n)):(t.tag=0,Pe&&o&&ym(t),xt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(bl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=b2(r),e=mn(r,e),i){case 0:t=qd(null,t,r,e,n);break e;case 1:t=Rv(null,t,r,e,n);break e;case 11:t=Nv(null,t,r,e,n);break e;case 14:t=Fv(null,t,r,mn(r.type,e),n);break e}throw Error(X(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mn(r,i),qd(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mn(r,i),Rv(e,t,r,i,n);case 3:e:{if(X1(t),e===null)throw Error(X(387));r=t.pendingProps,o=t.memoizedState,i=o.element,b1(e,t),Jl(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=yo(Error(X(423)),t),t=Tv(e,t,r,n,i);break e}else if(r!==i){i=yo(Error(X(424)),t),t=Tv(e,t,r,n,i);break e}else for(Ut=kr(t.stateNode.containerInfo.firstChild),Gt=t,Pe=!0,vn=null,n=E1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vo(),r===i){t=er(e,t,n);break e}xt(e,t,r,n)}t=t.child}return t;case 5:return j1(t),e===null&&Gd(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Ld(r,i)?a=null:o!==null&&Ld(r,o)&&(t.flags|=32),Z1(e,t),xt(e,t,a,n),t.child;case 6:return e===null&&Gd(t),null;case 13:return Q1(e,t,n);case 4:return Cm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=go(t,null,r,n):xt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mn(r,i),Nv(e,t,r,i,n);case 7:return xt(e,t,t.pendingProps,n),t.child;case 8:return xt(e,t,t.pendingProps.children,n),t.child;case 12:return xt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,je(Xl,r._currentValue),r._currentValue=a,o!==null)if(kn(o.value,a)){if(o.children===i.children&&!Ft.current){t=er(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var c=s.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Yn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Hd(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(X(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Hd(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}xt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,so(t,n),i=sn(i),r=r(i),t.flags|=1,xt(e,t,r,n),t.child;case 14:return r=t.type,i=mn(r,t.pendingProps),i=mn(r.type,i),Fv(e,t,r,i,n);case 15:return q1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mn(r,i),bl(e,t),t.tag=1,Rt(r)?(e=!0,ql(t)):e=!1,so(t,n),_1(t,r,i),Vd(t,r,i,n),Yd(null,t,r,!0,e,n);case 19:return J1(e,t,n);case 22:return Y1(e,t,n)}throw Error(X(156,t.tag))};function hw(e,t){return Uy(e,t)}function w2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,r){return new w2(e,t,n,r)}function zm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function b2(e){if(typeof e=="function")return zm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sm)return 11;if(e===lm)return 14}return 2}function jr(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Sl(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")zm(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Hi:return ai(n.children,i,o,t);case am:a=8,i|=8;break;case vd:return e=on(12,n,t,i|2),e.elementType=vd,e.lanes=o,e;case gd:return e=on(13,n,t,i),e.elementType=gd,e.lanes=o,e;case xd:return e=on(19,n,t,i),e.elementType=xd,e.lanes=o,e;case Sy:return su(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ky:a=10;break e;case _y:a=9;break e;case sm:a=11;break e;case lm:a=14;break e;case lr:a=16,r=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=on(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function ai(e,t,n,r){return e=on(7,e,r,t),e.lanes=n,e}function su(e,t,n,r){return e=on(22,e,r,t),e.elementType=Sy,e.lanes=n,e.stateNode={isHidden:!1},e}function lf(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function cf(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function k2(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zu(0),this.expirationTimes=zu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gm(e,t,n,r,i,o,a,s,c){return e=new k2(e,t,n,s,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=on(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jm(o),e}function _2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vw(e){if(!e)return Rr;e=e._reactInternals;e:{if(Ci(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var n=e.type;if(Rt(n))return h1(e,n,t)}return t}function gw(e,t,n,r,i,o,a,s,c){return e=Gm(n,r,!0,e,i,o,a,s,c),e.context=vw(null),n=e.current,r=bt(),i=Er(n),o=Yn(r,i),o.callback=t??null,_r(n,o,i),e.current.lanes=i,fs(e,i,r),Tt(e,r),e}function lu(e,t,n,r){var i=t.current,o=bt(),a=Er(i);return n=vw(n),t.context===null?t.context=n:t.pendingContext=n,t=Yn(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_r(i,t,a),e!==null&&(yn(e,i,a,o),xl(e,i,a)),a}function sc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hm(e,t){Gv(e,t),(e=e.alternate)&&Gv(e,t)}function S2(){return null}var xw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wm(e){this._internalRoot=e}cu.prototype.render=Wm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));lu(e,t,null,null)};cu.prototype.unmount=Wm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gi(function(){lu(null,e,null,null)}),t[Qn]=null}};function cu(e){this._internalRoot=e}cu.prototype.unstable_scheduleHydration=function(e){if(e){var t=qy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fr.length&&t!==0&&t<fr[n].priority;n++);fr.splice(n,0,e),n===0&&Zy(e)}};function Vm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hv(){}function E2(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=sc(a);o.call(u)}}var a=gw(t,r,e,0,null,!1,!1,"",Hv);return e._reactRootContainer=a,e[Qn]=a.current,Ua(e.nodeType===8?e.parentNode:e),gi(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=sc(c);s.call(u)}}var c=Gm(e,0,!1,null,null,!1,!1,"",Hv);return e._reactRootContainer=c,e[Qn]=c.current,Ua(e.nodeType===8?e.parentNode:e),gi(function(){lu(t,c,n,r)}),c}function fu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var c=sc(a);s.call(c)}}lu(t,a,e,i)}else a=E2(n,t,e,i,r);return sc(a)}Vy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=sa(t.pendingLanes);n!==0&&(fm(t,n|1),Tt(t,ze()),!(he&6)&&(wo=ze()+500,Lr()))}break;case 13:gi(function(){var r=Jn(e,1);if(r!==null){var i=bt();yn(r,e,1,i)}}),Hm(e,1)}};dm=function(e){if(e.tag===13){var t=Jn(e,134217728);if(t!==null){var n=bt();yn(t,e,134217728,n)}Hm(e,134217728)}};Ky=function(e){if(e.tag===13){var t=Er(e),n=Jn(e,t);if(n!==null){var r=bt();yn(n,e,t,r)}Hm(e,t)}};qy=function(){return ye};Yy=function(e,t){var n=ye;try{return ye=e,t()}finally{ye=n}};Id=function(e,t,n){switch(t){case"input":if(bd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=tu(r);if(!i)throw Error(X(90));jy(r),bd(r,i)}}}break;case"textarea":Iy(e,n);break;case"select":t=n.value,t!=null&&ro(e,!!n.multiple,t,!1)}};Dy=Bm;My=gi;var j2={usingClientEntryPoint:!1,Events:[ps,qi,tu,Ty,Py,Bm]},Qo={findFiberByHostInstance:Jr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},C2={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=By(e),e===null?null:e.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||S2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hs.isDisabled&&Hs.supportsFiber)try{Xc=Hs.inject(C2),Rn=Hs}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j2;qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vm(t))throw Error(X(200));return _2(e,t,null,n)};qt.createRoot=function(e,t){if(!Vm(e))throw Error(X(299));var n=!1,r="",i=xw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Gm(e,1,!1,null,null,n,!1,r,i),e[Qn]=t.current,Ua(e.nodeType===8?e.parentNode:e),new Wm(t)};qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=By(t),e=e===null?null:e.stateNode,e};qt.flushSync=function(e){return gi(e)};qt.hydrate=function(e,t,n){if(!uu(t))throw Error(X(200));return fu(null,e,t,!0,n)};qt.hydrateRoot=function(e,t,n){if(!Vm(e))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=xw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=gw(t,null,e,1,n??null,i,!1,o,a),e[Qn]=t.current,Ua(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new cu(t)};qt.render=function(e,t,n){if(!uu(t))throw Error(X(200));return fu(null,e,t,!1,n)};qt.unmountComponentAtNode=function(e){if(!uu(e))throw Error(X(40));return e._reactRootContainer?(gi(function(){fu(null,null,e,!1,function(){e._reactRootContainer=null,e[Qn]=null})}),!0):!1};qt.unstable_batchedUpdates=Bm;qt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!uu(n))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return fu(e,t,n,!1,r)};qt.version="18.2.0-next-9e3b772b8-20220608";function yw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yw)}catch(e){console.error(e)}}yw(),gy.exports=qt;var du=gy.exports,Wv=du;md.createRoot=Wv.createRoot,md.hydrateRoot=Wv.hydrateRoot;const ww=R.createContext(void 0);function oe({children:e,onClick:t,color:n,disabled:r}){let i;r?i=n==="success"?"bg-emerald-400 text-emerald-100":n==="danger"?"bg-rose-400 text-rose-100":"bg-slate-400 text-slate-100":(i=n==="success"?"bg-emerald-600 hover:bg-emerald-500 text-white":n==="danger"?"bg-rose-600 hover:bg-rose-500 text-white":"bg-slate-600 hover:bg-slate-500 text-white",i+=" hover:underline");const o=r?"cursor-not-allowed":"";return l.jsx("button",{className:`${i} ${o} inline-flex items-center font-bold px-2.5 py-1.5 rounded-sm`,onClick:()=>!r&&t(),disabled:r,children:e})}var bw={exports:{}},I2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",A2=I2,N2=A2;function kw(){}function _w(){}_w.resetWarningCache=kw;var F2=function(){function e(r,i,o,a,s,c){if(c!==N2){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:_w,resetWarningCache:kw};return n.PropTypes=n,n};bw.exports=F2();var R2=bw.exports;const Hr=Yc(R2);var T2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},P2=Object.defineProperty,D2=Object.defineProperties,M2=Object.getOwnPropertyDescriptors,lc=Object.getOwnPropertySymbols,Sw=Object.prototype.hasOwnProperty,Ew=Object.prototype.propertyIsEnumerable,Vv=(e,t,n)=>t in e?P2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kv=(e,t)=>{for(var n in t||(t={}))Sw.call(t,n)&&Vv(e,n,t[n]);if(lc)for(var n of lc(t))Ew.call(t,n)&&Vv(e,n,t[n]);return e},O2=(e,t)=>D2(e,M2(t)),L2=(e,t)=>{var n={};for(var r in e)Sw.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lc)for(var r of lc(e))t.indexOf(r)<0&&Ew.call(e,r)&&(n[r]=e[r]);return n},le=(e,t,n)=>{const r=B.forwardRef((i,o)=>{var a=i,{color:s="currentColor",size:c=24,stroke:u=2,children:f}=a,p=L2(a,["color","size","stroke","children"]);return B.createElement("svg",Kv(O2(Kv({ref:o},T2),{width:c,height:c,stroke:s,strokeWidth:u,className:`tabler-icon tabler-icon-${e}`}),p),[...n.map(([d,h])=>B.createElement(d,h)),...f||[]])});return r.propTypes={color:Hr.string,size:Hr.oneOfType([Hr.string,Hr.number]),stroke:Hr.oneOfType([Hr.string,Hr.number])},r.displayName=`${t}`,r},B2=le("alert-triangle","IconAlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),$2=le("arrow-down","IconArrowDown",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 13l-6 6",key:"svg-1"}],["path",{d:"M6 13l6 6",key:"svg-2"}]]),U2=le("arrow-fork","IconArrowFork",[["path",{d:"M16 3h5v5",key:"svg-0"}],["path",{d:"M8 3h-5v5",key:"svg-1"}],["path",{d:"M21 3l-7.536 7.536a5 5 0 0 0 -1.464 3.534v6.93",key:"svg-2"}],["path",{d:"M3 3l7.536 7.536a5 5 0 0 1 1.464 3.534v.93",key:"svg-3"}]]),z2=le("arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),G2=le("box-multiple","IconBoxMultiple",[["path",{d:"M7 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M17 17v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-1"}]]),H2=le("caret-down","IconCaretDown",[["path",{d:"M6 10l6 6l6 -6h-12",key:"svg-0"}]]),W2=le("caret-up","IconCaretUp",[["path",{d:"M18 14l-6 -6l-6 6h12",key:"svg-0"}]]),V2=le("check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]),K2=le("circle-caret-down","IconCircleCaretDown",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 15l-4 -4h8z",key:"svg-1"}]]),q2=le("circle-caret-up","IconCircleCaretUp",[["path",{d:"M12 9l4 4h-8z",key:"svg-0"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-1"}]]),Y2=le("circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]),Z2=le("circle-dot","IconCircleDot",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-1"}]]),X2=le("circle-off","IconCircleOff",[["path",{d:"M20.042 16.045a9 9 0 0 0 -12.087 -12.087m-2.318 1.677a9 9 0 1 0 12.725 12.73",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]),Q2=le("circle-plus","IconCirclePlus",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M9 12h6",key:"svg-1"}],["path",{d:"M12 9v6",key:"svg-2"}]]),J2=le("circle-x","IconCircleX",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M10 10l4 4m0 -4l-4 4",key:"svg-1"}]]),ej=le("circle","IconCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}]]),tj=le("device-floppy","IconDeviceFloppy",[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]]),nj=le("download","IconDownload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]),rj=le("exclamation-circle","IconExclamationCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 9v4",key:"svg-1"}],["path",{d:"M12 16v.01",key:"svg-2"}]]),qv=le("file","IconFile",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}]]),ij=le("folder-open","IconFolderOpen",[["path",{d:"M5 19l2.757 -7.351a1 1 0 0 1 .936 -.649h12.307a1 1 0 0 1 .986 1.164l-.996 5.211a2 2 0 0 1 -1.964 1.625h-14.026a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v2",key:"svg-0"}]]),oj=le("help","IconHelp",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 17l0 .01",key:"svg-1"}],["path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4",key:"svg-2"}]]),aj=le("info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]),sj=le("minus","IconMinus",[["path",{d:"M5 12l14 0",key:"svg-0"}]]),lj=le("package-export","IconPackageExport",[["path",{d:"M12 21l-8 -4.5v-9l8 -4.5l8 4.5v4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12v9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}],["path",{d:"M15 18h7",key:"svg-4"}],["path",{d:"M19 15l3 3l-3 3",key:"svg-5"}]]),cj=le("pencil","IconPencil",[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]]),uj=le("photo-cancel","IconPhotoCancel",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M12.5 21h-6.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v6.5",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-2"}],["path",{d:"M14 14l1 -1c.616 -.593 1.328 -.792 2.008 -.598",key:"svg-3"}],["path",{d:"M19 19m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-4"}],["path",{d:"M17 21l4 -4",key:"svg-5"}]]),fj=le("photo-check","IconPhotoCheck",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M11.5 21h-5.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v7",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l4 4",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l.5 .5",key:"svg-3"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-4"}]]),dj=le("photo-down","IconPhotoDown",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M12.5 21h-6.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v6.5",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l4 4",key:"svg-2"}],["path",{d:"M14 14l1 -1c.653 -.629 1.413 -.815 2.13 -.559",key:"svg-3"}],["path",{d:"M19 16v6",key:"svg-4"}],["path",{d:"M22 19l-3 3l-3 -3",key:"svg-5"}]]),pj=le("photo-share","IconPhotoShare",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M12 21h-6a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v7",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0",key:"svg-3"}],["path",{d:"M16 22l5 -5",key:"svg-4"}],["path",{d:"M21 21.5v-4.5h-4.5",key:"svg-5"}]]),mj=le("player-skip-back","IconPlayerSkipBack",[["path",{d:"M20 5v14l-12 -7z",key:"svg-0"}],["path",{d:"M4 5l0 14",key:"svg-1"}]]),hj=le("player-skip-forward","IconPlayerSkipForward",[["path",{d:"M4 5v14l12 -7z",key:"svg-0"}],["path",{d:"M20 5l0 14",key:"svg-1"}]]),vj=le("player-track-next","IconPlayerTrackNext",[["path",{d:"M3 5v14l8 -7z",key:"svg-0"}],["path",{d:"M14 5v14l8 -7z",key:"svg-1"}]]),gj=le("plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]),xj=le("refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]),yj=le("settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]),wj=le("square-number-1","IconSquareNumber1",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M10 10l2 -2v8",key:"svg-1"}]]),bj=le("stack","IconStack",[["path",{d:"M12 6l-8 4l8 4l8 -4l-8 -4",key:"svg-0"}],["path",{d:"M4 14l8 4l8 -4",key:"svg-1"}]]),kj=le("trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]),Yv=le("x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);const ie={Help:oj,Delete:kj,Warning:B2,Error:rj,ArrowDown:$2,ArrowFork:U2,ArrowRight:z2,ImportProject:nj,BlankProject:qv,NewFile:qv,OpenFile:ij,SaveFile:tj,ExportFile:lj,ExportImage:pj,CaretUp:W2,CaretDown:H2,Options:yj,Plus:gj,CirclePlus:Q2,Minus:sj,Close:Yv,Block:X2,X:Yv,Circle:ej,CircleDot:Z2,CircleX:J2,Check:V2,CircleCheck:Y2,CircleCaretUp:q2,CircleCaretDown:K2,Prev:mj,Next:hj,NextAll:vj,PhotoLossless:fj,PhotoLossy:dj,PhotoError:uj,Edit:cj,CompositeSubframes:bj,SingleLayered:wj,MultiLayered:G2,Info:aj,Reset:xj};var _j={BASE_URL:"/gaf-studio-web",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Zv=e=>{let t;const n=new Set,r=(f,p)=>{const d=typeof f=="function"?f(t):f;if(!Object.is(d,t)){const h=t;t=p??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(x=>x(t,h))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(_j?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,c);return c},pu=e=>e?Zv(e):Zv;var jw={exports:{}},Cw={},Iw={exports:{}},Aw={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bo=B;function Sj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ej=typeof Object.is=="function"?Object.is:Sj,jj=bo.useState,Cj=bo.useEffect,Ij=bo.useLayoutEffect,Aj=bo.useDebugValue;function Nj(e,t){var n=t(),r=jj({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return Ij(function(){i.value=n,i.getSnapshot=t,uf(i)&&o({inst:i})},[e,n,t]),Cj(function(){return uf(i)&&o({inst:i}),e(function(){uf(i)&&o({inst:i})})},[e]),Aj(n),n}function uf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ej(e,n)}catch{return!0}}function Fj(e,t){return t()}var Rj=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Fj:Nj;Aw.useSyncExternalStore=bo.useSyncExternalStore!==void 0?bo.useSyncExternalStore:Rj;Iw.exports=Aw;var Tj=Iw.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=B,Pj=Tj;function Dj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mj=typeof Object.is=="function"?Object.is:Dj,Oj=Pj.useSyncExternalStore,Lj=mu.useRef,Bj=mu.useEffect,$j=mu.useMemo,Uj=mu.useDebugValue;Cw.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Lj(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=$j(function(){function c(h){if(!u){if(u=!0,f=h,h=r(h),i!==void 0&&a.hasValue){var x=a.value;if(i(x,h))return p=x}return p=h}if(x=p,Mj(f,h))return x;var b=r(h);return i!==void 0&&i(x,b)?x:(f=h,p=b)}var u=!1,f,p,d=n===void 0?null:n;return[function(){return c(t())},d===null?void 0:function(){return c(d())}]},[t,n,r,i]);var s=Oj(e,o[0],o[1]);return Bj(function(){a.hasValue=!0,a.value=s},[s]),Uj(s),s};jw.exports=Cw;var zj=jw.exports;const Gj=Yc(zj);var Nw={BASE_URL:"/gaf-studio-web",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:Hj}=R,{useSyncExternalStoreWithSelector:Wj}=Gj;let Xv=!1;const Vj=e=>e;function hu(e,t=Vj,n){(Nw?"production":void 0)!=="production"&&n&&!Xv&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Xv=!0);const r=Wj(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Hj(r),r}const Qv=e=>{(Nw?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?pu(e):e,n=(r,i)=>hu(t,r,i);return Object.assign(n,t),n},Fw=e=>e?Qv(e):Qv,vu=R.createContext(null);function ne(e){const t=R.useContext(vu);if(!t)throw new Error("Missing WorkspaceWrapperContext.Provider in the tree");return hu(t.store,e)}function Jv(e){const t=R.useContext(vu);if(!t)throw new Error("Missing WorkspaceWrapperContext.Provider in the tree");if(t.format!=="gaf")throw new Error("Not a Gaf workspace.");return hu(t.store,e)}function eg(e){const t=R.useContext(vu);if(!t)throw new Error("Missing WorkspaceWrapperContext.Provider in the tree");if(t.format!=="taf-solo")throw new Error("Not a Taf Solo workspace.");return hu(t.store,e)}function Kj(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const{useRef:qj}=R;function Ws(e){const t=qj();return n=>{const r=e(n);return Kj(t.current,r)?t.current:t.current=r}}var Y;(e=>{function t(){return ne(W=>W.format)}e.useFormat=t;function n(){return ne(W=>W.gafFormat)}e.useGafFormat=n;function r(){return ne(W=>W.cursor)}e.useCursor=r;function i(){return ne(Ws(W=>W.cursor))}e.useShallowCursor=i;function o(){return ne(W=>W.abstractActions.getCurrentGaf())}e.useCurrentGaf=o;function a(){return ne(W=>W.commonActions.getEntries())}e.useEntries=a;function s(){return ne(W=>W.commonActions.getEntries().length)}e.useEntriesLength=s;function c(){return ne(W=>W.cursor.entryIndex)}e.useActiveEntryIndex=c;function u(){return ne(W=>W.cursor.frameIndex)}e.useActiveFrameIndex=u;function f(){return ne(W=>W.cursor.subframeIndex)}e.useActiveSubframeIndex=f;function p(){return ne(W=>W.commonActions.setActiveEntryIndex)}e.useSetActiveEntryIndex=p;function d(){return ne(W=>W.commonActions.setActiveFrameIndex)}e.useSetActiveFrameIndex=d;function h(){return ne(W=>W.commonActions.setActiveSubframeIndex)}e.useSetActiveSubframeIndex=h;function x(){return ne(W=>W.cursor.entryIndex!==null)}e.useHasActiveEntry=x;function b(){return ne(W=>W.cursor.frameIndex!==null)}e.useHasActiveFrame=b;function C(){return ne(W=>W.cursor.subframeIndex!==null)}e.useHasActiveSubframe=C;function y(){return ne(W=>{var ee;return W.cursor.entryIndex!==null&&((ee=W.commonActions.getActiveFrame())==null?void 0:ee.frameData.kind)==="multi"})}e.useHasActiveFrameMulti=y;function g(){return ne(W=>W.commonActions.getActiveEntry())}e.useActiveEntry=g;function k(){return ne(W=>W.commonActions.getActiveFrame())}e.useActiveFrame=k;function _(){return ne(W=>W.commonActions.getActiveSubframe())}e.useActiveSubframe=_;function S(W,ee){return ne(Q=>ee===(W==="frame"?Q.cursor.frameIndex:Q.cursor.subframeIndex))}e.useIsFrameOrSubframeSelectedAt=S;function N(W){return ne(ee=>ee.cursor.frameIndex===W)}e.useIsFrameSelectedAt=N;function T(W){return ne(ee=>ee.cursor.subframeIndex===W)}e.useIsSubframeSelectedAt=T;function j(W){return ne(ee=>ee.commonActions.getActiveEntry().frames[W].frameData)}e.useFrameDataAt=j;function F(W,ee){return ne(Q=>{const Ce=Q.commonActions.getActiveEntry().frames[W].frameData;if(Ce.kind==="single")throw new Error("Can't use this component for single-layered frameData.");return Ce.layers[ee]})}e.useSubframeDataAt=F;function A(W,ee){return ne(Q=>{if(W==="subframe")return null;const Ce=Q.commonActions.getActiveEntry().frames[ee].frameData;return Ce.kind==="single"?null:Ce.layers.length})}e.useSubframesCountAtFrameOrSubframe=A;function L(W){return{name:W.name,unknown1:W.unknown1,unknown2:W.unknown2,framesLength:W.frames.length}}function $(){return ne(Ws(W=>{const{entryIndex:ee}=W.cursor;if(ee===null)return null;const Q=W.commonActions.getEntries()[ee];return L(Q)}))}e.useShallowActiveEntryProps=$;function O(){return ne(Ws(W=>{const{entryIndex:ee,frameIndex:Q}=W.cursor;if(ee===null)throw new Error("No active entry.");if(Q===null)return null;const ke=W.commonActions.getEntries()[ee].frames[Q].frameData,qe={width:ke.width,height:ke.height,xOffset:ke.xOffset,yOffset:ke.yOffset,transparencyIndex:ke.transparencyIndex,unknown2:ke.unknown2,unknown3:ke.unknown3};return{kind:ke.kind,...qe}}))}e.useShallowActiveFrameDataProps=O;function P(){return ne(W=>W.commonActions.replaceFrameImageData)}e.useReplaceFrameImageData=P;function M(){return ne(W=>W.commonActions.replaceSubframeImageData)}e.useReplaceSubframeImageData=M;function V(){return ne(W=>W.commonActions.modifyActiveFrameData)}e.useModifyActiveFrameData=V;function G(){return ne(W=>W.commonActions.modifyActiveFrameDuration)}e.useModifyActiveFrameDuration=G;function I(){return ne(W=>W.commonActions.modifyActiveSequenceFrameDuration)}e.useModifyActiveSequenceFrameDuration=I;function U(){return ne(W=>{const{entryIndex:ee,frameIndex:Q}=W.cursor;if(ee===null)throw new Error("No active entry.");return Q===null?null:W.commonActions.getEntries()[ee].frames[Q].duration})}e.useActiveFrameDuration=U;function H(){return ne(Ws(W=>{const{entryIndex:ee,frameIndex:Q,subframeIndex:Ce}=W.cursor;if(ee===null)throw new Error("No active entry.");if(Q===null)throw new Error("No active frame.");if(Ce===null)return null;const qe=W.commonActions.getEntries()[ee].frames[Q].frameData;if(qe.kind==="single")throw new Error("Active frame doesn't have subframes.");const Se=qe.layers[Ce];return{width:Se.width,height:Se.height,xOffset:Se.xOffset,yOffset:Se.yOffset,transparencyIndex:Se.transparencyIndex,unknown2:Se.unknown2,unknown3:Se.unknown3}}))}e.useShallowActiveSubframeDataProps=H;function q(){return ne(W=>W.commonActions.modifyActiveSubframeData)}e.useModifyActiveSubframeData=q;function Z(){return ne(W=>{var ee;return(ee=W.commonActions.getActiveEntry())==null?void 0:ee.frames.length})}e.useOptionalActiveEntryFramesLength=Z;function te(){return ne(W=>{const{entryIndex:ee,frameIndex:Q}=W.cursor;if(ee===null)throw new Error("No active entry.");if(Q===null)throw new Error("No active frame.");const ke=W.commonActions.getEntries()[ee].frames[Q];if(ke.frameData.kind==="single")throw new Error("Active frame doesn't have subframes.");return ke.frameData.layers.length})}e.useActiveFrameLayersLength=te;function re(){return ne(W=>{const ee=W.commonActions.getActiveFrame();return ee&&ee.frameData.kind==="multi"?ee.frameData.layers.length:null})}e.useOptionalActiveFrameLayersLength=re;function ae(){return ne(W=>W.commonActions.convertActiveFrameToMultiFrame)}e.useConvertActiveFrameToMultiFrame=ae;function pe(){return ne(W=>W.commonActions.convertActiveFrameToSingleFrame)}e.useConvertActiveFrameToSingleFrame=pe;function ve(){return ne(W=>W.commonActions.deleteActiveFrame)}e.useDeleteActiveFrame=ve;function ce(){return ne(W=>W.commonActions.deleteActiveSubframe)}e.useDeleteActiveSubframe=ce;function xe(){return ne(W=>W.commonActions.createEntry)}e.useCreateEntry=xe;function Ke(){return ne(W=>W.commonActions.renameActiveEntry)}e.useRenameActiveEntry=Ke;function jt(){return ne(W=>W.commonActions.deleteActiveEntry)}e.useDeleteActiveEntry=jt;function se(){return ne(W=>W.commonActions.addFramesToActiveEntry)}e.useAddFramesToActiveEntry=se;function Ne(){return ne(W=>W.commonActions.addSubframesToActiveFrame)}e.useAddSubframesToActiveFrame=Ne;function we(){return ne(W=>{const ee=W.commonActions.getActiveFrame();return ee===null?null:ee.frameData.kind})}e.useOptionalActiveFrameDataKind=we;function be(){return ne(W=>{const ee=W.abstractActions.getCurrentGaf();return ee.kind==="from-file-single"?ee.fileName:ee.kind==="from-file-pair"?ee.data1555.fileName+" + "+ee.data4444.fileName:null})}e.useCurrentGafFileName=be})(Y||(Y={}));function Yj({close:e}){const t=Y.useActiveFrame(),n=Y.useActiveFrameIndex(),r=Y.useConvertActiveFrameToMultiFrame();if(t===null)return l.jsx("div",{className:"p-4",children:"No frame selected."});if(t.frameData.kind==="multi")return l.jsx("div",{className:"p-4",children:"Frame is already Multi-layered."});const i=n+1;return l.jsxs("div",{className:"flex flex-col p-4",children:[l.jsxs("div",{className:"mb-1",children:["Do you want to convert the active frame (#",i,") into a Multi-layered frame?"]}),l.jsxs("div",{className:"flex items-center text-sm font-bold text-slate-500 mb-4",children:[l.jsx(ie.Info,{className:"mr-1",size:20}),"Its existing frame data will become the first subframe of the new Multi-layered frame."]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(oe,{color:"success",onClick:()=>{r(!1),e()},children:"Convert"}),l.jsx(oe,{color:"default",onClick:e,children:"Cancel"})]})]})}function Zj({close:e}){const t=Y.useActiveFrame(),n=Y.useActiveFrameIndex(),r=Y.useConvertActiveFrameToSingleFrame();if(t===null)return l.jsx("div",{className:"p-4",children:"No frame selected."});if(t.frameData.kind==="single")return l.jsx("div",{className:"p-4",children:"Frame is already Single-layered."});if(t.frameData.layers.length!==1)return l.jsxs("div",{className:"p-4",children:["Frame must have exactly ",l.jsx("b",{children:"1"})," subframe to be converted into a Single-layered frame.",l.jsx("br",{}),"Currently, it has ",l.jsx("b",{children:t.frameData.layers.length})," subframes."]});const i=n+1;return l.jsxs("div",{className:"flex flex-col p-4",children:[l.jsxs("div",{className:"mb-1",children:["Do you want to convert the active frame (#",i,") into a Single-layered frame?"]}),l.jsxs("div",{className:"flex items-center text-sm font-bold text-slate-500 mb-4",children:[l.jsx(ie.Info,{className:"mr-1",size:20}),"The frame data of its first subframe will become the frame data of the new Single-layered frame."]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(oe,{color:"success",onClick:()=>{r(!1),e()},children:"Convert"}),l.jsx(oe,{color:"default",onClick:e,children:"Cancel"})]})]})}function Xj({close:e}){const t=Y.useActiveFrame(),n=Y.useDeleteActiveFrame();return t===null?l.jsx("div",{className:"p-4",children:"No frame selected."}):l.jsxs("div",{className:"flex flex-col p-4",children:[l.jsx("div",{children:"Are you sure you want to delete this frame?"}),t.frameData.kind==="multi"&&l.jsxs("div",{className:"mt-1 text-sm font-bold text-slate-500",children:["All of its subframes (",t.frameData.layers.length,") will also be deleted."]}),l.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[l.jsx(oe,{color:"danger",onClick:()=>{n(),alert("Deleted."),e()},children:"Delete"}),l.jsx(oe,{color:"default",onClick:e,children:"Cancel"})]})]})}function Qj({close:e}){const t=Y.useActiveSubframe(),n=Y.useDeleteActiveSubframe();return t===null?l.jsx("div",{className:"p-4",children:"No subframe selected."}):l.jsxs("div",{className:"flex flex-col p-4",children:[l.jsx("div",{children:"Are you sure you want to delete this subframe?"}),l.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[l.jsx(oe,{color:"danger",onClick:()=>{n(),alert("Deleted."),e()},children:"Delete"}),l.jsx(oe,{color:"default",onClick:e,children:"Cancel"})]})]})}function Rw({inputRef:e,type:t,defaultValue:n,autoFocus:r}){const i=t==="number"?"font-mono":"";return l.jsx("input",{ref:e,className:`${i} border border-gray-300 px-0.5 py-0`,type:t,defaultValue:n,autoFocus:r})}var cc;(e=>{e.ENTRY_NAME_MAX_LENGTH=31,e.ENTRY_NAME_REGEX=/^[a-zA-Z0-9_]+$/;function t(n){return n.length===0?{kind:"invalid",reason:"Value is empty."}:n.length>e.ENTRY_NAME_MAX_LENGTH?{kind:"invalid",reason:"Value exceeds character limit."}:e.ENTRY_NAME_REGEX.test(n)?{kind:"valid"}:{kind:"invalid",reason:"Value contains invalid character."}}e.validateEntryName=t})(cc||(cc={}));function Tw({defaultValue:e,existingEntryNames:t,onSubmit:n,close:r}){const[i,o]=R.useState(null),a=R.useRef(null),s=R.useCallback(()=>{const c=a.current;if(c===null)return;const u=c.value.trim();if(u===e)return;const f=t.indexOf(u);if(f!==-1){o(`A sequence with this name already exists. (Sequence #${f+1})`);return}const p=cc.validateEntryName(u);if(p.kind==="invalid"){o(p.reason);return}o(null),n(u)},[n,e,t]);return l.jsxs("div",{children:[l.jsx("div",{className:"mb-2",children:"Sequence name:"}),l.jsxs("div",{className:"flex space-x-2 mb-2",children:[l.jsx(Rw,{type:"text",inputRef:a,defaultValue:e}),l.jsx(oe,{color:"success",onClick:s,children:"Submit"}),l.jsx(oe,{color:"default",onClick:r,children:"Cancel"})]}),l.jsxs("div",{className:"text-xs text-slate-600 bg-slate-200 font-semibold px-2 py-1 rounded",children:[l.jsx("div",{children:"Name can only contain ASCII letters, numbers or underscores."}),l.jsx("div",{children:"Name may not exceed 31 characters."})]}),l.jsx("div",{className:`${i===null?"invisible":""}`,children:l.jsx("span",{className:"text-red-600 text-xs",children:i??"(No errors)"})})]})}function Pt({children:e}){return l.jsx("div",{className:"p-4",children:e})}function Jj({close:e}){const t=Y.useCreateEntry(),n=Y.useEntries().map(i=>i.name),r=R.useCallback(i=>{t(i),e()},[t,e]);return l.jsx(Pt,{children:l.jsx(Tw,{existingEntryNames:n,onSubmit:r,close:e})})}function eC({close:e}){const[t,n]=R.useState(!0),r=Y.useActiveEntry(),i=Y.useDeleteActiveEntry();R.useEffect(()=>{setTimeout(()=>n(!1),450)},[]);const o=R.useCallback(()=>{i(),e()},[i,e]);return r===null?l.jsx(Pt,{children:"No active sequence."}):l.jsxs(Pt,{children:[l.jsxs("div",{className:"mb-2",children:["Are you sure you want to ",l.jsx("span",{className:"font-bold text-red-500",children:"delete"})," ","this Sequence and all of its ",l.jsx("b",{children:r.frames.length})," Frames?"]}),l.jsxs("div",{className:"flex justify-end space-x-2 mb-2",children:[l.jsx(oe,{color:"danger",onClick:o,disabled:t,children:"Delete"}),l.jsx(oe,{color:"default",onClick:e,children:"Cancel"})]})]})}function tC({close:e}){const t=Y.useActiveEntry(),n=Y.useRenameActiveEntry(),r=Y.useEntries().map(o=>o.name),i=R.useCallback(o=>{n(o),e()},[n,e]);return t===null?l.jsx(Pt,{children:"No active sequence."}):l.jsx(Pt,{children:l.jsx(Tw,{defaultValue:t.name,existingEntryNames:r,onSubmit:i,close:e})})}function nC({onNext:e,onAbort:t}){return l.jsxs(Pt,{children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(ie.Warning,{className:"text-orange-600 mr-4",size:32}),l.jsxs("div",{children:["This software is experimental, please make sure to ",l.jsx("b",{children:"back up"})," your original files",l.jsx("br",{}),"before proceeding."]})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(oe,{color:"success",onClick:e,children:"Export"}),l.jsx(oe,{color:"default",onClick:t,children:"Cancel"})]})]})}function He({label:e,onClick:t,disabled:n,title:r}){const i=n?"text-sky-600 opacity-50":"text-sky-600 hover:text-sky-500 active:text-sky-500";return l.jsxs("button",{className:`${i} inline`,onClick:()=>!n&&t(),disabled:n,title:r,children:["[",e,"]"]})}function rC({result:e,onDownload:t}){if(e.kind==="taf-pair")return l.jsxs("div",{className:"flex flex-col items-start space-y-2",children:[l.jsx(He,{label:"Click to download the TAF 1555 file",onClick:()=>t("1555")}),l.jsx(He,{label:"Click to download the TAF 4444 file",onClick:()=>t("4444")})]});let n;return e.kind==="gaf"?n="GAF":n=e.subFormat==="taf_1555"?"TAF 1555":"TAF 4444",l.jsx("div",{children:l.jsx(He,{label:`Click to download the ${n}`,onClick:()=>t("solo")})})}function Pw({path:e}){return l.jsx("div",{className:"flex flex-wrap items-start",children:e.map(({node:t,pos:n},r)=>l.jsxs(R.Fragment,{children:[l.jsxs("div",{className:"",children:[t,n!==void 0&&l.jsxs(l.Fragment,{children:[" ","#",n+1]})]}),r<e.length-1&&l.jsx("div",{className:"mx-2",children:""})]},r))})}const iC={low:"Low",med:"Medium",high:"High"},oC={low:"text-yellow-600",med:"text-orange-600",high:"text-red-600"},ff="px-1.5 py-1 text-left align-top",df="px-1.5 py-2 align-top";function Dw({errors:e}){return e.length===0?null:l.jsxs("div",{className:"px-4 py-2 bg-orange-50 border border-orange-100 rounded",children:[l.jsxs("div",{className:"flex items-center text-amber-700 font-bold mb-0.5",children:[l.jsx(ie.Warning,{className:"mr-1.5",size:24}),"Warnings:"]}),l.jsxs("table",{className:"text-xs -mx-2",style:{maxWidth:600},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:ff,children:"Severity"}),l.jsx("th",{className:ff,children:"Message"}),l.jsx("th",{className:ff,children:"Location"})]})}),l.jsx("tbody",{children:e.map((t,n)=>l.jsxs("tr",{children:[l.jsx("td",{className:df,style:{width:"1%"},children:l.jsx("span",{className:`${oC[t.severity]} font-semibold`,children:iC[t.severity]})}),l.jsx("td",{className:df,style:{width:"65%"},children:t.message}),l.jsx("td",{className:df,style:{width:"35%"},children:l.jsx(Pw,{path:t.path})})]},n))})]})]})}function aC({exporterResult:e,onDownload:t}){const n=e.kind==="taf-pair";let r;return e.nonFatalErrors.length===0?r=n?"If the downloads doesn't start automatically, try the links below:":"If the download doesn't start automatically, try the link below:":r=`The ${n?"downloads":"download"} didn't start automatically because warnings were generated when exporting. Please review the warnings and then click the ${n?"download links":"download link"} below if you want to ignore them:`,l.jsxs("div",{className:"flex flex-col space-y-4",children:[e.nonFatalErrors.length>0&&l.jsxs("div",{className:"border-b border-slate-200 pb-4",children:[l.jsxs("div",{className:"mb-2",children:[l.jsx("div",{className:"text-xs font-bold mb-0.5",children:"Some non-fatal errors have occurred."}),l.jsx("div",{className:"text-sm",style:{maxWidth:600},children:"While you can still export your result, it's highly recommended to fix these warnings and try to export again (specially if there are high-severity warnings)."})]}),l.jsx(Dw,{errors:e.nonFatalErrors})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"mb-2",children:[l.jsxs("div",{className:"flex items-center text-emerald-700",children:[l.jsx(ie.CircleCheck,{className:"mr-1.5"}),l.jsx("div",{className:"font-bold",children:"Your file is ready!"})]}),l.jsx("div",{className:"text-sm",style:{maxWidth:600},children:r})]}),l.jsx(rC,{result:e,onDownload:t})]})]})}function sC({error:e,onAbort:t}){return l.jsxs("div",{className:"flex flex-col space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-center font-semibold mb-1",children:"A fatal error has occurred."}),l.jsxs("div",{className:"text-center text-sm text-slate-500 font-semibold",children:["You cannot export the result file when a fatal error occurs.",l.jsx("br",{}),"Please fix the problems and try to export again."]})]}),l.jsxs("div",{className:"px-4 py-2 bg-red-50 border border-red-100 rounded",children:[l.jsxs("div",{className:"flex items-center text-red-700 font-bold mb-0.5",children:[l.jsx(ie.Error,{className:"mr-1.5",size:24}),"Fatal error:"]}),l.jsxs("div",{children:[l.jsxs("span",{className:"text-slate-700 font-semibold",children:["Message:"," "]}),l.jsx("span",{className:"text-slate-700",children:e.message})]}),e.path!==void 0&&l.jsxs("div",{className:"flex items-center mt-1",children:[l.jsx("div",{className:"mr-2 text-base font-semibold",children:"Location:"}),l.jsx(Pw,{path:e.path})]})]}),e.nonFatalErrors.length>0&&l.jsx(Dw,{errors:e.nonFatalErrors}),l.jsx("div",{className:"flex justify-center space-x-2",children:l.jsx(oe,{color:"default",onClick:t,children:"Close"})})]})}var ka;(e=>{function t(n,r,i){if(typeof n=="string")return n;if(r.kind==="gaf"){if(n===null)return"new.gaf";throw new Error("'gaf' kind cannot have a exportFileName of type pair")}if(r.kind==="taf-solo"){if(n===null)return"new"+(r.subFormat==="taf_1555"?"_1555.taf":"_4444.taf");throw new Error("'taf-solo' kind cannot have a exportFileName of type pair")}if(i===void 0)throw new Error("'taf-pair' kind should have an export target");return n===null?i==="1555"?"new_1555.taf":"new_4444.taf":n[i]}e.getFileNameFor=t})(ka||(ka={}));function Ht({children:e}){return l.jsx("div",{className:"flex flex-col space-y-4 bg-slate-200 p-4",children:e})}function uc({children:e}){return l.jsx("div",{className:"text-center text-sm text-slate-600 font-bold px-0.5 mb-0.5",children:e})}function kt({children:e,header:t}){return l.jsxs("div",{className:"flex flex-col bg-white px-4 py-2 shadow",children:[t&&l.jsx(uc,{children:t}),l.jsx("div",{className:"flex flex-col space-y-4 py-2",children:e})]})}var fc;(e=>{function t(o,a){const s=new Blob([o],{type:"application/octet-stream"}),c=window.URL.createObjectURL(s);return{download:()=>r(c,a),revoke:()=>window.URL.revokeObjectURL(c)}}e.createDownloadable=t;function n(o,a){const s=t(o,a);s.download(),setTimeout(()=>s.revoke(),500)}e.downloadAndRevoke=n;function r(o,a){const s=document.createElement("a");s.href=o,s.download=a,document.body.appendChild(s),s.style.display="none",s.click(),s.remove()}function i(o,a){const s=document.createElement("canvas"),c=s.getContext("2d");if(!c){console.error("Canvas context not supported");return}s.width=o.width,s.height=o.height,c.putImageData(o,0,0);const u=s.toDataURL("image/png");if(!u){console.error("Failed to convert canvas to data URL");return}const f=document.createElement("a");f.href=u,f.download=a,document.body.appendChild(f),f.click(),document.body.removeChild(f)}e.saveImageDataAsPng=i})(fc||(fc={}));var lC=Object.defineProperty,cC=(e,t,n)=>t in e?lC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xr=(e,t,n)=>(cC(e,typeof t!="symbol"?t+"":t,n),n);const uC=[1,4,5,8];var Za;(e=>{function t(n,r){if(r===1)return n===0||n===1;if(r===4)return n>=0&&n<16;if(r===5)return n>=0&&n<32;if(r===8)return n>=0&&n<256;throw new Error(`Unknown Bit Depth: ${r}`)}e.validateInteger=t})(Za||(Za={}));const fC=["rgba8888","argb1555","argb4444"];var dc;(e=>{e.FORMAT_TO_BITS={rgba8888:32,argb1555:16,argb4444:16},e.FORMAT_TO_BYTES={rgba8888:e.FORMAT_TO_BITS.rgba8888/8,argb1555:e.FORMAT_TO_BITS.argb1555/8,argb4444:e.FORMAT_TO_BITS.argb4444/8}})(dc||(dc={}));var sp;(e=>{function t(n,r,i){const o=dc.FORMAT_TO_BYTES[n.format],a=r*i*o,s=n.bytes.length;return a===s}e.validateDimensions=t})(sp||(sp={}));const lp=1,cp=2,dC=65792,pC=0,mC=1,hC=0,vC=Object.freeze(Object.defineProperty({__proto__:null,REPEAT_MASK:cp,TRANSPARENCY_MASK:lp,USUAL_ENTRY_UNKNOWN1:mC,USUAL_ENTRY_UNKNOWN2:hC,USUAL_HEADER_ID_VERSION:dC,USUAL_HEADER_UNKNOWN1:pC},Symbol.toStringTag,{value:"Module"}));function Br(e,t,n){return r=>{if(!Za.validateInteger(r,e))throw new Error(`Input value "${r}" with bit depth "${e}" is out of bounds.`);const i=n(r);if(!Za.validateInteger(i,t))throw new Error(`Output value "${i}" with bit depth "${t}" is out of bounds.`);return i}}const gC=Br(4,8,e=>Math.round(e*255/15)),xC=Br(8,4,e=>Math.round(e*15/255)),yC=Br(5,8,e=>Math.round(e*255/31)),wC=Br(8,5,e=>Math.round(e*31/255)),bC=Br(1,8,e=>e===0?0:255),kC=Br(8,1,e=>e<128?0:1),_C=Br(8,1,e=>e===255?1:0),SC=Br(8,1,e=>e===0?0:1),xi={round4to8:gC,round8to4:xC,round5to8:yC,round8to5:wC,round1to8:bC,round8to1:kC,opaqueOrZero8to1:_C,transparentOrOne8to1:SC},EC=(e,t,n,r)=>{const i=new Uint8Array(t*n*4),o=r.depthConvert1to8??xi.round1to8,a=r.depthConvert5to8??xi.round5to8;for(let s=0;s<t*n;s++){const c=s*2,u=s*4,f=e.bytes[c+0],p=e.bytes[c+1]<<8|f,d=(p&32768)>>15,h=(p&31744)>>10,x=(p&992)>>5,b=(p&31)>>0,C=o(d),y=a(h),g=a(x),k=a(b);i[u+0]=y,i[u+1]=g,i[u+2]=k,i[u+3]=C}return{format:"rgba8888",bytes:i}},jC=(e,t,n,r)=>{const i=new Uint8Array(t*n*4),o=r.depthConvert4to8??xi.round4to8;for(let a=0;a<t*n;a++){const s=a*2,c=a*4,u=e.bytes[s+0],f=e.bytes[s+1]<<8|u,p=(f&61440)>>12,d=(f&3840)>>8,h=(f&240)>>4,x=(f&15)>>0,b=o(p),C=o(d),y=o(h),g=o(x);i[c+0]=C,i[c+1]=y,i[c+2]=g,i[c+3]=b}return{format:"rgba8888",bytes:i}},CC=(e,t,n,r)=>{const i=new Uint8Array(t*n*2),o=r.depthConvert8to5??xi.round8to5,a=r.depthConvert8to1??xi.transparentOrOne8to1;for(let s=0;s<t*n;s++){const c=s*4,u=s*2,f=e.bytes[c+0],p=e.bytes[c+1],d=e.bytes[c+2],h=e.bytes[c+3];let x=o(f),b=o(p),C=o(d);const y=a(h);y===0&&(x=0,b=0,C=0);const g=y<<15|x<<10|b<<5|C;i[u+0]=g&255,i[u+1]=g>>8&255}return{format:"argb1555",bytes:i}},IC=(e,t,n,r)=>{const i=new Uint8Array(t*n*2),o=r.depthConvert8to4??xi.round8to4;for(let a=0;a<t*n;a++){const s=a*4,c=a*2,u=e.bytes[s+0],f=e.bytes[s+1],p=e.bytes[s+2],d=e.bytes[s+3],h=o(u),x=o(f),b=o(p),C=o(d)<<12|h<<8|x<<4|b;i[c+0]=C&255,i[c+1]=C>>8&255}return{format:"argb4444",bytes:i}},AC=Object.freeze(Object.defineProperty({__proto__:null,DepthConverters:xi,convertARGB1555ToRGBA8888:EC,convertARGB4444ToRGBA8888:jC,convertRGBA8888ToARGB1555:CC,convertRGBA8888ToARGB4444:IC},Symbol.toStringTag,{value:"Module"}));var _t;(e=>{function t(f){return new DataView(f.buffer,f.byteOffset,f.byteLength)}e.createView=t;function n(f,p,d){return new DataView(f.buffer,f.byteOffset+p,d)}e.createViewSlice=n;function r(f,p,d){const h=f.buffer.slice(f.byteOffset+p,f.byteOffset+p+d);return new Uint8Array(h)}e.copyBytes=r;function i(f,p,d){return f.slice(f.byteOffset+p,f.byteOffset+p+d)}e.createSlice=i;const o=new TextDecoder("ascii");function a(f,p){const d=new DataView(f.buffer,f.byteOffset,f.byteLength);let h=0;for(let b=0;b<p&&(h=b,d.getUint8(b)!==0);b++);const x=new Uint8Array(d.buffer,d.byteOffset,h);return o.decode(x)}e.readString=a;const s=new TextEncoder;function c(f,p){const d=s.encode(f);if(d.length===p)return d[p-1]=0,d;if(d.length>p){const x=d.slice(0,p);return x[p-1]=0,console.warn("String is being cut off!"),console.warn(`Before: ${o.decode(d)}`),console.warn(`After: ${o.decode(x)}`),x}const h=new Uint8Array(p);return h.set(d,0),h[p-1]=0,h}e.writeString=c;function u(f,p){const d=Math.pow(256,p);if(f>=d||f<0)throw new Error(`Number ${f} cannot fit into ${p} bytes.`);const h=new Uint8Array(p);for(let x=0;x<p;x++)h[x]=f>>x*8&255;return h}e.intToBytesLE=u})(_t||(_t={}));const pc=40,Km={read:(e,t)=>({frames:e.getUint16(t+0,!0),unknown1:e.getUint16(t+2,!0),unknown2:e.getUint32(t+4,!0),name:_t.copyBytes(e,t+8,32)}),write:(e,t,n)=>{e.setUint16(t+0,n.frames,!0),e.setUint16(t+2,n.unknown1,!0),e.setUint32(t+4,n.unknown2,!0);for(let r=0;r<32;r++)e.setUint8(t+8+r,n.name[r])}},qm=24,mc={read:(e,t)=>({width:e.getUint16(t+0,!0),height:e.getUint16(t+2,!0),xPos:e.getInt16(t+4,!0),yPos:e.getInt16(t+6,!0),transparencyIdx:e.getUint8(t+8),compressed:e.getUint8(t+9),framePointers:e.getUint16(t+10,!0),unknown2:e.getUint32(t+12,!0),ptrFrameData:e.getUint32(t+16,!0),unknown3:e.getUint32(t+20,!0)}),write:(e,t,n)=>{e.setUint16(t+0,n.width,!0),e.setUint16(t+2,n.height,!0),e.setInt16(t+4,n.xPos,!0),e.setInt16(t+6,n.yPos,!0),e.setUint8(t+8,n.transparencyIdx),e.setUint8(t+9,n.compressed),e.setUint16(t+10,n.framePointers,!0),e.setUint32(t+12,n.unknown2,!0),e.setUint32(t+16,n.ptrFrameData,!0),e.setUint32(t+20,n.unknown3,!0)}},hc=8,Ym={read:(e,t)=>({ptrFrameData:e.getUint32(t+0,!0),duration:e.getUint32(t+4,!0)}),write:(e,t,n)=>{e.setUint32(t+0,n.ptrFrameData,!0),e.setUint32(t+4,n.duration,!0)}},gu=12,Zm={read:(e,t)=>({idVersion:e.getUint32(t+0,!0),entries:e.getUint32(t+4,!0),unknown1:e.getUint32(t+8,!0)}),write:(e,t,n)=>{e.setUint32(t+0,n.idVersion,!0),e.setUint32(t+4,n.entries,!0),e.setUint32(t+8,n.unknown1,!0)}},NC=Object.freeze(Object.defineProperty({__proto__:null,get BufferUtils(){return _t},ENTRY_STRUCT_IO:Km,ENTRY_STRUCT_SIZE:pc,FRAME_DATA_STRUCT_IO:mc,FRAME_DATA_STRUCT_SIZE:qm,FRAME_STRUCT_IO:Ym,FRAME_STRUCT_SIZE:hc,HEADER_STRUCT_IO:Zm,HEADER_STRUCT_SIZE:gu},Symbol.toStringTag,{value:"Module"})),FC=e=>{let t=e;Array.isArray(t)&&(t=new Uint8Array(t));const n=_t.createView(t),r=[],i={data:n,map:r},o=RC(i),a={idVersion:o.idVersion,unknown1:o.unknown1};return{gaf:{entries:TC(i,gu,o.entries),header:a},map:r}};function RC(e){const t=Zm.read(e.data,0);return e.map.push({label:"header",content:t,offset:0,length:gu}),t}function TC(e,t,n){const r=[];for(let i=0;i<n;i++){const o=t+i*4,a=e.data.getUint32(o,!0);e.map.push({label:"entry_pointer",content:a,offset:o,length:4});const s=PC(e,a);r.push(s)}return r}function PC(e,t){const n=Km.read(e.data,t);e.map.push({label:"entry",content:n,offset:t,length:pc});const r=_t.readString(n.name,32),i=[],o=t+pc;for(let a=0;a<n.frames;a++){const s=o+a*hc,c=Ym.read(e.data,s);e.map.push({label:"frame",content:c,offset:s,length:hc});const u=Mw(e,c.ptrFrameData);i.push({frameData:u,duration:c.duration})}return{frames:i,name:r,unknown1:n.unknown1,unknown2:n.unknown2}}const DC=65280;function Mw(e,t){const n=mc.read(e.data,t);e.map.push({label:"frame_data",content:n,offset:t,length:qm});const r={width:n.width,height:n.height,xOffset:n.xPos,yOffset:n.yPos,transparencyIndex:n.transparencyIdx,unknown2:n.unknown2,unknown3:n.unknown3};if(n.framePointers===0||n.framePointers===DC){const o=MC(e,n);return{...r,kind:"single",layerData:o}}const i=[];for(let o=0;o<n.framePointers;o++){const a=n.ptrFrameData+o*4,s=e.data.getUint32(a,!0);e.map.push({label:"sub_frame_data_pointer",content:s,offset:a,length:4});const c=Mw(e,s);if(c.kind==="multi")throw new Error("MultiLayer frame data cannot contain other MultiLayer frame data.");i.push(c)}return{...r,kind:"multi",layers:i}}function MC(e,t){const{compressed:n,ptrFrameData:r,width:i,height:o,transparencyIdx:a}=t;if(n===0)return OC(e,r,i,o);if(n===1)return LC(e,r,i,o,a);if(n===4)return tg(e,r,i,o,"argb4444");if(n===5)return tg(e,r,i,o,"argb1555");throw new Error(`Unknown compression flag: ${n}`)}function OC(e,t,n,r){const i=_t.copyBytes(e.data,t,n*r);return e.map.push({label:"uncompressed_palette_indices",content:xu,offset:t,length:n*r}),{kind:"palette-idx",decompressed:!1,indices:i}}function LC(e,t,n,r,i){const{data:o}=e,a=t;let s=-1;const c=d=>(s=Math.max(s,d+1),o.getUint16(d,!0)),u=d=>(s=Math.max(s,d),o.getUint8(d)),f=new Uint8Array(n*r);f.fill(i);const p=(d,h,x)=>{f[d+h*n]=x};for(let d=0;d<r;d++){const h=c(t);t+=2;let x=0,b=0;for(;x<h;){const C=u(t+x++);if((C&lp)===lp)b+=C>>1;else if((C&cp)===cp){let y=(C>>2)+1;for(;y--;)p(b++,d,u(t+x));x++}else{let y=(C>>2)+1;for(;y--;)p(b++,d,u(t+x++))}}t+=h}return s!==-1&&e.map.push({label:"compressed_palette_indices",content:xu,offset:a,length:s-a+1}),{kind:"palette-idx",decompressed:!0,indices:f}}function tg(e,t,n,r,i){const o=_t.copyBytes(e.data,t,n*r*2);return e.map.push({label:"raw_colors",content:xu,offset:t,length:n*r*2}),{kind:"raw-colors",colorData:{bytes:o,format:i}}}const xu=Symbol(),BC=Object.freeze(Object.defineProperty({__proto__:null,RawBytes:xu},Symbol.toStringTag,{value:"Module"})),$C=Object.freeze(Object.defineProperty({__proto__:null,Mapping:BC,readFromBuffer:FC},Symbol.toStringTag,{value:"Module"}));function UC(e,t,n){const r=new Ow;let i=0;for(;;){const o=e.subarray(i,i+t);if(i+=o.length,o.length===0)break;if(o.length!==t)throw new Error("Not enough bytes for next row.");const a=zC(o,n);r.writeUint16LE(a.length),r.writeBytes([...a])}return new Uint8Array(r.data)}function zC(e,t){const n=new Ow;let r=[],i=ng(e);if(i.value===t&&i.cursor===e.length)return n.toUint8Array();for(;i.runLength>0;){if(i.value===t){if(pf(r,n),r=[],i.runLength=GC(i.runLength,n),i.runLength>0)continue}else if(r.length===0&&i.runLength===2||i.runLength>=3){if(pf(r,n),r=[],i.runLength=HC(i.value,i.runLength,n),i.runLength>0)continue}else for(let o=0;o<i.runLength;o++)r.push(i.value);i=ng(e,i.cursor)}return pf(r,n),n.toUint8Array()}function pf(e,t){for(let n=0;n<e.length;n+=64){const r=Math.min(64,e.length-n),i=Xm(r-1<<2);t.writeByte(i);for(let o=0;o<r;o++)t.writeByte(e[n+o])}}function GC(e,t){const n=Math.min(e,127),r=Xm(n<<1|1);return t.writeByte(r),e-n}function HC(e,t,n){const r=Math.min(t,64),i=Xm(r-1<<2|2);return n.writeByte(i),n.writeByte(e),t-r}function ng(e,t=0){if(t===e.length)return{value:0,runLength:0,cursor:t};const n=e[t];t+=1;let r=1;for(t;t<e.length;t++){if(e[t]!==n)return{value:n,runLength:r,cursor:t};r++}return{value:n,runLength:r,cursor:t}}function Xm(e){return e&255}function WC(e){if(e<0)throw new Error(`Invalid unsigned integer: "${e}".`);if(e>65535)throw new Error(`Number "${e}" doesn't fit into 16-bits (2 bytes). Your image is possibly too large?`)}class Ow{constructor(t=[]){this._data=t}get data(){return this._data}writeByte(t){this._data.push(t)}writeUint16LE(t){WC(t),this._data.push(t&255),this._data.push(t>>8&255)}writeBytes(t){this._data.push(...t)}toUint8Array(){return new Uint8Array(this._data)}}class VC{constructor(){Xr(this,"layerDataCache",{}),Xr(this,"layerDataCacheKeys",[])}set(t,n,r){this.layerDataCacheKeys.includes(t)?console.warn(`ERROR: Overriding layerDataCache at position: ${t}`):this.layerDataCacheKeys.push(t),this.layerDataCache[t]={layerData:n,metadata:r}}get(t,n){for(const r of this.layerDataCacheKeys){const i=this.layerDataCache[r];if(i===void 0)throw new Error("Something went very wrong (in the code).");if(n===i.metadata&&this.compareLayerData(t,i.layerData))return{offset:r,layerData:i.layerData}}}compareLayerData(t,n){return t.kind==="palette-idx"?n.kind!=="palette-idx"?!1:this.compareBytes(t.indices,n.indices):n.kind!=="raw-colors"?!1:this.compareBytes(t.colorData.bytes,n.colorData.bytes)}compareBytes(t,n){if(t.length>n.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0}}class KC{constructor(){Xr(this,"segments",[]),Xr(this,"totalSize",0),Xr(this,"format"),Xr(this,"rawColorsFormat"),Xr(this,"layerDataCache",new VC)}pushSegment(t){this.segments.push(t),this.totalSize+=t.length}getCurrentSize(){return this.totalSize}createFinalBuffer(){const t=new Uint8Array(this.totalSize);let n=0;return this.segments.forEach(r=>{t.set(r,n),n+=r.length}),t}validateFormat(t){if(this.format===void 0){this.format=t;return}if(this.format!==t)throw new Error(`Current format doesn't match with the format of the existing context. 
Expected: "${this.format}"; Got: "${t}"`)}validateRawColorsFormat(t){if(this.rawColorsFormat===void 0){this.rawColorsFormat=t;return}if(this.rawColorsFormat!==t)throw new Error(`Current color format doesn't match with the color format of the existing context. 
Expected: "${this.format}"; Got: "${t}"`)}}const qC=e=>{const t=new KC;return YC(t,e),ZC(t,e.entries),{buffer:t.createFinalBuffer()}};function YC(e,t){const n=new Uint8Array(gu),r=_t.createView(n);Zm.write(r,0,{idVersion:t.header.idVersion,unknown1:t.header.unknown1,entries:t.entries.length}),e.pushSegment(n)}function ZC(e,t){const n=t.length*4,r=new Uint8Array(n);e.pushSegment(r);const i=_t.createView(r);for(let o=0;o<t.length;o++){const a=t[o],s=XC(e,a);i.setUint32(o*4,s,!0)}}function XC(e,t){const n=new Uint8Array(pc),r=_t.createView(n),i=_t.writeString(t.name,32);Km.write(r,0,{frames:t.frames.length,unknown1:t.unknown1,unknown2:t.unknown2,name:i});const o=e.getCurrentSize();return e.pushSegment(n),QC(e,t),o}function QC(e,t){const n=[];for(let r=0;r<t.frames.length;r++){const i=new Uint8Array(hc);e.pushSegment(i),n.push(i)}for(let r=0;r<t.frames.length;r++){const i=t.frames[r],o=n[r],a=Lw(e,i.frameData),s=_t.createView(o);Ym.write(s,0,{ptrFrameData:a,duration:i.duration})}}function Lw(e,t){const n=new Uint8Array(qm),r=_t.createView(n),i=e.getCurrentSize();e.pushSegment(n);const o={width:t.width,height:t.height,xPos:t.xOffset,yPos:t.yOffset,transparencyIdx:t.transparencyIndex,unknown2:t.unknown2,unknown3:t.unknown3};if(t.kind==="single"){const{ptrFrameData:p,compressionFlag:d}=JC(e,t),h={...o,compressed:d,framePointers:0,ptrFrameData:p};return mc.write(r,0,h),i}const a=e.getCurrentSize(),s={...o,compressed:0,framePointers:t.layers.length,ptrFrameData:a};mc.write(r,0,s);const c=t.layers.length*4,u=new Uint8Array(c);e.pushSegment(u);const f=_t.createView(u);for(let p=0;p<t.layers.length;p++){const d=t.layers[p],h=Lw(e,d);f.setUint32(p*4,h,!0)}return i}function JC(e,t){return t.layerData.kind==="palette-idx"?eI(e,t.layerData,t.width,t.transparencyIndex):tI(e,t.layerData)}function eI(e,t,n,r){e.validateFormat("palette-idx");const i=e.layerDataCache.get(t,n);if(i!==void 0&&i.layerData.kind==="palette-idx")return{ptrFrameData:i.offset,compressionFlag:i.layerData.decompressed?1:0};const o=e.getCurrentSize(),a=t.decompressed?1:0;if(a===1){const s=UC(t.indices,n,r);e.pushSegment(s)}else e.pushSegment(t.indices);return e.layerDataCache.set(o,t,n),{ptrFrameData:o,compressionFlag:a}}function tI(e,t){e.validateFormat("raw-colors"),e.validateRawColorsFormat(t.colorData.format);const n=t.colorData.format==="argb4444"?4:5,r=e.layerDataCache.get(t);if(r!==void 0)return{ptrFrameData:r.offset,compressionFlag:n};const i=e.getCurrentSize();return e.pushSegment(t.colorData.bytes),e.layerDataCache.set(i,t),{ptrFrameData:i,compressionFlag:n}}const nI=Object.freeze(Object.defineProperty({__proto__:null,writeToBuffer:qC},Symbol.toStringTag,{value:"Module"})),yt=Object.freeze(Object.defineProperty({__proto__:null,BIT_DEPTHS:uC,get BitDepth(){return Za},COLOR_DATA_FORMATS:fC,get ColorData(){return sp},get ColorDataFormat(){return dc},ColorUtils:AC,Constants:vC,Internals:NC,Reader:$C,Writer:nI},Symbol.toStringTag,{value:"Module"})),rI=e=>{try{return{kind:"ok",result:{kind:"single",buffer:yt.Writer.writeToBuffer(e).buffer}}}catch(t){return{kind:"err",error:{errorMsg:t+""}}}},iI=(e,t)=>{try{return{kind:"ok",result:{kind:"taf-pair",buffer1555:yt.Writer.writeToBuffer(e).buffer,buffer4444:yt.Writer.writeToBuffer(t).buffer}}}catch(n){return{kind:"err",error:{errorMsg:n+""}}}};var Pn;(e=>{function t(r){return new Promise((i,o)=>{setTimeout(()=>{r().then(i).catch(o)},200)})}e.defer=t;function n(r,i){return t(()=>Promise.all(r.map(i)))}e.deferMap=n})(Pn||(Pn={}));function Qm({exportFileName:e,virtualGaf:t,exporter:n,onAbort:r}){const[i,o]=R.useState(),[a,s]=R.useState(),[c,u]=R.useState(!1),[f,p]=R.useState({});R.useEffect(()=>()=>{const y=Object.values(f);console.log(`Revoking downloadables... (${y.length})`);for(const g of y)g.revoke()});const d=R.useCallback((y,g,k)=>{let _=f[k];_===void 0&&(console.log(`Caching downloadable now for: ${g}`),_=fc.createDownloadable(y,g),p(S=>({...S,[k]:_}))),_.download()},[f]),h=R.useCallback((y,g,k)=>{if(g.kind==="single"){if(k!==null&&k!=="solo")throw new Error("This should not be possible.");const{buffer:_}=g,S=ka.getFileNameFor(e,y);d(_,S,"solo")}else{if(k==="solo")throw new Error("This should not be possible.");if(k==="1555"||k===null){const _=g.buffer1555,S=ka.getFileNameFor(e,y,"1555");d(_,S,"1555")}if(k==="4444"||k===null){const _=g.buffer4444,S=ka.getFileNameFor(e,y,"4444");d(_,S,"4444")}}},[d,e]),x=R.useCallback(y=>{if(i===void 0||i.kind==="err")throw console.error(i==null?void 0:i.error),new Error("Cannot download.");if(a===void 0||a.kind==="err")throw console.error(a==null?void 0:a.error),new Error("Cannot download.");h(i.result,a.result,y)},[i,a,h]),b=R.useCallback(y=>{Pn.defer(async()=>{if(y.kind==="taf-pair"){const{taf1555:_,taf4444:S}=y;return iI(_,S)}const k=y.kind==="gaf"?y.gaf:y.taf;return rI(k)}).then(k=>{if(k.kind==="err"){s(k);return}const _=k.result;s({kind:"ok",result:_}),y.nonFatalErrors.length===0&&h(y,_,null)}).catch(k=>{alert("Unexpected error."),console.error(k),r()})},[r,h]),C=R.useCallback(()=>{c||(u(!0),Pn.defer(async()=>n.export(t)).then(y=>{u(!1),o(y),y.kind==="ok"&&b(y.result)}).catch(y=>{alert("Unexpected error."),console.error(y),r()}))},[c,t,n,r,b]);return i===void 0?l.jsx(nC,{onNext:C,onAbort:r}):c?l.jsx(Pt,{children:"Exporting..."}):i.kind==="err"?l.jsx(Ht,{children:l.jsx(kt,{children:l.jsx(sC,{error:i.error,onAbort:r})})}):a===void 0?l.jsx(Pt,{children:"Writing buffer with LibGaf..."}):a.kind==="err"?l.jsxs(Pt,{children:[l.jsx("div",{className:"mb-1",children:"An error occured while writing the file(s) buffer(s) using LibGaf."}),l.jsx("div",{className:"text-xs font-mono",children:a.error.errorMsg})]}):l.jsx(Ht,{children:l.jsx(kt,{children:l.jsx(aC,{exporterResult:i.result,onDownload:x})})})}var nn;(e=>{e.MIN_I16=-32768,e.MAX_I16=32767,e.MAX_U16=65535,e.MIN_I32=-2147483648,e.MAX_I32=2147483647,e.MAX_U32=4294967295,e.INT_TYPES=["u8","i8","u16","i16","u32","i32"],e.INT_TYPE_TO_SIZE={u8:8,i8:8,u16:16,i16:16,u32:32,i32:32},e.INT_TYPE_TO_SIGNEDNESS={u8:!1,i8:!0,u16:!1,i16:!0,u32:!1,i32:!0};function t(n,r){let i,o;switch(r){case"u8":i=0,o=255;break;case"i8":i=-128,o=127;break;case"u16":i=0,o=e.MAX_U16;break;case"i16":i=e.MIN_I16,o=e.MAX_I16;break;case"u32":i=0,o=e.MAX_U32;break;case"i32":i=e.MIN_I32,o=e.MAX_I32;break;default:throw new Error("Invalid integer type.")}return n>=i&&n<=o}e.validateInt=t})(nn||(nn={}));var Qt;(e=>{function t(i,o){const a=i.toString(16).padStart(o/4,"0").toUpperCase();return`${i} (0x${a})`}e.printInt=t;function n(i,o,a,s,c,u){if(o!==a){const f=nn.INT_TYPE_TO_SIZE[s],p=nn.INT_TYPE_TO_SIGNEDNESS[s]?"signed":"unsigned";u.push({path:c,message:`${i} should normally be: ${t(a,f)}`,severity:"med"}),nn.validateInt(o,s)||u.push({path:c,message:`${i} field won't fit into a ${p} ${f}-bit integer.`,severity:"high"})}}e.validateIntValueAndSize=n;function r(i,o,a,s,c){const u=nn.INT_TYPE_TO_SIZE[a],f=nn.INT_TYPE_TO_SIGNEDNESS[a]?"signed":"unsigned";nn.validateInt(o,a)||c.push({path:s,message:`${i} field won't fit into a ${f} ${u}-bit integer.`,severity:"high"})}e.validateIntSize=r})(Qt||(Qt={}));const Vs=yt.Constants;class Bw{build(t,n){const r=[],i=[],o=this.buildEntries(t.entries,r,i);return o.kind==="err"?o:{kind:"ok",result:{actualResult:{header:n??{idVersion:Vs.USUAL_HEADER_ID_VERSION,unknown1:Vs.USUAL_HEADER_UNKNOWN1},entries:o.result},errors:i}}}buildEntries(t,n,r){if(t.length===0)return{kind:"err",error:{path:n,message:"List of sequence is empty.",nonFatalErrors:r}};const i=[];for(let o=0;o<t.length;o++){const a=t[o],s=[...n,{node:"Entry",pos:o}],c=cc.validateEntryName(a.name);c.kind==="invalid"&&r.push({path:n,message:`Name is invalid. Reason: ${c.reason}`,severity:"med"}),Qt.validateIntValueAndSize("Unknown1",a.unknown1,Vs.USUAL_ENTRY_UNKNOWN1,"u16",n,r),Qt.validateIntValueAndSize("Unknown2",a.unknown2,Vs.USUAL_ENTRY_UNKNOWN2,"u32",n,r);const u=this.buildFrames(a.frames,s,r);if(u.kind==="err")return u;i.push({name:a.name,unknown1:a.unknown1,unknown2:a.unknown2,frames:u.result})}return{kind:"ok",result:i}}buildFrames(t,n,r){if(t.length===0)return{kind:"err",error:{path:n,message:"List of frames is empty.",nonFatalErrors:r}};const i=[];for(let o=0;o<t.length;o++){const a=t[o],s=[...n,{node:"Frame",pos:o}];Qt.validateIntSize("Duration",a.duration,"u32",n,r);const c=this.buildFrameData(a.frameData,s,r);if(c.kind==="err")return c;i.push({duration:a.duration,frameData:c.result})}return{kind:"ok",result:i}}buildFrameData(t,n,r){const i=[...n,{node:"Frame Data"}];return t.kind==="single"?this.buildFrameDataSingleLayer(t,i,r):this.buildFrameDataMultiLayer(t,i,r)}buildFrameDataSingleLayer(t,n,r){const i=this.buildBaseFrameData(t,n,r);if(i.kind==="err")return i;const o=this.buildLayerData(t,n,r);return o.kind==="err"?o:{kind:"ok",result:{...i.result,kind:"single",layerData:o.result}}}buildFrameDataMultiLayer(t,n,r){const i=this.buildBaseFrameData(t,n,r);if(i.kind==="err")return i;if(t.layers.length===0)return{kind:"err",error:{path:n,message:"Multi-layered frame cannot have an empty list of subframes.",nonFatalErrors:r}};const o=[];for(let a=0;a<t.layers.length;a++){const s=t.layers[a],c=[...n,{node:"Subframe",pos:a}],u=this.buildFrameDataSingleLayer(s,c,r);if(u.kind==="err")return u;o.push(u.result)}return{kind:"ok",result:{...i.result,kind:"multi",layers:o}}}buildBaseFrameData(t,n,r){const{width:i,height:o,xOffset:a,yOffset:s,transparencyIndex:c,unknown2:u,unknown3:f}=t;return Qt.validateIntSize("Width",i,"u16",n,r),Qt.validateIntSize("Height",o,"u16",n,r),Qt.validateIntSize("X offset",a,"i16",n,r),Qt.validateIntSize("Y offset",s,"i16",n,r),Qt.validateIntSize("Transparency index",c,"u8",n,r),Qt.validateIntSize("Unknown2",u,"u32",n,r),Qt.validateIntSize("Unknown3",f,"u32",n,r),{kind:"ok",result:{width:i,height:o,xOffset:a,yOffset:s,transparencyIndex:c,unknown2:u,unknown3:f}}}}class oI extends Bw{buildLayerData(t,n,r){const i=t.layerData.imageResource.paletteIndices,o=t.width*t.height;if(i.length!==o){const a=`Number of palette indices (${i.length}) doesn't match with the frame dimensions (${t.width} x ${t.height}).`;return{kind:"err",error:{path:n,message:a,nonFatalErrors:r}}}for(let a=0;a<i.length;a++){const s=i[a];if(s<0||s>255)return{kind:"err",error:{path:n,message:`Invalid byte "${s}" at index ${a} of the palette.`,nonFatalErrors:r}}}return{kind:"ok",result:{kind:"palette-idx",decompressed:t.layerData.compress,indices:i}}}}class aI{export(t,n){const i=new oI().build(t,n);return i.kind==="err"?i:{kind:"ok",result:{kind:"gaf",gaf:i.result.actualResult,nonFatalErrors:i.result.errors}}}}function sI({exportFileName:e,virtualGaf:t,onAbort:n,onEnded:r}){const i=new aI;return l.jsx(Qm,{exportFileName:e,virtualGaf:t,exporter:i,onAbort:n})}class $w extends Bw{exportLayerDataForFormat(t,n,r,i,o,a){const s=i.colorData,c=t==="taf_1555"?"argb1555":"argb4444";if(s.format!==c){const p=`Wrong image color data format. Expected: ${c}; Got: ${s.format}`;return{kind:"err",error:{path:o,message:p,nonFatalErrors:a}}}const u=s.bytes.length,f=n*r;if(u!==f*2){const p=`Number of image pixels (${u*2}) doesn't match with the frame dimensions (${n} x ${r}).`;return{kind:"err",error:{path:o,message:p,nonFatalErrors:a}}}return{kind:"ok",result:{kind:"raw-colors",colorData:s}}}}class lI extends $w{buildLayerData(t,n,r){const i=this.exportLayerDataForFormat("taf_1555",t.width,t.height,t.layerData.imageResource1555,[...n,{node:"1555"}],r),o=this.exportLayerDataForFormat("taf_4444",t.width,t.height,t.layerData.imageResource4444,[...n,{node:"4444"}],r);return i.kind==="err"?i:o.kind==="err"?o:{kind:"ok",result:{data1555:i.result,data4444:o.result}}}}class cI{export(t,n){const i=new lI().build(t,n);if(i.kind==="err")return i;const{taf1555:o,taf4444:a}=uI(i.result.actualResult),s=i.result.errors;return{kind:"ok",result:{kind:"taf-pair",taf1555:o,taf4444:a,nonFatalErrors:s}}}}function uI(e){const t=[],n=[];for(const o of e.entries){const a=[],s=[];for(const c of o.frames){const{frameData1555:u,frameData4444:f}=fI(c.frameData);a.push({...c,frameData:u}),s.push({...c,frameData:f})}t.push({...o,frames:a}),n.push({...o,frames:s})}const r={entries:t,header:e.header},i={entries:n,header:e.header};return{taf1555:r,taf4444:i}}function fI(e){if(e.kind==="single")return rg(e);const t=e.layers.map(n=>rg(n));return{frameData1555:{...e,layers:t.map(n=>n.frameData1555)},frameData4444:{...e,layers:t.map(n=>n.frameData4444)}}}function rg(e){const t={...e,layerData:e.layerData.data1555},n={...e,layerData:e.layerData.data4444};return{frameData1555:t,frameData4444:n}}function dI({exportFileName:e,virtualGaf:t,onAbort:n,onEnded:r}){const i=new cI;return l.jsx(Qm,{exportFileName:e,virtualGaf:t,exporter:i,onAbort:n})}class pI extends $w{constructor(t){super(),this.subFormat=t}buildLayerData(t,n,r){return this.exportLayerDataForFormat(this.subFormat,t.width,t.height,t.layerData.imageResource,n,r)}}class mI{constructor(t){this.subFormat=t}export(t,n){const i=new pI(this.subFormat).build(t,n);return i.kind==="err"?i:{kind:"ok",result:{kind:"taf-solo",subFormat:this.subFormat,taf:i.result.actualResult,nonFatalErrors:i.result.errors}}}}var ko;(e=>{function t(){return eg(r=>r.currentTaf)}e.useCurrentTaf=t;function n(){return eg(r=>r.subFormat)}e.useSubFormat=n})(ko||(ko={}));function hI({exportFileName:e,virtualGaf:t,onAbort:n,onEnded:r}){const i=ko.useSubFormat(),o=new mI(i);return l.jsx(Qm,{exportFileName:e,virtualGaf:t,exporter:o,onAbort:n})}function vI({onAbort:e,onEnded:t}){const n=Y.useCurrentGaf(),r=Y.useFormat();let i;return n.kind==="blank"?i=null:n.kind==="from-file-single"?i=n.fileName:i={1555:n.data1555.fileName,4444:n.data4444.fileName},r==="gaf"?l.jsx(sI,{virtualGaf:n.virtualGaf,exportFileName:i,onAbort:e,onEnded:t}):r==="taf-solo"?l.jsx(hI,{virtualGaf:n.virtualGaf,exportFileName:i,onAbort:e,onEnded:t}):l.jsx(dI,{virtualGaf:n.virtualGaf,exportFileName:i,onAbort:e,onEnded:t})}function gI({close:e}){return l.jsx("div",{style:{minWidth:600},children:l.jsx(vI,{onAbort:e,onEnded:e})})}const xI="flex justify-center items-center bg-blue-50 text-slate-600 border-2 border-dashed border-gray-400 cursor-pointer hover:text-sky-600 hover:bg-blue-100 hover:border-sky-400 transition-colors text-center min-h-44 p-4";function up({currentFile:e,label:t,multi:n,onChoose:r,className:i,accept:o,disabled:a}){t??(t=`(Click here or drag'n'drop ${n?"files":"a file"})`);const s=R.useRef(null),c=R.useRef(null),u=h=>{if(a)return;const x=h.target.files;if(x===null||x.length===0)return;const b=[...x];r(n?b:b[0])},f=h=>{h.preventDefault(),a||(h.dataTransfer.dropEffect="copy")},p=h=>{if(h.preventDefault(),!a){const x=h.dataTransfer.files;if(x.length>0){const b=Array.from(x);r(n?b:b[0])}}},d=R.useMemo(()=>i?i({hasFile:e!==void 0,disabled:a??!1}):xI,[i,e,a]);return l.jsxs(l.Fragment,{children:[l.jsx("div",{ref:s,onClick:h=>{h.preventDefault(),!a&&c.current!==null&&c.current.click()},onDragOver:f,onDrop:p,className:d,children:e?e.name:t}),l.jsx("input",{ref:c,type:"file",multiple:n===!0,style:{display:"none"},accept:o,onChange:u})]})}function Uw({onFinish:e,onAbort:t,acceptFiles:n,isReplacing:r}){return l.jsxs(Ht,{children:[l.jsx(kt,{children:r?l.jsx(up,{defaultStyling:!0,multi:!1,onChoose:i=>e([i]),accept:n}):l.jsx(up,{defaultStyling:!0,multi:!0,onChoose:e,accept:n})}),l.jsx("div",{className:"flex",children:l.jsx(oe,{onClick:t,children:"Cancel"})})]})}function ca({children:e,onClick:t,disabled:n,className:r,title:i}){const o=n?"":"hover:bg-slate-200",a=n?"text-slate-400":"text-slate-600";return l.jsx("button",{className:`px-1 py-0.5 rounded ${o} ${a} ${r}`,onClick:()=>!n&&t(),disabled:n,title:i,children:e})}const ir=R.createContext(void 0),hs=R.createContext(void 0),zw={"application/prs.cww":["cww"],"application/prs.xsf+xml":["xsf"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["*xfdf"],"application/vnd.age":["age"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["*fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["*mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.pwg-xhtml-print+xml":["xhtm"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml","uo"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["*prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["*sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["*aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif","btf"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.cld":["cld"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.pytha.pyox":["pyo","pyox"],"model/vnd.sap.vds":["vds"],"model/vnd.usda":["usda"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.familysearch.gedcom":["ged"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]};Object.freeze(zw);const Gw={"application/andrew-inset":["ez"],"application/appinstaller":["appinstaller"],"application/applixware":["aw"],"application/appx":["appx"],"application/appxbundle":["appxbundle"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/automationml-aml+xml":["aml"],"application/automationml-amlx+zip":["amlx"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cpl+xml":["cpl"],"application/cu-seeme":["cu"],"application/cwl":["cwl"],"application/dash+xml":["mpd"],"application/dash-patch+xml":["mpp"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdf":["fdf"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["*js"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/media-policy-dataset+xml":["mpf"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["*mp4","*mpg4","mp4s","m4p"],"application/msix":["msix"],"application/msixbundle":["msixbundle"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-keys":["asc"],"application/pgp-signature":["sig","*asc"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/sql":["sql"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/watcherinfo+xml":["wif"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xfdf":["xfdf"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/aac":["adts","aac"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avci":["avci"],"image/avcs":["avcs"],"image/avif":["avif"],"image/bmp":["bmp","dib"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/dpx":["dpx"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm","jpgm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/jt":["jt"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/prc":["prc"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/u3d":["u3d"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/javascript":["js","mjs"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["md","markdown"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/wgsl":["wgsl"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","*jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};Object.freeze(Gw);var Xt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ui,ua,Yr;let yI=class{constructor(...t){Ui.set(this,new Map),ua.set(this,new Map),Yr.set(this,new Map);for(const n of t)this.define(n)}define(t,n=!1){for(let[r,i]of Object.entries(t)){r=r.toLowerCase(),i=i.map(s=>s.toLowerCase()),Xt(this,Yr,"f").has(r)||Xt(this,Yr,"f").set(r,new Set);const o=Xt(this,Yr,"f").get(r);let a=!0;for(let s of i){const c=s.startsWith("*");if(s=c?s.slice(1):s,o==null||o.add(s),a&&Xt(this,ua,"f").set(r,s),a=!1,c)continue;const u=Xt(this,Ui,"f").get(s);if(u&&u!=r&&!n)throw new Error(`"${r} -> ${s}" conflicts with "${u} -> ${s}". Pass \`force=true\` to override this definition.`);Xt(this,Ui,"f").set(s,r)}}return this}getType(t){if(typeof t!="string")return null;const n=t.replace(/^.*[/\\]/,"").toLowerCase(),r=n.replace(/^.*\./,"").toLowerCase(),i=n.length<t.length;return!(r.length<n.length-1)&&i?null:Xt(this,Ui,"f").get(r)??null}getExtension(t){var n;return typeof t!="string"?null:(t=(n=t==null?void 0:t.split)==null?void 0:n.call(t,";")[0],(t&&Xt(this,ua,"f").get(t.trim().toLowerCase()))??null)}getAllExtensions(t){return typeof t!="string"?null:Xt(this,Yr,"f").get(t.toLowerCase())??null}_freeze(){this.define=()=>{throw new Error("define() not allowed for built-in Mime objects. See https://github.com/broofa/mime/blob/main/README.md#custom-mime-instances")},Object.freeze(this);for(const t of Xt(this,Yr,"f").values())Object.freeze(t);return this}_getTestState(){return{types:Xt(this,Ui,"f"),extensions:Xt(this,ua,"f")}}};Ui=new WeakMap,ua=new WeakMap,Yr=new WeakMap;const _o=new yI(Gw,zw)._freeze(),ig="px-2 py-1 text-sm overflow-hidden";function Hw({items:e,setItems:t,selectedIndex:n,setSelectedIndex:r}){if(e.length===0)throw new Error("No items.");const i=n===void 0,o=n!==void 0&&n===0,a=n!==void 0&&n===e.length-1,s=n!==void 0&&e[n].disabled,c=R.useContext(ir),u=R.useCallback(p=>{if(n===void 0)return;const d=n+p;if(d<0||d>=e.length)throw new Error("Out of bounds");const h=[...e];[h[n],h[d]]=[h[d],h[n]],t(h),r(d)},[n,e,t,r]),f=R.useCallback(p=>{if(n===void 0)return;const d={...e[n]};if(d.error!==void 0){c.pushModal({title:"This file is unsupported by the selected Image Importer",body:l.jsx(Pt,{children:d.error})});return}const h=[...e];h[n]={...d,disabled:!p},t(h)},[n,e,t,c]);return l.jsxs("div",{className:"flex flex-col",children:[l.jsx("div",{className:"border border-slate-400 overflow-auto",style:{height:250},children:l.jsx("table",{children:l.jsx("tbody",{children:e.map((p,d)=>{const h=n===d,x=p.error!==void 0,b=h?"bg-sky-200":p.disabled?"":"group-hover:bg-sky-50",C=p.disabled?"opacity-50 line-through":x?"text-red-600":"text-slate-600",y=_o.getType(p.fileName),g=y?_o.getExtension(y):null;return l.jsxs("tr",{className:"group cursor-pointer",onClick:k=>{k.preventDefault(),r(d)},children:[l.jsx("td",{className:`${ig} ${b} ${C} w-full font-medium`,style:{maxWidth:1},children:l.jsx("div",{className:"truncate",children:p.fileName})}),l.jsx("td",{className:`${ig} ${b} ${C} font-medium`,children:(g==null?void 0:g.toUpperCase())??"??"})]},d)})})})}),l.jsx("div",{className:"flex justify-center border border-t-0 border-slate-400",children:l.jsxs("div",{className:"flex px-1 py-0.5 space-x-1",children:[l.jsx(ca,{onClick:()=>u(1),disabled:i||a,title:"Move Down",children:l.jsx(ie.CircleCaretDown,{})}),l.jsx(ca,{onClick:()=>u(-1),disabled:i||o,title:"Move Up",children:l.jsx(ie.CircleCaretUp,{})}),l.jsx(ca,{onClick:()=>f(!1),disabled:i||s,title:"Disable",children:l.jsx(ie.CircleX,{})}),l.jsx(ca,{onClick:()=>f(!0),disabled:i||!s,title:"Enable",children:l.jsx(ie.CircleCheck,{})})]})})]})}function Jm({image:e,width:t,height:n,contain:r,smoothing:i,scaleX:o,scaleY:a,style:s}){const c=R.useRef(null),u=o??1,f=a??1;R.useEffect(()=>{const b=c.current;if(b===null)return;const C=b.getContext("2d");C.imageSmoothingEnabled=i,C.putImageData(e,0,0)},[e,i]);let p;(u!==1||f!==1)&&(p=`${u} ${f}`);const h={imageRendering:i?"auto":"pixelated"},x=r?{...s,...h,width:"auto",height:"auto",maxWidth:"100%",maxHeight:"100%"}:{...s,...h,width:t,height:n,maxWidth:t,maxHeight:n,scale:p};return l.jsx("canvas",{ref:c,width:t,height:n,style:x})}const yu={version:"0.0.1",baseUrl:"/gaf-studio-web"},vc=["white","black","green","#FF00FF","var(--color-gray-100)","#303030",'url("images/bg/paintnet-bg.png")','url("images/bg/firefox-bg-noise.png")','url("images/bg/868a8222.JPG")','url("images/bg/6e68fae8.jpg")','url("images/bg/9A5C5436.JPG")','url("images/bg/9bb50b09.JPG")','url("images/bg/9e1ac834.JPG")','url("images/bg/18c8f89c.JPG")'],wI=()=>{vc.forEach(e=>{if(e.startsWith('url("')&&e.endsWith('")')){const t=e.slice(5,-2),n=`${yu.baseUrl}/${t}`,r=new Image;r.src=n}})},pt=Fw()(e=>({background:vc[4],importBackground:vc[6],mainCanvasLayerOrder:new Set(["GRID","IMAGE","CROSS","BOUNDS","O_BOUNDS"]),mainCanvasLayerVisibility:{GRID:!0,IMAGE:!0,CROSS:!0,BOUNDS:!0,O_BOUNDS:!0},gridSpacing:16,gridStyle:"#0000000A",crossStyle:"#FF0000FF",boundsStyle:"#FF00FFEE",originBoundsStyle:"#0000FFEE",actions:{setBackground:t=>e({background:t}),setImportBackground:t=>e({importBackground:t}),setMainCanvasLayerVisibility:t=>e({mainCanvasLayerVisibility:t}),setMainCanvasLayerOrder:t=>e({mainCanvasLayerOrder:t}),setGridSpacing:t=>e({gridSpacing:t}),setGridStyle:t=>e({gridStyle:t}),setCrossStyle:t=>e({crossStyle:t}),setBoundsStyle:t=>e({boundsStyle:t}),setOriginBoundsStyle:t=>e({originBoundsStyle:t})}}));function Zn({imageData:e,imageWidth:t,imageHeight:n,wrapperWidth:r,wrapperHeight:i}){r??(r=250),i??(i=300);const o=pt(s=>s.importBackground),a=l.jsx(Jm,{image:e,width:t,height:n,contain:!0,smoothing:!1,style:{background:o,border:"1px solid var(--color-gray-300)"}});return l.jsx("div",{className:"relative",style:{width:Math.min(r,t),height:Math.min(i,n)},children:l.jsx("div",{className:"absolute inset-0 flex justify-center items-center bg-slate-100",children:a})})}function Ww(e){return e.error===void 0}function bI({decodedUserFiles:e,onFinish:t,onAbort:n}){if(e.length===0)throw new Error("No files.");const[r,i]=R.useState(e.map(f=>{const p=f.error;return{content:f,fileName:f.file.name,disabled:p!==void 0,error:p}})),[o,a]=R.useState(),s=R.useCallback(()=>{const p=r.filter(d=>!d.disabled).map(d=>d.content).filter(Ww).map(({file:d,decodedUserImage:h,selectedImporter:x})=>({file:d,decodedUserImage:h,selectedImporter:x}));t(p)},[r,t]),c=o!==void 0?r[o]:void 0,u=r.every(f=>f.disabled);return l.jsxs(Ht,{children:[l.jsx(kt,{children:l.jsxs("div",{className:"flex space-x-4 mb-4",children:[l.jsxs("div",{className:"flex-1 overflow-hidden",children:[l.jsxs("div",{className:"text-center text-xs font-bold text-slate-500 mb-0.5",children:["Reorder Files (",r.length,")"]}),l.jsx(Hw,{items:r,setItems:i,selectedIndex:o,setSelectedIndex:a})]}),l.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[l.jsx("div",{className:"text-center text-xs font-bold text-slate-500 mb-0.5",children:"Image Preview"}),l.jsx(kI,{selectedItem:c})]})]})}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(oe,{color:"default",onClick:n,children:"Cancel"}),l.jsx(oe,{color:"success",onClick:s,disabled:u,children:"Import"})]})]})}function kI({selectedItem:e}){if(e===void 0)return l.jsx("div",{className:"flex justify-center items-center text-gray-400 text-center p-2",children:"(No file selected)"});const t=e.content;if(!Ww(t))return l.jsx("button",{className:"flex justify-center items-center text-red-600 text-center p-2 hover:underline",onClick:()=>{console.log(t.error),alert(t.error)},children:"(Couldn't decode file)"});const n=l.jsx(Zn,{imageData:t.decodedUserImage.image,imageWidth:t.decodedUserImage.metadata.width,imageHeight:t.decodedUserImage.metadata.height});return e.disabled?l.jsxs("div",{className:"relative",children:[l.jsx("div",{style:{opacity:"30%"},children:n}),l.jsx("div",{className:"absolute inset-0 flex justify-center items-center text-center",children:l.jsx("span",{className:"text-gray-500 font-bold",children:"(Disabled)"})})]}):n}var si;(e=>{async function t(r,i,o){const a=_o.getType(r.name);if(a===null)return{file:r,error:`Couldn't detect mimeType for file name: ${r.name}.`};const s=_o.getExtension(a);if(s===null)return{file:r,error:`Unsupported mimeType: ${a}`};for(const c of o){if(!c.supportedFileExts.includes(s))continue;const f=await c.createUserImage(r);return"error"in f?{file:r,error:f.error}:{file:r,selectedImporter:{importer:c,config:c.makeDefaultConfig({palette:i})},decodedUserImage:f}}return{file:r,error:`No decoder available for file extension: ${s}`}}e.decodeImage=t;async function n(r){const{decodedUserImage:i,selectedImporter:o}=r,{importer:a,config:s}=o,c=await a.createResource(i,s);return{file:r.file,selectedImporter:o,decodedUserImage:i,importerResult:c}}e.importImage=n})(si||(si={}));function Vw({total:e,current:t,onPrev:n,onNext:r,onFinish:i}){const o=t===0,a=t===e-1;return l.jsxs("div",{className:"flex flex-col",children:[e>1&&l.jsxs("div",{className:"flex justify-between mb-2",children:[l.jsxs(oe,{color:"default",onClick:n,disabled:o,children:[l.jsx(ie.Prev,{size:18}),l.jsx("span",{className:"text-sm",children:"Prev"})]}),l.jsx("div",{className:"self-center",children:l.jsxs("span",{className:"font-mono",children:[t+1,"/",e]})}),l.jsxs(oe,{color:"default",onClick:r,disabled:a,children:[l.jsx("span",{className:"text-sm",children:"Next"}),l.jsx(ie.Next,{size:18})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx(oe,{color:"success",onClick:i,children:l.jsx("span",{className:"text-sm",children:"Finish"})})})]})}function Kw({href:e,children:t,newTab:n}){return l.jsx("a",{href:e,className:"text-sky-600 hover:text-sky-500 underline",target:n?"_blank":void 0,children:t})}class Oo{compileImage(t,n,r){if(r.bytes.length!==t*n*4)throw new Error("Dimension doesn't match with expected byte length.");const i=new Uint8ClampedArray(r.bytes.buffer,r.bytes.byteOffset,r.bytes.byteLength);return new ImageData(i,t,n)}}const mf=256*3;var Dt;(e=>{const t=new Oo;async function n(s){const c=await s.arrayBuffer(),u=new Uint8Array(c);return r(u)}e.loadFromPcxFile=n;function r(s){if(s.length<mf)throw new Error("File is too small. Are you sure this is a .pcx file?");const c=s.length-mf;return{rgbData:new Uint8Array(s.buffer,s.byteOffset+c,mf)}}e.loadFromPcxFileData=r;function i(s,c,u,f,p){if(f.length!==s*c)throw new Error("indices.length !== width * height");const d=new Uint8Array(s*c*4);for(let h=0;h<f.length;h++){const x=f[h],b=h*4;if(x===u){d[b+0]=0,d[b+1]=0,d[b+2]=0,d[b+3]=0;continue}const C=p.rgbData,y=x*3,g=C[y+0],k=C[y+1],_=C[y+2];d[b+0]=g,d[b+1]=k,d[b+2]=_,d[b+3]=255}return{format:"rgba8888",bytes:d}}e.createColorData=i;function o(s){const c=new Uint8Array(1024);for(let u=0;u<256;u++)c[u*4+0]=s.rgbData[u*3+0],c[u*4+1]=s.rgbData[u*3+1],c[u*4+2]=s.rgbData[u*3+2],c[u*4+3]=255;return c}e.paletteToRgbaBytes=o;function a(s,c){c??(c=t);const u=o(s);return{width:16,height:16,image:c.compileImage(16,16,{format:"rgba8888",bytes:u})}}e.compilePreviewImage=a})(Dt||(Dt={}));function _I({currentPalette:e,setCurrentPalette:t}){const[n,r]=R.useState(!1),i=R.useRef(null),o=R.useCallback(async p=>{if(!n){r(!0);try{const d=await Dt.loadFromPcxFile(p),h=Dt.compilePreviewImage(d);t({kind:"custom-file",palette:d,originFile:p,previewImage:h})}catch{}finally{r(!1)}}},[n,r,t]),a=R.useCallback(()=>{i.current!==null&&i.current.click()},[]);let s,c,u;switch(e.kind){case"raw":s="(None)",c=null,u=e.customName??"(Raw bytes)";break;case"custom-file":s=e.originFile.name,c="TODO",u="(Custom file)";break;case"world":s=e.fileName,c="TODO",u=e.world;break;default:throw new Error("")}const f=l.jsxs(l.Fragment,{children:[l.jsx(He,{label:"Change palette",onClick:a}),l.jsx("input",{ref:i,style:{display:"none"},type:"file",onChange:p=>{p.preventDefault();const d=p.target.files;d&&d.length===1&&o(d[0])},accept:".pcx"})]});return l.jsxs("div",{className:"flex flex-col space-y-1.5 text-xs",children:[l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("div",{className:"font-bold",children:"File:"}),l.jsx("div",{children:c===null?l.jsx("span",{children:s}):l.jsx(Kw,{href:c,newTab:!0,children:s})})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("div",{className:"font-bold",children:"Name:"}),l.jsx("div",{className:"truncate",children:u})]})]}),l.jsx("div",{className:"flex",children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("div",{className:"font-bold",children:"Options:"}),l.jsx("div",{children:f})]})})]})}function SI({currentPalette:e,scaleX:t,scaleY:n}){const{width:r,height:i,image:o}=e.previewImage;return l.jsx("div",{className:"flex justify-center items-center",style:{width:r*t,height:i*n},children:l.jsx(Jm,{image:o,width:r,height:i,contain:!1,smoothing:!1,scaleX:t,scaleY:n})})}function qw({currentPalette:e}){return l.jsxs("div",{className:"flex flex-col",children:[l.jsx("div",{className:"flex justify-center mb-1",children:l.jsx("span",{className:"font-bold text-xs",children:"Preview"})}),l.jsx("div",{className:"flex justify-center",children:l.jsx(SI,{currentPalette:e,scaleX:2,scaleY:2})})]})}function EI({currentPalette:e,setCurrentPalette:t}){return l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"flex flex-col bg-gray-100 rounded px-2 py-0.5",children:[l.jsx("div",{className:"text-center text-gray-500 font-bold text-xs mb-0.5",children:"Current Palette:"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(_I,{currentPalette:e,setCurrentPalette:t}),l.jsx(qw,{currentPalette:e})]})]})})}const tt=Fw()(e=>({frameListMode:"thumbs",subframeListMode:"thumbs",importerWorkspaceOptionsCollapsed:!1,showMultiFrameFrameData:!1,activePairSubFormat:"taf_4444",enableUnknownEditing:!1,actions:{setFrameListMode:t=>e({frameListMode:t}),setSubframeListMode:t=>e({subframeListMode:t}),setImporterWorkspaceOptionsCollapsed:t=>e({importerWorkspaceOptionsCollapsed:t}),setShowMultiFrameFrameData:t=>e({showMultiFrameFrameData:t}),setActivePairSubFormat:t=>e({activePairSubFormat:t}),setEnableUnknownEditing:t=>e({enableUnknownEditing:t})}}));function jI({currentPalette:e,setCurrentPalette:t}){const n=tt(i=>i.importerWorkspaceOptionsCollapsed),r=tt(i=>i.actions.setImporterWorkspaceOptionsCollapsed);return l.jsxs("div",{children:[l.jsxs(uc,{children:["Workspace Options",l.jsx("span",{className:"ml-1 font-normal",children:l.jsx(He,{label:n?"Expand":"Collapse",onClick:()=>r(!n)})})]}),!n&&l.jsx(EI,{currentPalette:e,setCurrentPalette:t})]})}function CI({importedFile:e,currentConfig:t,setCurrentConfig:n,onClickApplyAll:r}){const{numberPrompt:i}=R.useContext(hs),o=R.useCallback(async()=>{const p=await i({title:"Override Transparency Index",label:"Enter a Transparency Index value:",min:0,max:255,defaultValue:t.options.transparencyIndex});p===null||p<0||p>255||n({...t,options:{...t.options,transparencyIndex:p}})},[t,n,i]),a=R.useCallback(()=>{if(e.importerResult.kind==="error"){alert("Can't use value from the Importer because the importer errored out.");return}n({...t,options:{...t.options,transparencyIndex:e.importerResult.result.transparencyIndex}})},[e,n,t]),s=l.jsxs("label",{className:"flex items-center space-x-1.5",children:[l.jsx("input",{type:"checkbox",checked:t.options.center,onChange:p=>{const d=p.target.checked;n({...t,options:{...t.options,center:d}})}}),l.jsx("span",{children:"Auto center image"})]}),c=l.jsxs("label",{className:"flex items-center space-x-1.5",children:[l.jsx("input",{type:"checkbox",checked:t.options.compress,onChange:p=>{const d=p.target.checked;n({...t,options:{...t.options,compress:d}})}}),l.jsx("span",{children:"Compress image"})]}),u=e.importerResult.kind!=="error"&&t.options.transparencyIndex!==e.importerResult.result.transparencyIndex,f=l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex items-center space-x-1.5",children:[l.jsx("span",{children:"Transparency Index:"}),l.jsx("span",{className:`font-mono ${u?"text-red-600 italic underline":""}`,title:u?II:void 0,children:t.options.transparencyIndex})]}),l.jsxs("div",{className:"flex flex-wrap space-x-2 text-xs",children:[l.jsx(He,{label:"Override",onClick:o,title:"Override the value assigned by the Importer with a fixed value"}),u&&l.jsx(He,{label:"Reset",onClick:a,title:"Resets the overridden value to the value assigned by the Importer",disabled:!u})]})]});return l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-1 flex flex-col items-start",children:l.jsxs("div",{className:"flex flex-col items-start space-y-2",children:[s,c,r&&l.jsx("div",{className:"self-center mt-2 text-center text-xs",children:l.jsx(He,{label:"Apply to all images",onClick:r})})]})}),l.jsx("div",{className:"mx-4 border-l border-slate-200"}),l.jsx("div",{className:"flex-1 flex flex-col items-start space-y-2",children:f})]})}const II="This value differs from the value that was assigned by the Importer. Only use this if you really know what you're doing. Click [Reset] if you don't.";function Yw({color:e,size:t}){const{r:n,g:r,b:i}=e,o="a"in e?e.a:void 0,a=o!==void 0?o/255:void 0,s=a===void 0?`rgb(${n},${r},${i})`:`rgba(${n},${r},${i},${a})`;return l.jsx("div",{className:"inline-block",style:{width:t??32,height:t??32,background:s}})}const gc=7,og=3,ag=20,vs=132,eh=vs,th=34,wu=36,AI=40,fp=20;function Zw({value:e,setValue:t,min:n,max:r,allowUnsafeIntegers:i}){i||(n??(n=Number.MIN_SAFE_INTEGER),r??(r=Number.MAX_SAFE_INTEGER));const o=R.useCallback(s=>{if(s.preventDefault(),t===void 0)return;let c=parseInt(s.target.value);Number.isNaN(c)||(n!==void 0&&(c=Math.max(c,n)),r!==void 0&&(c=Math.min(c,r)),t(c))},[n,r,t]),a=t?"border-gray-300":"border-transparent";return l.jsx("input",{type:"number",className:`hide-spin-button w-auto font-mono border ${a} px-0.5 py-0`,style:{width:AI,height:fp},value:e??"",onChange:o})}function yi({icon:e,onClick:t}){const n=t?"hover:bg-slate-100":"";return l.jsx("button",{className:`flex justify-center items-center p-0.5 bg-slate-200 ${n} border border-slate-300 font-mono`,style:{width:fp,height:fp},onClick:t,children:e})}function NI({value:e,setValue:t,promptMessage:n,min:r,max:i}){const{numberPrompt:o}=R.useContext(hs),a=R.useCallback(async()=>{if(t===void 0)return;const s=await o({title:"Number prompt",label:n??"Enter a number:",min:r,max:i});s!==null&&t(s)},[t,n,r,i,o]);return l.jsxs("div",{className:"inline-flex items-center space-x-0.5",children:[l.jsx(Zw,{value:e,setValue:t,min:r,max:i}),l.jsx(yi,{icon:l.jsx(ie.Edit,{size:14}),onClick:t?a:void 0})]})}function bu({htmlId:e,name:t,options:n,required:r,disabled:i,frozenValue:o,value:a,onChange:s,defaultValue:c,className:u}){o&&(a=o,s=()=>{},c=void 0);const f=!i&&o===void 0?"bg-main-700":"bg-main-800",p=i?"opacity-50":"";return l.jsx("select",{className:`w-full px-2 py-1 border border-main-800 ${f} ${p} ${u??""}`,name:t,id:e,required:r,disabled:i,value:a,onChange:s?d=>s(d.target.value):void 0,defaultValue:c,children:n.map(d=>l.jsx("option",{value:d.id,children:d.label},d.id))})}function FI({transpIndexStrategy:e,setTranspIndexStrategy:t,palette:n}){const r=l.jsx(bu,{options:[{id:"auto-assign",label:"None (auto-assign)"},{id:"fixed-index",label:"Manual value"}],value:e.kind,onChange:s=>{let c;s==="auto-assign"?c={kind:"auto-assign"}:c={kind:"fixed-index",fixedIndex:9},t(c)}});if(e.kind==="auto-assign")return r;const i=e.fixedIndex,o={r:n.rgbData[i*3+0],g:n.rgbData[i*3+1],b:n.rgbData[i*3+2]},a=l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-xs text-gray-500 mr-1",children:"Index:"}),l.jsx(NI,{min:0,max:255,promptMessage:"Palette index:",value:i,setValue:s=>{t({kind:"fixed-index",fixedIndex:s})}})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-xs text-gray-500 mr-1",children:"Color:"}),l.jsx(Yw,{color:o,size:16})]})]});return l.jsxs("div",{children:[l.jsx("div",{className:"mb-1",children:r}),a]})}function RI({transparencyStrategy:e,setTransparencyStrategy:t}){const{colorPrompt:n}=R.useContext(hs),r=R.useCallback(async s=>{const c="a"in s?{...s}:{...s,a:255},u=await n({title:"Source transparency",label:"Select a color",defaultColor:c,enableAlpha:!1});u!==null&&t({kind:"custom-color",color:u})},[n,t]),i=l.jsx(bu,{options:[{id:"auto-alpha",label:"Auto (alpha)"},{id:"custom-color",label:"Custom color"}],value:e.kind,onChange:s=>{let c;s==="auto-alpha"?c={kind:"auto-alpha"}:c={kind:"custom-color",color:{r:255,g:0,b:255}},t(c)}});if(e.kind==="auto-alpha")return i;const{color:o}=e,a=l.jsxs("div",{className:"flex items-center hover:bg-gray-200 cursor-pointer px-1.5 py-0.5 rounded",onClick:()=>r(o),title:"Click to select a color",children:[l.jsx("div",{className:"mr-4",children:l.jsx(Yw,{color:o,size:16})}),l.jsx("div",{className:"grow flex flex-col",children:l.jsxs("div",{className:"flex justify-between text-sm font-mono mb-0.5 space-x-2",children:[l.jsxs("div",{className:"text-red-700",children:["R: ",o.r]}),l.jsxs("div",{className:"text-green-700",children:["G: ",o.g]}),l.jsxs("div",{className:"text-blue-700",children:["B: ",o.b]})]})})]});return l.jsxs("div",{children:[l.jsx("div",{className:"mb-1",children:i}),a]})}function TI({config:e,setConfig:t}){return l.jsxs("div",{className:"flex",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-center text-xs text-gray-500 font-bold mb-0.5",children:"Source Transparency"}),l.jsx(RI,{transparencyStrategy:e.transparencyStrategy,setTransparencyStrategy:n=>{t({...e,transparencyStrategy:n})}})]}),l.jsx("div",{className:"border-r border-gray-300 pl-2 mr-2"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-center text-xs text-gray-500 font-bold mb-0.5",children:"Reserved Transparency Index"}),l.jsx(FI,{transpIndexStrategy:e.transpIndexStrategy,setTranspIndexStrategy:n=>{t({...e,transpIndexStrategy:n})},palette:e.palette})]})]})}var tr;(e=>{function t(n,r){if(n!==r)throw new Error(`Expected ${n} === ${r}`)}e.assertEq=t})(tr||(tr={}));var dp;(function(e){e[e.BITMAP_INFO_HEADER=40]="BITMAP_INFO_HEADER",e[e.BITMAP_V2_INFO_HEADER=52]="BITMAP_V2_INFO_HEADER",e[e.BITMAP_V3_INFO_HEADER=56]="BITMAP_V3_INFO_HEADER",e[e.BITMAP_V4_HEADER=108]="BITMAP_V4_HEADER",e[e.BITMAP_V5_HEADER=124]="BITMAP_V5_HEADER"})(dp||(dp={}));const En=dp;function PI(e,t,n,r){const i=~e+1&e,o=~t+1&t,a=~n+1&n,s=~r+1&r,c=e/i+1,u=t/o+1,f=n/a+1,p=r/s+1;return{shiftRed:d=>(d&e)/i*256/c,shiftGreen:d=>(d&t)/o*256/u,shiftBlue:d=>(d&n)/a*256/f,shiftAlpha:r!==0?d=>(d&r)/s*256/p:()=>255}}class DI{constructor(t,{toRGBA:n}={toRGBA:!1}){if(this.buffer=t,this.toRGBA=!!n,this.pos=0,this.bottomUp=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!=="BM")throw new Error("Invalid BMP File");this.locRed=this.toRGBA?0:3,this.locGreen=this.toRGBA?1:2,this.locBlue=this.toRGBA?2:1,this.locAlpha=this.toRGBA?3:0,this.parseHeader(),this.parseRGBA()}parseHeader(){if(this.fileSize=this.readUInt32LE(),this.reserved1=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.reserved2=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.offset=this.readUInt32LE(),this.headerSize=this.readUInt32LE(),!(this.headerSize in En))throw new Error(`Unsupported BMP header size ${this.headerSize}`);if(this.width=this.readUInt32LE(),this.height=this.readUInt32LE(),this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compression=this.readUInt32LE(),this.rawSize=this.readUInt32LE(),this.hr=this.readUInt32LE(),this.vr=this.readUInt32LE(),this.colors=this.readUInt32LE(),this.importantColors=this.readUInt32LE(),this.bitPP===32?(this.maskAlpha=0,this.maskRed=16711680,this.maskGreen=65280,this.maskBlue=255):this.bitPP===16&&(this.maskAlpha=0,this.maskRed=31744,this.maskGreen=992,this.maskBlue=31),(this.headerSize>En.BITMAP_INFO_HEADER||this.compression===3||this.compression===6)&&(this.maskRed=this.readUInt32LE(),this.maskGreen=this.readUInt32LE(),this.maskBlue=this.readUInt32LE()),(this.headerSize>En.BITMAP_V2_INFO_HEADER||this.compression===6)&&(this.maskAlpha=this.readUInt32LE()),this.headerSize>En.BITMAP_V3_INFO_HEADER&&(this.pos+=En.BITMAP_V4_HEADER-En.BITMAP_V3_INFO_HEADER),this.headerSize>En.BITMAP_V4_HEADER&&(this.pos+=En.BITMAP_V5_HEADER-En.BITMAP_V4_HEADER),this.bitPP<=8||this.colors>0){const n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(let r=0;r<n;r++){const i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++);this.palette[r]={red:a,green:o,blue:i,quad:s}}}this.height<0&&(this.height*=-1,this.bottomUp=!1);const t=PI(this.maskRed,this.maskGreen,this.maskBlue,this.maskAlpha);this.shiftRed=t.shiftRed,this.shiftGreen=t.shiftGreen,this.shiftBlue=t.shiftBlue,this.shiftAlpha=t.shiftAlpha}parseRGBA(){switch(this.data=Buffer.alloc(this.width*this.height*4),this.bitPP){case 1:this.bit1();break;case 4:this.bit4();break;case 8:this.bit8();break;case 16:this.bit16();break;case 24:this.bit24();break;default:this.bit32()}}bit1(){const t=Math.ceil(this.width/8),n=t%4,r=n!==0?4-n:0;this.scanImage(r,t,(i,o)=>{const a=this.buffer.readUInt8(this.pos++),s=o*this.width*4+i*8*4;for(let c=0;c<8&&i*8+c<this.width;c++){const u=this.palette[a>>7-c&1];this.data[s+c*this.locAlpha]=0,this.data[s+c*4+this.locBlue]=u.blue,this.data[s+c*4+this.locGreen]=u.green,this.data[s+c*4+this.locRed]=u.red}})}bit4(){if(this.compression===2){this.data.fill(0);let t=!1,n=this.bottomUp?this.height-1:0,r=0;for(;r<this.data.length;){const i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++);if(i===0){if(o===0){n+=this.bottomUp?-1:1,r=n*this.width*4,t=!1;continue}if(o===1)break;if(o===2){const a=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++);n+=this.bottomUp?-s:s,r+=s*this.width*4+a*4}else{let a=this.buffer.readUInt8(this.pos++);for(let s=0;s<o;s++)r=this.setPixelData(r,t?a&15:(a&240)>>4),s&1&&s+1<o&&(a=this.buffer.readUInt8(this.pos++)),t=!t;(o+1>>1&1)===1&&this.pos++}}else for(let a=0;a<i;a++)r=this.setPixelData(r,t?o&15:(o&240)>>4),t=!t}}else{const t=Math.ceil(this.width/2),n=t%4,r=n!==0?4-n:0;this.scanImage(r,t,(i,o)=>{const a=this.buffer.readUInt8(this.pos++),s=o*this.width*4+i*2*4,c=a>>4;let u=this.palette[c];if(this.data[s]=0,this.data[s+1]=u.blue,this.data[s+2]=u.green,this.data[s+3]=u.red,i*2+1>=this.width)return!1;const f=a&15;u=this.palette[f],this.data[s+4]=0,this.data[s+4+1]=u.blue,this.data[s+4+2]=u.green,this.data[s+4+3]=u.red})}}bit8(){if(this.compression===1){this.data.fill(0);let t=this.bottomUp?this.height-1:0,n=0;for(;n<this.data.length;){const r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);if(r===0){if(i===0){t+=this.bottomUp?-1:1,n=t*this.width*4;continue}if(i===1)break;if(i===2){const o=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);t+=this.bottomUp?-a:a,n+=a*this.width*4+o*4}else{for(let a=0;a<i;a++){const s=this.buffer.readUInt8(this.pos++);n=this.setPixelData(n,s)}i&!0&&this.pos++}}else for(let o=0;o<r;o++)n=this.setPixelData(n,i)}}else{const t=this.width%4,n=t!==0?4-t:0;this.scanImage(n,this.width,(r,i)=>{const o=this.buffer.readUInt8(this.pos++),a=i*this.width*4+r*4;if(o<this.palette.length){const s=this.palette[o];this.data[a]=0,this.data[a+1]=s.blue,this.data[a+2]=s.green,this.data[a+3]=s.red}else this.data[a]=0,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255})}}bit16(){const t=this.width%2*2;this.scanImage(t,this.width,(n,r)=>{const i=r*this.width*4+n*4,o=this.buffer.readUInt16LE(this.pos);this.pos+=2,this.data[i+this.locRed]=this.shiftRed(o),this.data[i+this.locGreen]=this.shiftGreen(o),this.data[i+this.locBlue]=this.shiftBlue(o),this.data[i+this.locAlpha]=this.shiftAlpha(o)})}bit24(){const t=this.width%4;this.scanImage(t,this.width,(n,r)=>{const i=r*this.width*4+n*4,o=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++);this.data[i+this.locRed]=s,this.data[i+this.locGreen]=a,this.data[i+this.locBlue]=o,this.data[i+this.locAlpha]=0})}bit32(){this.scanImage(0,this.width,(t,n)=>{const r=n*this.width*4+t*4,i=this.readUInt32LE();this.data[r+this.locRed]=this.shiftRed(i),this.data[r+this.locGreen]=this.shiftGreen(i),this.data[r+this.locBlue]=this.shiftBlue(i),this.data[r+this.locAlpha]=this.shiftAlpha(i)})}scanImage(t=0,n=this.width,r){for(let i=this.height-1;i>=0;i--){const o=this.bottomUp?i:this.height-1-i;for(let a=0;a<n;a++)if(r.call(this,a,o)===!1)return;this.pos+=t}}readUInt32LE(){const t=this.buffer.readUInt32LE(this.pos);return this.pos+=4,t}setPixelData(t,n){const{blue:r,green:i,red:o}=this.palette[n];return this.data[t+this.locAlpha]=0,this.data[t+1+this.locBlue]=r,this.data[t+2+this.locGreen]=i,this.data[t+3+this.locRed]=o,t+4}}function sg(e){return e.reduce((t,n)=>t<<1|n,0)}function hf(e){return e.quad<<24|e.red<<16|e.green<<8|e.blue}class MI{constructor(t){switch(this.buffer=t.data,this.width=t.width,this.height=t.height,this.headerSize=En.BITMAP_INFO_HEADER,this.flag="BM",this.bitPP=t.bitPP,this.offset=54,this.reserved1=t.reserved1||0,this.reserved2=t.reserved2||0,this.planes=1,this.compress=0,this.hr=t.hr||0,this.vr=t.vr||0,this.importantColors=t.importantColors||0,this.colors=Math.min(2**(this.bitPP-1||1),t.colors||1/0),this.palette=t.palette||[],this.colors&&this.bitPP<16?this.offset+=this.colors*4:this.colors=0,this.bitPP){case 32:this.bytesInColor=4;break;case 16:this.bytesInColor=2;break;case 8:this.bytesInColor=1;break;case 4:this.bytesInColor=1/2;break;case 1:this.bytesInColor=1/8;break;default:this.bytesInColor=3,this.bitPP=24}const n=this.width*this.bitPP/32,r=Math.ceil(n);this.extraBytes=(r-n)*4,this.rawSize=this.height*r*4+2,this.fileSize=this.rawSize+this.offset,this.data=Buffer.alloc(this.fileSize,1),this.pos=0,this.encode()}encode(){switch(this.pos=0,this.writeHeader(),this.bitPP){case 32:this.bit32();break;case 16:this.bit16();break;case 8:this.bit8();break;case 4:this.bit4();break;case 1:this.bit1();break;default:this.bit24()}}writeHeader(){this.data.write(this.flag,this.pos,2),this.pos+=2,this.writeUInt32LE(this.fileSize),this.writeUInt32LE(this.reserved1<<16|this.reserved2),this.writeUInt32LE(this.offset),this.writeUInt32LE(this.headerSize),this.writeUInt32LE(this.width),this.writeUInt32LE(this.height),this.data.writeUInt16LE(this.planes,this.pos),this.pos+=2,this.data.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,this.writeUInt32LE(this.compress),this.writeUInt32LE(this.rawSize),this.writeUInt32LE(this.hr),this.writeUInt32LE(this.vr),this.writeUInt32LE(this.colors),this.writeUInt32LE(this.importantColors)}bit1(){this.palette.length&&this.colors===2?this.initColors(1):(this.writeUInt32LE(16777215),this.writeUInt32LE(0)),this.pos+=1;let t=[];this.writeImage((n,r,i)=>{let o=r;o++;const a=this.buffer[o++],s=this.buffer[o++],u=this.buffer[o++]*.2126+s*.7152+a*.0722;return t.push(u>127?0:1),(i+1)%8===0?(this.data[n-1]=sg(t),t=[]):i===this.width-1&&t.length>0&&(this.data[n-1]=sg(t)<<4,t=[]),o})}bit4(){const t=this.initColors(4);let n=[];this.writeImage((r,i,o)=>{let a=i;const s=hf({quad:this.buffer[a++],blue:this.buffer[a++],green:this.buffer[a++],red:this.buffer[a++]}),c=t.findIndex(u=>u===s);return c!==-1?n.push(c):n.push(0),(o+1)%2===0&&(this.data[r]=n[0]<<4|n[1],n=[]),a})}bit8(){const t=this.initColors(8);this.writeImage((n,r)=>{let i=r;const o=hf({quad:this.buffer[i++],blue:this.buffer[i++],green:this.buffer[i++],red:this.buffer[i++]}),a=t.findIndex(s=>s===o);return a!==-1?this.data[n]=a:this.data[n]=0,i})}bit16(){this.writeImage((t,n)=>{let r=n+1;const i=this.buffer[r++]/8,o=this.buffer[r++]/8,s=this.buffer[r++]/8<<10|o<<5|i;return this.data[t]=s&255,this.data[t+1]=(s&65280)>>8,r})}bit24(){this.writeImage((t,n)=>{let r=n+1;return this.data[t]=this.buffer[r++],this.data[t+1]=this.buffer[r++],this.data[t+2]=this.buffer[r++],r})}bit32(){this.writeImage((t,n)=>{let r=n;return this.data[t+3]=this.buffer[r++],this.data[t]=this.buffer[r++],this.data[t+1]=this.buffer[r++],this.data[t+2]=this.buffer[r++],r})}writeImage(t){const n=this.extraBytes+this.width*this.bytesInColor;let r=0;for(let i=0;i<this.height;i++)for(let o=0;o<this.width;o++){const a=Math.floor(this.pos+(this.height-1-i)*n+o*this.bytesInColor);r=t.call(this,a,r,o,i)}}initColors(t){const n=[];if(this.palette.length)for(let r=0;r<this.colors;r++){const i=hf(this.palette[r]);this.writeUInt32LE(i),n.push(i)}else throw new Error(`To encode ${t}-bit BMPs a pallette is needed. Please choose up to ${this.colors} colors. Colors must be 32-bit integers.`);return n}writeUInt32LE(t){this.data.writeUInt32LE(t,this.pos),this.pos+=4}}const OI={decode:(e,t)=>new DI(e,t),encode:e=>new MI(e)},Xw={supportedFileExts:["bmp"],decodeFile:async e=>{try{const t=await e.arrayBuffer(),n=Buffer.from(t),r=OI.decode(n,{toRGBA:!1}),i=r.bitPP===32&&"maskAlpha"in r,{data:o,width:a,height:s}=r;tr.assertEq(a*s*4,o.length);const c=new Uint8Array(o.length);for(let p=0;p<a*s;p++)c[p*4+0]=o[p*4+3],c[p*4+1]=o[p*4+2],c[p*4+2]=o[p*4+1],c[p*4+3]=i?o[p*4+0]:255;const u=new Uint8ClampedArray(c.buffer,c.byteOffset,c.byteLength),f=new ImageData(u,a,s);return{colorData:{format:"rgba8888",bytes:c},image:f,metadata:{width:a,height:s,diagnostics:"TODO"}}}catch(t){return{error:"Unknown error: "+t}}}},LI=Symbol("common"),BI=new Oo;function Qw(e){return{format:"gaf",subKind:e.subKind,supportedFileExts:e.decoder.supportedFileExts,title:e.title,makeDefaultConfig:t=>({compatibilityKey:LI,palette:t.palette,transparencyStrategy:{kind:"auto-alpha"},transpIndexStrategy:{kind:"auto-assign"}}),createUserImage:e.decoder.decodeFile,createResource:async(t,n)=>{const{width:r,height:i}=t.metadata,{palette:o,transparencyStrategy:a,transpIndexStrategy:s}=n,c=t.colorData.bytes;tr.assertEq(r*i*4,c.length);let u=0,f=0,p=s.kind==="fixed-index"?s.fixedIndex:void 0;const d=a.kind==="custom-color"?a.color:void 0,h=[];for(let S=0;S<r*i;S++){const N=c[S*4+0],T=c[S*4+1],j=c[S*4+2],F=c[S*4+3];if(d!==void 0){const{r:L,g:$,b:O}=d,P="a"in d?d.a:void 0;if(N===L&&T===$&&j===O&&(P===void 0||F===P)){h[S]=null;continue}}if(F!==255){F!==0&&f++,h[S]=null;continue}const A=$I(N,T,j,o,p);if(A!==!1){h[S]=A;continue}u++,h[S]=UI(N,T,j,o,p)}const x=new Uint8Array(r*i);tr.assertEq(h.length,x.length);let b;if(s.kind==="auto-assign"){const S=GI(h);if(S===null)return{kind:"error",error:"Failed to auto-assign a transparency index. Please manually select an index from the palette (preferable) or reduce the number of colors used in the source image so that less than 255 unique colors are used.",resource:null};b=S}else b=s.fixedIndex;for(let S=0;S<h.length;S++){const N=h[S];x[S]=N===null?b:N}const C=Dt.createColorData(r,i,b,x,o),y=BI.compileImage(r,i,C),k={resource:{kind:"paletted",userImage:t.image,compiledImage:y,paletteIndices:x},lossyColorMatches:u,lossyAlphaMatches:f,transparencyIndex:b},_=[];return u>0&&_.push("Lossy conversion. Not every color in the source image exists in the selected palette file."),f>0&&_.push("Lossy conversion. Not every pixel was fully transparent or fully opaque. In other words, some of the pixels had a semi-transparent color (which isn't supported by the GAF format)."),_.length>0?{kind:"warning",warning:_.join("; "),result:k}:{kind:"success",result:k}}}}function $I(e,t,n,r,i){for(let o=0;o<256;o++){if(o===i)continue;const a=r.rgbData[o*3+0],s=r.rgbData[o*3+1],c=r.rgbData[o*3+2];if(e===a&&t===s&&n===c)return o}return!1}function UI(e,t,n,r,i){let o=i??null,a=1/0;for(let s=0;s<256;s++){if(s===i)continue;const c=r.rgbData[s*3+0],u=r.rgbData[s*3+1],f=r.rgbData[s*3+2],p=Math.sqrt(Math.pow(e-c,2)+Math.pow(t-u,2)+Math.pow(n-f,2));p<a&&(o=s,a=p)}return o}const zI=9;function GI(e){const t=zI;if(!e.includes(t))return t;for(let n=0;n<256;n++)if(!e.includes(n))return n;return null}const HI=Symbol("bmp"),Jw=Qw({subKind:HI,title:"BMP Importer",decoder:Xw});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const WI=4,lg=0,cg=1,VI=2;function Lo(e){let t=e.length;for(;--t>=0;)e[t]=0}const KI=0,eb=1,qI=2,YI=3,ZI=258,nh=29,gs=256,Xa=gs+1+nh,co=30,rh=19,tb=2*Xa+1,ni=15,vf=16,XI=7,ih=256,nb=16,rb=17,ib=18,pp=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),El=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),QI=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ob=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),JI=512,Wn=new Array((Xa+2)*2);Lo(Wn);const _a=new Array(co*2);Lo(_a);const Qa=new Array(JI);Lo(Qa);const Ja=new Array(ZI-YI+1);Lo(Ja);const oh=new Array(nh);Lo(oh);const xc=new Array(co);Lo(xc);function gf(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let ab,sb,lb;function xf(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const cb=e=>e<256?Qa[e]:Qa[256+(e>>>7)],es=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Nt=(e,t,n)=>{e.bi_valid>vf-n?(e.bi_buf|=t<<e.bi_valid&65535,es(e,e.bi_buf),e.bi_buf=t>>vf-e.bi_valid,e.bi_valid+=n-vf):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},An=(e,t,n)=>{Nt(e,n[t*2],n[t*2+1])},ub=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},eA=e=>{e.bi_valid===16?(es(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},tA=(e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,f,p,d,h,x,b=0;for(d=0;d<=ni;d++)e.bl_count[d]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<tb;u++)f=e.heap[u],d=n[n[f*2+1]*2+1]+1,d>c&&(d=c,b++),n[f*2+1]=d,!(f>r)&&(e.bl_count[d]++,h=0,f>=s&&(h=a[f-s]),x=n[f*2],e.opt_len+=x*(d+h),o&&(e.static_len+=x*(i[f*2+1]+h)));if(b!==0){do{for(d=c-1;e.bl_count[d]===0;)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[c]--,b-=2}while(b>0);for(d=c;d!==0;d--)for(f=e.bl_count[d];f!==0;)p=e.heap[--u],!(p>r)&&(n[p*2+1]!==d&&(e.opt_len+=(d-n[p*2+1])*n[p*2],n[p*2+1]=d),f--)}},fb=(e,t,n)=>{const r=new Array(ni+1);let i=0,o,a;for(o=1;o<=ni;o++)i=i+n[o-1]<<1,r[o]=i;for(a=0;a<=t;a++){let s=e[a*2+1];s!==0&&(e[a*2]=ub(r[s]++,s))}},nA=()=>{let e,t,n,r,i;const o=new Array(ni+1);for(n=0,r=0;r<nh-1;r++)for(oh[r]=n,e=0;e<1<<pp[r];e++)Ja[n++]=r;for(Ja[n-1]=r,i=0,r=0;r<16;r++)for(xc[r]=i,e=0;e<1<<El[r];e++)Qa[i++]=r;for(i>>=7;r<co;r++)for(xc[r]=i<<7,e=0;e<1<<El[r]-7;e++)Qa[256+i++]=r;for(t=0;t<=ni;t++)o[t]=0;for(e=0;e<=143;)Wn[e*2+1]=8,e++,o[8]++;for(;e<=255;)Wn[e*2+1]=9,e++,o[9]++;for(;e<=279;)Wn[e*2+1]=7,e++,o[7]++;for(;e<=287;)Wn[e*2+1]=8,e++,o[8]++;for(fb(Wn,Xa+1,o),e=0;e<co;e++)_a[e*2+1]=5,_a[e*2]=ub(e,5);ab=new gf(Wn,pp,gs+1,Xa,ni),sb=new gf(_a,El,0,co,ni),lb=new gf(new Array(0),QI,0,rh,XI)},db=e=>{let t;for(t=0;t<Xa;t++)e.dyn_ltree[t*2]=0;for(t=0;t<co;t++)e.dyn_dtree[t*2]=0;for(t=0;t<rh;t++)e.bl_tree[t*2]=0;e.dyn_ltree[ih*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},pb=e=>{e.bi_valid>8?es(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},ug=(e,t,n,r)=>{const i=t*2,o=n*2;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},yf=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&ug(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!ug(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},fg=(e,t,n)=>{let r,i,o=0,a,s;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+o++]&255,r+=(e.pending_buf[e.sym_buf+o++]&255)<<8,i=e.pending_buf[e.sym_buf+o++],r===0?An(e,i,t):(a=Ja[i],An(e,a+gs+1,t),s=pp[a],s!==0&&(i-=oh[a],Nt(e,i,s)),r--,a=cb(r),An(e,a,n),s=El[a],s!==0&&(r-=xc[a],Nt(e,r,s)));while(o<e.sym_next);An(e,ih,t)},mp=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems;let a,s,c=-1,u;for(e.heap_len=0,e.heap_max=tb,a=0;a<o;a++)n[a*2]!==0?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):n[a*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=r[u*2+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)yf(e,n,a);u=o;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],yf(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[u*2]=n[a*2]+n[s*2],e.depth[u]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[a*2+1]=n[s*2+1]=u,e.heap[1]=u++,yf(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],tA(e,t),fb(n,c,e.bl_count)},dg=(e,t,n)=>{let r,i=-1,o,a=t[0*2+1],s=0,c=7,u=4;for(a===0&&(c=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)o=a,a=t[(r+1)*2+1],!(++s<c&&o===a)&&(s<u?e.bl_tree[o*2]+=s:o!==0?(o!==i&&e.bl_tree[o*2]++,e.bl_tree[nb*2]++):s<=10?e.bl_tree[rb*2]++:e.bl_tree[ib*2]++,s=0,i=o,a===0?(c=138,u=3):o===a?(c=6,u=3):(c=7,u=4))},pg=(e,t,n)=>{let r,i=-1,o,a=t[0*2+1],s=0,c=7,u=4;for(a===0&&(c=138,u=3),r=0;r<=n;r++)if(o=a,a=t[(r+1)*2+1],!(++s<c&&o===a)){if(s<u)do An(e,o,e.bl_tree);while(--s!==0);else o!==0?(o!==i&&(An(e,o,e.bl_tree),s--),An(e,nb,e.bl_tree),Nt(e,s-3,2)):s<=10?(An(e,rb,e.bl_tree),Nt(e,s-3,3)):(An(e,ib,e.bl_tree),Nt(e,s-11,7));s=0,i=o,a===0?(c=138,u=3):o===a?(c=6,u=3):(c=7,u=4)}},rA=e=>{let t;for(dg(e,e.dyn_ltree,e.l_desc.max_code),dg(e,e.dyn_dtree,e.d_desc.max_code),mp(e,e.bl_desc),t=rh-1;t>=3&&e.bl_tree[ob[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},iA=(e,t,n,r)=>{let i;for(Nt(e,t-257,5),Nt(e,n-1,5),Nt(e,r-4,4),i=0;i<r;i++)Nt(e,e.bl_tree[ob[i]*2+1],3);pg(e,e.dyn_ltree,t-1),pg(e,e.dyn_dtree,n-1)},oA=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return lg;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return cg;for(n=32;n<gs;n++)if(e.dyn_ltree[n*2]!==0)return cg;return lg};let mg=!1;const aA=e=>{mg||(nA(),mg=!0),e.l_desc=new xf(e.dyn_ltree,ab),e.d_desc=new xf(e.dyn_dtree,sb),e.bl_desc=new xf(e.bl_tree,lb),e.bi_buf=0,e.bi_valid=0,db(e)},mb=(e,t,n,r)=>{Nt(e,(KI<<1)+(r?1:0),3),pb(e),es(e,n),es(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},sA=e=>{Nt(e,eb<<1,3),An(e,ih,Wn),eA(e)},lA=(e,t,n,r)=>{let i,o,a=0;e.level>0?(e.strm.data_type===VI&&(e.strm.data_type=oA(e)),mp(e,e.l_desc),mp(e,e.d_desc),a=rA(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&t!==-1?mb(e,t,n,r):e.strategy===WI||o===i?(Nt(e,(eb<<1)+(r?1:0),3),fg(e,Wn,_a)):(Nt(e,(qI<<1)+(r?1:0),3),iA(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),fg(e,e.dyn_ltree,e.dyn_dtree)),db(e),r&&pb(e)},cA=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Ja[n]+gs+1)*2]++,e.dyn_dtree[cb(t)*2]++),e.sym_next===e.sym_end);var uA=aA,fA=mb,dA=lA,pA=cA,mA=sA,hA={_tr_init:uA,_tr_stored_block:fA,_tr_flush_block:dA,_tr_tally:pA,_tr_align:mA};const vA=(e,t,n,r)=>{let i=e&65535|0,o=e>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+t[r++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0};var ts=vA;const gA=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},xA=new Uint32Array(gA()),yA=(e,t,n,r)=>{const i=xA,o=r+n;e^=-1;for(let a=r;a<o;a++)e=e>>>8^i[(e^t[a])&255];return e^-1};var Xe=yA,So={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},xs={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:wA,_tr_stored_block:hp,_tr_flush_block:bA,_tr_tally:Cr,_tr_align:kA}=hA,{Z_NO_FLUSH:Ir,Z_PARTIAL_FLUSH:_A,Z_FULL_FLUSH:SA,Z_FINISH:rn,Z_BLOCK:hg,Z_OK:it,Z_STREAM_END:vg,Z_STREAM_ERROR:Dn,Z_DATA_ERROR:EA,Z_BUF_ERROR:wf,Z_DEFAULT_COMPRESSION:jA,Z_FILTERED:CA,Z_HUFFMAN_ONLY:Ks,Z_RLE:IA,Z_FIXED:AA,Z_DEFAULT_STRATEGY:NA,Z_UNKNOWN:FA,Z_DEFLATED:ku}=xs,RA=9,TA=15,PA=8,DA=29,MA=256,vp=MA+1+DA,OA=30,LA=19,BA=2*vp+1,$A=15,me=3,gr=258,Mn=gr+me+1,UA=32,Eo=42,ah=57,gp=69,xp=73,yp=91,wp=103,ri=113,fa=666,wt=1,Bo=2,wi=3,$o=4,zA=3,ii=(e,t)=>(e.msg=So[t],t),gg=e=>e*2-(e>4?9:0),pr=e=>{let t=e.length;for(;--t>=0;)e[t]=0},GA=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)};let HA=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,Ar=HA;const Lt=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},zt=(e,t)=>{bA(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Lt(e.strm)},ge=(e,t)=>{e.pending_buf[e.pending++]=t},Jo=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},bp=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=ts(e.adler,t,i,n):e.state.wrap===2&&(e.adler=Xe(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},hb=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,o,a=e.prev_length,s=e.nice_match;const c=e.strstart>e.w_size-Mn?e.strstart-(e.w_size-Mn):0,u=e.window,f=e.w_mask,p=e.prev,d=e.strstart+gr;let h=u[r+a-1],x=u[r+a];e.prev_length>=e.good_match&&(n>>=2),s>e.lookahead&&(s=e.lookahead);do if(i=t,!(u[i+a]!==x||u[i+a-1]!==h||u[i]!==u[r]||u[++i]!==u[r+1])){r+=2,i++;do;while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<d);if(o=gr-(d-r),r=d-gr,o>a){if(e.match_start=t,a=o,o>=s)break;h=u[r+a-1],x=u[r+a]}}while((t=p[t&f])>c&&--n!==0);return a<=e.lookahead?a:e.lookahead},jo=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Mn)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),GA(e),r+=t),e.strm.avail_in===0)break;if(n=bp(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=me)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Ar(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Ar(e,e.ins_h,e.window[i+me-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<me)););}while(e.lookahead<Mn&&e.strm.avail_in!==0)},vb=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,o,a=0,s=e.strm.avail_in;do{if(r=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o||(o=e.strm.avail_out-o,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>o&&(r=o),r<n&&(r===0&&t!==rn||t===Ir||r!==i+e.strm.avail_in)))break;a=t===rn&&r===i+e.strm.avail_in?1:0,hp(e,0,0,a),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Lt(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(bp(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(a===0);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?$o:t!==Ir&&t!==rn&&e.strm.avail_in===0&&e.strstart===e.block_start?Bo:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(bp(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,n=o>e.w_size?e.w_size:o,i=e.strstart-e.block_start,(i>=n||(i||t===rn)&&t!==Ir&&e.strm.avail_in===0&&i<=o)&&(r=i>o?o:i,a=t===rn&&e.strm.avail_in===0&&r===i?1:0,hp(e,e.block_start,r,a),e.block_start+=r,Lt(e.strm)),a?wi:wt)},bf=(e,t)=>{let n,r;for(;;){if(e.lookahead<Mn){if(jo(e),e.lookahead<Mn&&t===Ir)return wt;if(e.lookahead===0)break}if(n=0,e.lookahead>=me&&(e.ins_h=Ar(e,e.ins_h,e.window[e.strstart+me-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Mn&&(e.match_length=hb(e,n)),e.match_length>=me)if(r=Cr(e,e.strstart-e.match_start,e.match_length-me),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=me){e.match_length--;do e.strstart++,e.ins_h=Ar(e,e.ins_h,e.window[e.strstart+me-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ar(e,e.ins_h,e.window[e.strstart+1]);else r=Cr(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(zt(e,!1),e.strm.avail_out===0))return wt}return e.insert=e.strstart<me-1?e.strstart:me-1,t===rn?(zt(e,!0),e.strm.avail_out===0?wi:$o):e.sym_next&&(zt(e,!1),e.strm.avail_out===0)?wt:Bo},Ti=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<Mn){if(jo(e),e.lookahead<Mn&&t===Ir)return wt;if(e.lookahead===0)break}if(n=0,e.lookahead>=me&&(e.ins_h=Ar(e,e.ins_h,e.window[e.strstart+me-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=me-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Mn&&(e.match_length=hb(e,n),e.match_length<=5&&(e.strategy===CA||e.match_length===me&&e.strstart-e.match_start>4096)&&(e.match_length=me-1)),e.prev_length>=me&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-me,r=Cr(e,e.strstart-1-e.prev_match,e.prev_length-me),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=Ar(e,e.ins_h,e.window[e.strstart+me-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=me-1,e.strstart++,r&&(zt(e,!1),e.strm.avail_out===0))return wt}else if(e.match_available){if(r=Cr(e,0,e.window[e.strstart-1]),r&&zt(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return wt}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Cr(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<me-1?e.strstart:me-1,t===rn?(zt(e,!0),e.strm.avail_out===0?wi:$o):e.sym_next&&(zt(e,!1),e.strm.avail_out===0)?wt:Bo},WA=(e,t)=>{let n,r,i,o;const a=e.window;for(;;){if(e.lookahead<=gr){if(jo(e),e.lookahead<=gr&&t===Ir)return wt;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=me&&e.strstart>0&&(i=e.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=e.strstart+gr;do;while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=gr-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=me?(n=Cr(e,1,e.match_length-me),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Cr(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(zt(e,!1),e.strm.avail_out===0))return wt}return e.insert=0,t===rn?(zt(e,!0),e.strm.avail_out===0?wi:$o):e.sym_next&&(zt(e,!1),e.strm.avail_out===0)?wt:Bo},VA=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(jo(e),e.lookahead===0)){if(t===Ir)return wt;break}if(e.match_length=0,n=Cr(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(zt(e,!1),e.strm.avail_out===0))return wt}return e.insert=0,t===rn?(zt(e,!0),e.strm.avail_out===0?wi:$o):e.sym_next&&(zt(e,!1),e.strm.avail_out===0)?wt:Bo};function Sn(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const da=[new Sn(0,0,0,0,vb),new Sn(4,4,8,4,bf),new Sn(4,5,16,8,bf),new Sn(4,6,32,32,bf),new Sn(4,4,16,16,Ti),new Sn(8,16,32,32,Ti),new Sn(8,16,128,128,Ti),new Sn(8,32,128,256,Ti),new Sn(32,128,258,1024,Ti),new Sn(32,258,258,4096,Ti)],KA=e=>{e.window_size=2*e.w_size,pr(e.head),e.max_lazy_match=da[e.level].max_lazy,e.good_match=da[e.level].good_length,e.nice_match=da[e.level].nice_length,e.max_chain_length=da[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=me-1,e.match_available=0,e.ins_h=0};function qA(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ku,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(BA*2),this.dyn_dtree=new Uint16Array((2*OA+1)*2),this.bl_tree=new Uint16Array((2*LA+1)*2),pr(this.dyn_ltree),pr(this.dyn_dtree),pr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array($A+1),this.heap=new Uint16Array(2*vp+1),pr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*vp+1),pr(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ys=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Eo&&t.status!==ah&&t.status!==gp&&t.status!==xp&&t.status!==yp&&t.status!==wp&&t.status!==ri&&t.status!==fa?1:0},gb=e=>{if(ys(e))return ii(e,Dn);e.total_in=e.total_out=0,e.data_type=FA;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?ah:t.wrap?Eo:ri,e.adler=t.wrap===2?0:1,t.last_flush=-2,wA(t),it},xb=e=>{const t=gb(e);return t===it&&KA(e.state),t},YA=(e,t)=>ys(e)||e.state.wrap!==2?Dn:(e.state.gzhead=t,it),yb=(e,t,n,r,i,o)=>{if(!e)return Dn;let a=1;if(t===jA&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>RA||n!==ku||r<8||r>15||t<0||t>9||o<0||o>AA||r===8&&a!==1)return ii(e,Dn);r===8&&(r=9);const s=new qA;return e.state=s,s.strm=e,s.status=Eo,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+me-1)/me),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=t,s.strategy=o,s.method=n,xb(e)},ZA=(e,t)=>yb(e,t,ku,TA,PA,NA),XA=(e,t)=>{if(ys(e)||t>hg||t<0)return e?ii(e,Dn):Dn;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===fa&&t!==rn)return ii(e,e.avail_out===0?wf:Dn);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Lt(e),e.avail_out===0)return n.last_flush=-1,it}else if(e.avail_in===0&&gg(t)<=gg(r)&&t!==rn)return ii(e,wf);if(n.status===fa&&e.avail_in!==0)return ii(e,wf);if(n.status===Eo&&n.wrap===0&&(n.status=ri),n.status===Eo){let i=ku+(n.w_bits-8<<4)<<8,o=-1;if(n.strategy>=Ks||n.level<2?o=0:n.level<6?o=1:n.level===6?o=2:o=3,i|=o<<6,n.strstart!==0&&(i|=UA),i+=31-i%31,Jo(n,i),n.strstart!==0&&(Jo(n,e.adler>>>16),Jo(n,e.adler&65535)),e.adler=1,n.status=ri,Lt(e),n.pending!==0)return n.last_flush=-1,it}if(n.status===ah){if(e.adler=0,ge(n,31),ge(n,139),ge(n,8),n.gzhead)ge(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ge(n,n.gzhead.time&255),ge(n,n.gzhead.time>>8&255),ge(n,n.gzhead.time>>16&255),ge(n,n.gzhead.time>>24&255),ge(n,n.level===9?2:n.strategy>=Ks||n.level<2?4:0),ge(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(ge(n,n.gzhead.extra.length&255),ge(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Xe(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=gp;else if(ge(n,0),ge(n,0),ge(n,0),ge(n,0),ge(n,0),ge(n,n.level===9?2:n.strategy>=Ks||n.level<2?4:0),ge(n,zA),n.status=ri,Lt(e),n.pending!==0)return n.last_flush=-1,it}if(n.status===gp){if(n.gzhead.extra){let i=n.pending,o=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let s=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=Xe(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=s,Lt(e),n.pending!==0)return n.last_flush=-1,it;i=0,o-=s}let a=new Uint8Array(n.gzhead.extra);n.pending_buf.set(a.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>i&&(e.adler=Xe(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=xp}if(n.status===xp){if(n.gzhead.name){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Xe(e.adler,n.pending_buf,n.pending-i,i)),Lt(e),n.pending!==0)return n.last_flush=-1,it;i=0}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,ge(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Xe(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=yp}if(n.status===yp){if(n.gzhead.comment){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Xe(e.adler,n.pending_buf,n.pending-i,i)),Lt(e),n.pending!==0)return n.last_flush=-1,it;i=0}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,ge(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Xe(e.adler,n.pending_buf,n.pending-i,i))}n.status=wp}if(n.status===wp){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Lt(e),n.pending!==0))return n.last_flush=-1,it;ge(n,e.adler&255),ge(n,e.adler>>8&255),e.adler=0}if(n.status=ri,Lt(e),n.pending!==0)return n.last_flush=-1,it}if(e.avail_in!==0||n.lookahead!==0||t!==Ir&&n.status!==fa){let i=n.level===0?vb(n,t):n.strategy===Ks?VA(n,t):n.strategy===IA?WA(n,t):da[n.level].func(n,t);if((i===wi||i===$o)&&(n.status=fa),i===wt||i===wi)return e.avail_out===0&&(n.last_flush=-1),it;if(i===Bo&&(t===_A?kA(n):t!==hg&&(hp(n,0,0,!1),t===SA&&(pr(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Lt(e),e.avail_out===0))return n.last_flush=-1,it}return t!==rn?it:n.wrap<=0?vg:(n.wrap===2?(ge(n,e.adler&255),ge(n,e.adler>>8&255),ge(n,e.adler>>16&255),ge(n,e.adler>>24&255),ge(n,e.total_in&255),ge(n,e.total_in>>8&255),ge(n,e.total_in>>16&255),ge(n,e.total_in>>24&255)):(Jo(n,e.adler>>>16),Jo(n,e.adler&65535)),Lt(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?it:vg)},QA=e=>{if(ys(e))return Dn;const t=e.state.status;return e.state=null,t===ri?ii(e,EA):it},JA=(e,t)=>{let n=t.length;if(ys(e))return Dn;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==Eo||r.lookahead)return Dn;if(i===1&&(e.adler=ts(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(pr(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}const o=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,jo(r);r.lookahead>=me;){let c=r.strstart,u=r.lookahead-(me-1);do r.ins_h=Ar(r,r.ins_h,r.window[c+me-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=me-1,jo(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=me-1,r.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,r.wrap=i,it};var e4=ZA,t4=yb,n4=xb,r4=gb,i4=YA,o4=XA,a4=QA,s4=JA,l4="pako deflate (from Nodeca project)",Sa={deflateInit:e4,deflateInit2:t4,deflateReset:n4,deflateResetKeep:r4,deflateSetHeader:i4,deflate:o4,deflateEnd:a4,deflateSetDictionary:s4,deflateInfo:l4};const c4=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var u4=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)c4(n,r)&&(e[r]=n[r])}}return e},f4=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,o=e.length;r<o;r++){let a=e[r];n.set(a,i),i+=a.length}return n},_u={assign:u4,flattenChunks:f4};let wb=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{wb=!1}const ns=new Uint8Array(256);for(let e=0;e<256;e++)ns[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;ns[254]=ns[254]=1;var d4=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|n&63):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|n&63):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|n&63);return t};const p4=(e,t)=>{if(t<65534&&e.subarray&&wb)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var m4=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const o=new Array(n*2);for(i=0,r=0;r<n;){let a=e[r++];if(a<128){o[i++]=a;continue}let s=ns[a];if(s>4){o[i++]=65533,r+=s-1;continue}for(a&=s===2?31:s===3?15:7;s>1&&r<n;)a=a<<6|e[r++]&63,s--;if(s>1){o[i++]=65533;continue}a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|a&1023)}return p4(o,i)},h4=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+ns[e[n]]>t?n:t},rs={string2buf:d4,buf2string:m4,utf8border:h4};function v4(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var bb=v4;const kb=Object.prototype.toString,{Z_NO_FLUSH:g4,Z_SYNC_FLUSH:x4,Z_FULL_FLUSH:y4,Z_FINISH:w4,Z_OK:yc,Z_STREAM_END:b4,Z_DEFAULT_COMPRESSION:k4,Z_DEFAULT_STRATEGY:_4,Z_DEFLATED:S4}=xs;function sh(e){this.options=_u.assign({level:k4,method:S4,chunkSize:16384,windowBits:15,memLevel:8,strategy:_4},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bb,this.strm.avail_out=0;let n=Sa.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==yc)throw new Error(So[n]);if(t.header&&Sa.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=rs.string2buf(t.dictionary):kb.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Sa.deflateSetDictionary(this.strm,r),n!==yc)throw new Error(So[n]);this._dict_set=!0}}sh.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?w4:g4,typeof e=="string"?n.input=rs.string2buf(e):kb.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===x4||o===y4)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=Sa.deflate(n,o),i===b4)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Sa.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===yc;if(n.avail_out===0){this.onData(n.output);continue}if(o>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};sh.prototype.onData=function(e){this.chunks.push(e)};sh.prototype.onEnd=function(e){e===yc&&(this.result=_u.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const qs=16209,E4=16191;var j4=function(t,n){let r,i,o,a,s,c,u,f,p,d,h,x,b,C,y,g,k,_,S,N,T,j,F,A;const L=t.state;r=t.next_in,F=t.input,i=r+(t.avail_in-5),o=t.next_out,A=t.output,a=o-(n-t.avail_out),s=o+(t.avail_out-257),c=L.dmax,u=L.wsize,f=L.whave,p=L.wnext,d=L.window,h=L.hold,x=L.bits,b=L.lencode,C=L.distcode,y=(1<<L.lenbits)-1,g=(1<<L.distbits)-1;e:do{x<15&&(h+=F[r++]<<x,x+=8,h+=F[r++]<<x,x+=8),k=b[h&y];t:for(;;){if(_=k>>>24,h>>>=_,x-=_,_=k>>>16&255,_===0)A[o++]=k&65535;else if(_&16){S=k&65535,_&=15,_&&(x<_&&(h+=F[r++]<<x,x+=8),S+=h&(1<<_)-1,h>>>=_,x-=_),x<15&&(h+=F[r++]<<x,x+=8,h+=F[r++]<<x,x+=8),k=C[h&g];n:for(;;){if(_=k>>>24,h>>>=_,x-=_,_=k>>>16&255,_&16){if(N=k&65535,_&=15,x<_&&(h+=F[r++]<<x,x+=8,x<_&&(h+=F[r++]<<x,x+=8)),N+=h&(1<<_)-1,N>c){t.msg="invalid distance too far back",L.mode=qs;break e}if(h>>>=_,x-=_,_=o-a,N>_){if(_=N-_,_>f&&L.sane){t.msg="invalid distance too far back",L.mode=qs;break e}if(T=0,j=d,p===0){if(T+=u-_,_<S){S-=_;do A[o++]=d[T++];while(--_);T=o-N,j=A}}else if(p<_){if(T+=u+p-_,_-=p,_<S){S-=_;do A[o++]=d[T++];while(--_);if(T=0,p<S){_=p,S-=_;do A[o++]=d[T++];while(--_);T=o-N,j=A}}}else if(T+=p-_,_<S){S-=_;do A[o++]=d[T++];while(--_);T=o-N,j=A}for(;S>2;)A[o++]=j[T++],A[o++]=j[T++],A[o++]=j[T++],S-=3;S&&(A[o++]=j[T++],S>1&&(A[o++]=j[T++]))}else{T=o-N;do A[o++]=A[T++],A[o++]=A[T++],A[o++]=A[T++],S-=3;while(S>2);S&&(A[o++]=A[T++],S>1&&(A[o++]=A[T++]))}}else if(_&64){t.msg="invalid distance code",L.mode=qs;break e}else{k=C[(k&65535)+(h&(1<<_)-1)];continue n}break}}else if(_&64)if(_&32){L.mode=E4;break e}else{t.msg="invalid literal/length code",L.mode=qs;break e}else{k=b[(k&65535)+(h&(1<<_)-1)];continue t}break}}while(r<i&&o<s);S=x>>3,r-=S,x-=S<<3,h&=(1<<x)-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=o<s?257+(s-o):257-(o-s),L.hold=h,L.bits=x};const Pi=15,xg=852,yg=592,wg=0,kf=1,bg=2,C4=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),I4=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),A4=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),N4=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),F4=(e,t,n,r,i,o,a,s)=>{const c=s.bits;let u=0,f=0,p=0,d=0,h=0,x=0,b=0,C=0,y=0,g=0,k,_,S,N,T,j=null,F;const A=new Uint16Array(Pi+1),L=new Uint16Array(Pi+1);let $=null,O,P,M;for(u=0;u<=Pi;u++)A[u]=0;for(f=0;f<r;f++)A[t[n+f]]++;for(h=c,d=Pi;d>=1&&A[d]===0;d--);if(h>d&&(h=d),d===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,s.bits=1,0;for(p=1;p<d&&A[p]===0;p++);for(h<p&&(h=p),C=1,u=1;u<=Pi;u++)if(C<<=1,C-=A[u],C<0)return-1;if(C>0&&(e===wg||d!==1))return-1;for(L[1]=0,u=1;u<Pi;u++)L[u+1]=L[u]+A[u];for(f=0;f<r;f++)t[n+f]!==0&&(a[L[t[n+f]]++]=f);if(e===wg?(j=$=a,F=20):e===kf?(j=C4,$=I4,F=257):(j=A4,$=N4,F=0),g=0,f=0,u=p,T=o,x=h,b=0,S=-1,y=1<<h,N=y-1,e===kf&&y>xg||e===bg&&y>yg)return 1;for(;;){O=u-b,a[f]+1<F?(P=0,M=a[f]):a[f]>=F?(P=$[a[f]-F],M=j[a[f]-F]):(P=96,M=0),k=1<<u-b,_=1<<x,p=_;do _-=k,i[T+(g>>b)+_]=O<<24|P<<16|M|0;while(_!==0);for(k=1<<u-1;g&k;)k>>=1;if(k!==0?(g&=k-1,g+=k):g=0,f++,--A[u]===0){if(u===d)break;u=t[n+a[f]]}if(u>h&&(g&N)!==S){for(b===0&&(b=h),T+=p,x=u-b,C=1<<x;x+b<d&&(C-=A[x+b],!(C<=0));)x++,C<<=1;if(y+=1<<x,e===kf&&y>xg||e===bg&&y>yg)return 1;S=g&N,i[S]=h<<24|x<<16|T-o|0}}return g!==0&&(i[T+g]=u-b<<24|64<<16|0),s.bits=h,0};var Ea=F4;const R4=0,_b=1,Sb=2,{Z_FINISH:kg,Z_BLOCK:T4,Z_TREES:Ys,Z_OK:bi,Z_STREAM_END:P4,Z_NEED_DICT:D4,Z_STREAM_ERROR:cn,Z_DATA_ERROR:Eb,Z_MEM_ERROR:jb,Z_BUF_ERROR:M4,Z_DEFLATED:_g}=xs,Su=16180,Sg=16181,Eg=16182,jg=16183,Cg=16184,Ig=16185,Ag=16186,Ng=16187,Fg=16188,Rg=16189,wc=16190,$n=16191,_f=16192,Tg=16193,Sf=16194,Pg=16195,Dg=16196,Mg=16197,Og=16198,Zs=16199,Xs=16200,Lg=16201,Bg=16202,$g=16203,Ug=16204,zg=16205,Ef=16206,Gg=16207,Hg=16208,Re=16209,Cb=16210,Ib=16211,O4=852,L4=592,B4=15,$4=B4,Wg=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function U4(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ii=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Su||t.mode>Ib?1:0},Ab=e=>{if(Ii(e))return cn;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Su,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(O4),t.distcode=t.distdyn=new Int32Array(L4),t.sane=1,t.back=-1,bi},Nb=e=>{if(Ii(e))return cn;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Ab(e)},Fb=(e,t)=>{let n;if(Ii(e))return cn;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?cn:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Nb(e))},Rb=(e,t)=>{if(!e)return cn;const n=new U4;e.state=n,n.strm=e,n.window=null,n.mode=Su;const r=Fb(e,t);return r!==bi&&(e.state=null),r},z4=e=>Rb(e,$4);let Vg=!0,jf,Cf;const G4=e=>{if(Vg){jf=new Int32Array(512),Cf=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ea(_b,e.lens,0,288,jf,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ea(Sb,e.lens,0,32,Cf,0,e.work,{bits:5}),Vg=!1}e.lencode=jf,e.lenbits=9,e.distcode=Cf,e.distbits=5},Tb=(e,t,n,r)=>{let i;const o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},H4=(e,t)=>{let n,r,i,o,a,s,c,u,f,p,d,h,x,b,C=0,y,g,k,_,S,N,T,j;const F=new Uint8Array(4);let A,L;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ii(e)||!e.output||!e.input&&e.avail_in!==0)return cn;n=e.state,n.mode===$n&&(n.mode=_f),a=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,u=n.hold,f=n.bits,p=s,d=c,j=bi;e:for(;;)switch(n.mode){case Su:if(n.wrap===0){n.mode=_f;break}for(;f<16;){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,F[0]=u&255,F[1]=u>>>8&255,n.check=Xe(n.check,F,2,0),u=0,f=0,n.mode=Sg;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=Re;break}if((u&15)!==_g){e.msg="unknown compression method",n.mode=Re;break}if(u>>>=4,f-=4,T=(u&15)+8,n.wbits===0&&(n.wbits=T),T>15||T>n.wbits){e.msg="invalid window size",n.mode=Re;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?Rg:$n,u=0,f=0;break;case Sg:for(;f<16;){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}if(n.flags=u,(n.flags&255)!==_g){e.msg="unknown compression method",n.mode=Re;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Re;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(F[0]=u&255,F[1]=u>>>8&255,n.check=Xe(n.check,F,2,0)),u=0,f=0,n.mode=Eg;case Eg:for(;f<32;){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(F[0]=u&255,F[1]=u>>>8&255,F[2]=u>>>16&255,F[3]=u>>>24&255,n.check=Xe(n.check,F,4,0)),u=0,f=0,n.mode=jg;case jg:for(;f<16;){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(F[0]=u&255,F[1]=u>>>8&255,n.check=Xe(n.check,F,2,0)),u=0,f=0,n.mode=Cg;case Cg:if(n.flags&1024){for(;f<16;){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(F[0]=u&255,F[1]=u>>>8&255,n.check=Xe(n.check,F,2,0)),u=0,f=0}else n.head&&(n.head.extra=null);n.mode=Ig;case Ig:if(n.flags&1024&&(h=n.length,h>s&&(h=s),h&&(n.head&&(T=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+h),T)),n.flags&512&&n.wrap&4&&(n.check=Xe(n.check,r,h,o)),s-=h,o+=h,n.length-=h),n.length))break e;n.length=0,n.mode=Ag;case Ag:if(n.flags&2048){if(s===0)break e;h=0;do T=r[o+h++],n.head&&T&&n.length<65536&&(n.head.name+=String.fromCharCode(T));while(T&&h<s);if(n.flags&512&&n.wrap&4&&(n.check=Xe(n.check,r,h,o)),s-=h,o+=h,T)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Ng;case Ng:if(n.flags&4096){if(s===0)break e;h=0;do T=r[o+h++],n.head&&T&&n.length<65536&&(n.head.comment+=String.fromCharCode(T));while(T&&h<s);if(n.flags&512&&n.wrap&4&&(n.check=Xe(n.check,r,h,o)),s-=h,o+=h,T)break e}else n.head&&(n.head.comment=null);n.mode=Fg;case Fg:if(n.flags&512){for(;f<16;){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Re;break}u=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=$n;break;case Rg:for(;f<32;){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}e.adler=n.check=Wg(u),u=0,f=0,n.mode=wc;case wc:if(n.havedict===0)return e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=u,n.bits=f,D4;e.adler=n.check=1,n.mode=$n;case $n:if(t===T4||t===Ys)break e;case _f:if(n.last){u>>>=f&7,f-=f&7,n.mode=Ef;break}for(;f<3;){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}switch(n.last=u&1,u>>>=1,f-=1,u&3){case 0:n.mode=Tg;break;case 1:if(G4(n),n.mode=Zs,t===Ys){u>>>=2,f-=2;break e}break;case 2:n.mode=Dg;break;case 3:e.msg="invalid block type",n.mode=Re}u>>>=2,f-=2;break;case Tg:for(u>>>=f&7,f-=f&7;f<32;){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Re;break}if(n.length=u&65535,u=0,f=0,n.mode=Sf,t===Ys)break e;case Sf:n.mode=Pg;case Pg:if(h=n.length,h){if(h>s&&(h=s),h>c&&(h=c),h===0)break e;i.set(r.subarray(o,o+h),a),s-=h,o+=h,c-=h,a+=h,n.length-=h;break}n.mode=$n;break;case Dg:for(;f<14;){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}if(n.nlen=(u&31)+257,u>>>=5,f-=5,n.ndist=(u&31)+1,u>>>=5,f-=5,n.ncode=(u&15)+4,u>>>=4,f-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Re;break}n.have=0,n.mode=Mg;case Mg:for(;n.have<n.ncode;){for(;f<3;){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}n.lens[$[n.have++]]=u&7,u>>>=3,f-=3}for(;n.have<19;)n.lens[$[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},j=Ea(R4,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,j){e.msg="invalid code lengths set",n.mode=Re;break}n.have=0,n.mode=Og;case Og:for(;n.have<n.nlen+n.ndist;){for(;C=n.lencode[u&(1<<n.lenbits)-1],y=C>>>24,g=C>>>16&255,k=C&65535,!(y<=f);){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}if(k<16)u>>>=y,f-=y,n.lens[n.have++]=k;else{if(k===16){for(L=y+2;f<L;){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}if(u>>>=y,f-=y,n.have===0){e.msg="invalid bit length repeat",n.mode=Re;break}T=n.lens[n.have-1],h=3+(u&3),u>>>=2,f-=2}else if(k===17){for(L=y+3;f<L;){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}u>>>=y,f-=y,T=0,h=3+(u&7),u>>>=3,f-=3}else{for(L=y+7;f<L;){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}u>>>=y,f-=y,T=0,h=11+(u&127),u>>>=7,f-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Re;break}for(;h--;)n.lens[n.have++]=T}}if(n.mode===Re)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Re;break}if(n.lenbits=9,A={bits:n.lenbits},j=Ea(_b,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,j){e.msg="invalid literal/lengths set",n.mode=Re;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},j=Ea(Sb,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,j){e.msg="invalid distances set",n.mode=Re;break}if(n.mode=Zs,t===Ys)break e;case Zs:n.mode=Xs;case Xs:if(s>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=u,n.bits=f,j4(e,d),a=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,u=n.hold,f=n.bits,n.mode===$n&&(n.back=-1);break}for(n.back=0;C=n.lencode[u&(1<<n.lenbits)-1],y=C>>>24,g=C>>>16&255,k=C&65535,!(y<=f);){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}if(g&&!(g&240)){for(_=y,S=g,N=k;C=n.lencode[N+((u&(1<<_+S)-1)>>_)],y=C>>>24,g=C>>>16&255,k=C&65535,!(_+y<=f);){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}u>>>=_,f-=_,n.back+=_}if(u>>>=y,f-=y,n.back+=y,n.length=k,g===0){n.mode=zg;break}if(g&32){n.back=-1,n.mode=$n;break}if(g&64){e.msg="invalid literal/length code",n.mode=Re;break}n.extra=g&15,n.mode=Lg;case Lg:if(n.extra){for(L=n.extra;f<L;){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Bg;case Bg:for(;C=n.distcode[u&(1<<n.distbits)-1],y=C>>>24,g=C>>>16&255,k=C&65535,!(y<=f);){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}if(!(g&240)){for(_=y,S=g,N=k;C=n.distcode[N+((u&(1<<_+S)-1)>>_)],y=C>>>24,g=C>>>16&255,k=C&65535,!(_+y<=f);){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}u>>>=_,f-=_,n.back+=_}if(u>>>=y,f-=y,n.back+=y,g&64){e.msg="invalid distance code",n.mode=Re;break}n.offset=k,n.extra=g&15,n.mode=$g;case $g:if(n.extra){for(L=n.extra;f<L;){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Re;break}n.mode=Ug;case Ug:if(c===0)break e;if(h=d-c,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Re;break}h>n.wnext?(h-=n.wnext,x=n.wsize-h):x=n.wnext-h,h>n.length&&(h=n.length),b=n.window}else b=i,x=a-n.offset,h=n.length;h>c&&(h=c),c-=h,n.length-=h;do i[a++]=b[x++];while(--h);n.length===0&&(n.mode=Xs);break;case zg:if(c===0)break e;i[a++]=n.length,c--,n.mode=Xs;break;case Ef:if(n.wrap){for(;f<32;){if(s===0)break e;s--,u|=r[o++]<<f,f+=8}if(d-=c,e.total_out+=d,n.total+=d,n.wrap&4&&d&&(e.adler=n.check=n.flags?Xe(n.check,i,d,a-d):ts(n.check,i,d,a-d)),d=c,n.wrap&4&&(n.flags?u:Wg(u))!==n.check){e.msg="incorrect data check",n.mode=Re;break}u=0,f=0}n.mode=Gg;case Gg:if(n.wrap&&n.flags){for(;f<32;){if(s===0)break e;s--,u+=r[o++]<<f,f+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Re;break}u=0,f=0}n.mode=Hg;case Hg:j=P4;break e;case Re:j=Eb;break e;case Cb:return jb;case Ib:default:return cn}return e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=u,n.bits=f,(n.wsize||d!==e.avail_out&&n.mode<Re&&(n.mode<Ef||t!==kg))&&Tb(e,e.output,e.next_out,d-e.avail_out),p-=e.avail_in,d-=e.avail_out,e.total_in+=p,e.total_out+=d,n.total+=d,n.wrap&4&&d&&(e.adler=n.check=n.flags?Xe(n.check,i,d,e.next_out-d):ts(n.check,i,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===$n?128:0)+(n.mode===Zs||n.mode===Sf?256:0),(p===0&&d===0||t===kg)&&j===bi&&(j=M4),j},W4=e=>{if(Ii(e))return cn;let t=e.state;return t.window&&(t.window=null),e.state=null,bi},V4=(e,t)=>{if(Ii(e))return cn;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,bi):cn},K4=(e,t)=>{const n=t.length;let r,i,o;return Ii(e)||(r=e.state,r.wrap!==0&&r.mode!==wc)?cn:r.mode===wc&&(i=1,i=ts(i,t,n,0),i!==r.check)?Eb:(o=Tb(e,t,n,n),o?(r.mode=Cb,jb):(r.havedict=1,bi))};var q4=Nb,Y4=Fb,Z4=Ab,X4=z4,Q4=Rb,J4=H4,eN=W4,tN=V4,nN=K4,rN="pako inflate (from Nodeca project)",Vn={inflateReset:q4,inflateReset2:Y4,inflateResetKeep:Z4,inflateInit:X4,inflateInit2:Q4,inflate:J4,inflateEnd:eN,inflateGetHeader:tN,inflateSetDictionary:nN,inflateInfo:rN};function iN(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var oN=iN;const Pb=Object.prototype.toString,{Z_NO_FLUSH:aN,Z_FINISH:sN,Z_OK:is,Z_STREAM_END:If,Z_NEED_DICT:Af,Z_STREAM_ERROR:lN,Z_DATA_ERROR:Kg,Z_MEM_ERROR:cN}=xs;function ws(e){this.options=_u.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bb,this.strm.avail_out=0;let n=Vn.inflateInit2(this.strm,t.windowBits);if(n!==is)throw new Error(So[n]);if(this.header=new oN,Vn.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=rs.string2buf(t.dictionary):Pb.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Vn.inflateSetDictionary(this.strm,t.dictionary),n!==is)))throw new Error(So[n])}ws.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?sN:aN,Pb.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Vn.inflate(n,a),o===Af&&i&&(o=Vn.inflateSetDictionary(n,i),o===is?o=Vn.inflate(n,a):o===Kg&&(o=Af));n.avail_in>0&&o===If&&n.state.wrap>0&&e[n.next_in]!==0;)Vn.inflateReset(n),o=Vn.inflate(n,a);switch(o){case lN:case Kg:case Af:case cN:return this.onEnd(o),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(n.avail_out===0||o===If))if(this.options.to==="string"){let c=rs.utf8border(n.output,n.next_out),u=n.next_out-c,f=rs.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(f)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===is&&s===0)){if(o===If)return o=Vn.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};ws.prototype.onData=function(e){this.chunks.push(e)};ws.prototype.onEnd=function(e){e===is&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_u.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function lh(e,t){const n=new ws(t);if(n.push(e),n.err)throw n.msg||So[n.err];return n.result}function uN(e,t){return t=t||{},t.raw=!0,lh(e,t)}var fN=ws,dN=lh,pN=uN,mN=lh,hN=xs,vN={Inflate:fN,inflate:dN,inflateRaw:pN,ungzip:mN,constants:hN};const{Inflate:r8,inflate:gN,inflateRaw:i8,ungzip:o8}=vN;var Db=gN;const Mb=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;Mb[e]=t}function xN(e){let t=-1;for(let n=0;n<e.length;n++)t=Mb[(t^e[n])&255]^t>>>8;return t^-1}var Te;(function(e){e[e.GRAYSCALE=0]="GRAYSCALE",e[e.TRUE_COLOR=2]="TRUE_COLOR",e[e.PALETTE=3]="PALETTE",e[e.GRAYSCALE_WITH_ALPHA=4]="GRAYSCALE_WITH_ALPHA",e[e.TRUE_COLOR_WITH_ALPHA=6]="TRUE_COLOR_WITH_ALPHA"})(Te||(Te={}));const yN={[Te.GRAYSCALE]:1,[Te.TRUE_COLOR]:3,[Te.PALETTE]:1,[Te.GRAYSCALE_WITH_ALPHA]:2,[Te.TRUE_COLOR_WITH_ALPHA]:4},wN=1;var $t;(function(e){e[e.NONE=0]="NONE",e[e.SUB=1]="SUB",e[e.UP=2]="UP",e[e.AVERAGE=3]="AVERAGE",e[e.PAETH=4]="PAETH"})($t||($t={}));const bN={[$t.NONE](e){return e},[$t.SUB](e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++){const i=n[r-t]||0;n[r]=e[r]+i}return n},[$t.UP](e,t,n){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++){const o=n[i]||0;r[i]=o+e[i]}return r},[$t.AVERAGE](e,t,n){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++){const o=r[i-t]||0,a=n[i]||0,s=o+a>>1;r[i]=e[i]+s}return r},[$t.PAETH](e,t,n){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++){const o=r[i-t]||0,a=n[i],s=n[i-t]||0,c=Ob(o,a,s);r[i]=e[i]+c}return r}};$t.NONE+"",$t.SUB+"",$t.UP+"",$t.AVERAGE+"",$t.PAETH+"";function Ob(e,t,n){const r=e+t-n,i=Math.abs(r-e),o=Math.abs(r-t),a=Math.abs(r-n);return i<=o&&i<=a?e:o<=a?t:n}function Qe(e,t,n){if(t===n)return e;const r=2**t-1,i=2**n-1;return Math.round(e*i/r)}function kN(e,t){const n=[];let r=0;for(;r<e.length;)if(t===1){const i=e[r++];n.push(i>>7&1,i>>6&1,i>>5&1,i>>4&1,i>>3&1,i>>2&1,i>>1&1,i&1)}else if(t===2){const i=e[r++];n.push(i>>6&3,i>>4&3,i>>2&3,i&3)}else if(t===4){const i=e[r++];n.push(i>>4&15,i&15)}else if(t===8){const i=e[r++];n.push(i)}else if(t===16)n.push(e[r++]<<8|e[r++]);else throw new Error("Unsupported depth: "+t);return n}const Lb=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];function _N(e,t,n){if(!e)return[{passWidth:t,passHeight:n,passIndex:0}];const r=[];return Lb.forEach(function({x:i,y:o},a){const s=t%8,c=n%8,u=t-s>>3,f=n-c>>3;let p=u*i.length;for(let h=0;h<i.length&&i[h]<s;h++)p++;let d=f*o.length;for(let h=0;h<o.length&&o[h]<c;h++)d++;p&&d&&r.push({passWidth:p,passHeight:d,passIndex:a})}),r}function SN(e,t,n,r,i){if(!e)return t*i+r<<2;const o=Lb[n],a=r%o.x.length,s=i%o.y.length,c=(r-a)/o.x.length,u=(i-s)/o.y.length,f=o.x[a],p=o.y[s];return t*((u<<3)+p)+(c<<3)+f<<2}function EN(e,t,n,r,i,o,a,s){let c=[];const u=Db(e),f=_N(t,r,i),d=yN[n]*o,h=d>>3||1;let x=0,b=new Uint8Array;for(let y=0;y<f.length;y++){const{passWidth:g,passHeight:k,passIndex:_}=f[y];for(let S=0;S<k;S++){let $=function(){if(n===Te.GRAYSCALE){const O=Qe(L[A++],o,8);return[O,O,O,255]}if(n===Te.TRUE_COLOR)return[Qe(L[A++],o,8),Qe(L[A++],o,8),Qe(L[A++],o,8),255];if(n===Te.PALETTE){const O=L[A++];if(!a)throw new Error("Mising chunk: PLTE");return a[O]}if(n===Te.GRAYSCALE_WITH_ALPHA){const O=Qe(L[A++],o,8);return[O,O,O,Qe(L[A++],o,8)]}if(n===Te.TRUE_COLOR_WITH_ALPHA)return[Qe(L[A++],o,8),Qe(L[A++],o,8),Qe(L[A++],o,8),Qe(L[A++],o,8)];throw new Error("Unsupported color type: "+n)};var C=$;const N=(g*d+7>>3)+wN,T=u[x];if(!(T in $t))throw new Error("Unsupported filter type: "+T);const j=bN[T],F=j(u.slice(x+1,x+N),h,b);b=F;let A=0;const L=kN(F,o);for(let O=0;O<g;O++){const P=$();s&&P[0]===s[0]&&P[1]===s[1]&&P[2]===s[2]&&(P[3]=0);const M=SN(t,r,_,O,S);for(let V=0;V<P.length;V++)c[M+V]=P[V]}x+=N}}return c}const Nf=[137,80,78,71,13,10,26,10],jN=1e5;function Ff(e){let t=0,n="";for(;t<e.length;){let r=e[t++];if(r>127)if(r>191&&r<224){if(t>=e.length)throw new Error("UTF-8 decode: incomplete 2-byte sequence");r=(r&31)<<6|e[t++]&63}else if(r>223&&r<240){if(t+1>=e.length)throw new Error("UTF-8 decode: incomplete 3-byte sequence");r=(r&15)<<12|(e[t++]&63)<<6|e[t++]&63}else if(r>239&&r<248){if(t+2>=e.length)throw new Error("UTF-8 decode: incomplete 4-byte sequence");r=(r&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63}else throw new Error("UTF-8 decode: unknown multibyte start 0x"+r.toString(16)+" at index "+(t-1));if(r<=65535)n+=String.fromCharCode(r);else if(r<=1114111)r-=65536,n+=String.fromCharCode(r>>10|55296),n+=String.fromCharCode(r&1023|56320);else throw new Error("UTF-8 decode: code point 0x"+r.toString(16)+" exceeds UTF-16 reach")}return n}function CN(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}const sr=1e5;function IN(e){const t=new Uint8Array(e);let n=new Uint8Array;const r={width:0,height:0,depth:0,colorType:0,compression:0,interlace:0,filter:0,data:[]};let i=0;function o(){return t[i++]<<24|t[i++]<<16|t[i++]<<8|t[i++]}function a(){return t[i++]<<8|t[i++]}function s(){return t[i++]}function c(){const I=[];let U=0;for(;(U=t[i++])!==0;)I.push(U);return new Uint8Array(I)}function u(I){const U=i+I;let H="";for(;i<U;){const q=s();if(q===0)break;H+=String.fromCharCode(q)}return H}function f(I){let U="";for(;i<I;){const H=s();U+=String.fromCharCode(H)}return U}function p(I){const U=t.slice(i,I);return i=I,Db(U)}function d(){let I="";for(const U=i+4;i<U;i++)I+=String.fromCharCode(t[i]);return I}for(;i<Nf.length;i++)if(t[i]!==Nf[i])throw new Error(`Invalid file signature, at position ${i}: ${t[i]} !== ${Nf[i]}`);const h={IHDR:x,PLTE:b,IDAT:C,IEND:y,tRNS:g,cHRM:k,gAMA:_,iCCP:S,sBIT:N,sRGB:T,tEXt:j,zTXt:F,iTXt:A,bKGD:L,hIST:$,pHYs:O,sPLT:P,tIME:M};function x(){r.width=o(),r.height=o(),r.depth=s();const I=s();if(!(I in Te))throw new Error("Unsupported color type: "+I);r.colorType=I,r.compression=s(),r.filter=s(),r.interlace=s()}function b(I){const U=[];for(let H=0;H<I;H+=3)U.push([t[i++],t[i++],t[i++],255]);r.palette=U}function C(I){n=CN(n,t.slice(i,i+I)),i+=I}function y(I){i+=I}function g(I){if(r.colorType===Te.GRAYSCALE){const U=Qe(t[i++]<<8|t[i++],r.depth,8);r.transparent=[U,U,U,255]}else if(r.colorType===Te.TRUE_COLOR)r.transparent=[Qe(t[i++]<<8|t[i++],r.depth,8),Qe(t[i++]<<8|t[i++],r.depth,8),Qe(t[i++]<<8|t[i++],r.depth,8),255];else if(r.colorType===Te.PALETTE){if(!r.palette)throw new Error("Missing chunk: PLTE");for(let U=0;U<I;U++)r.palette[U][3]=t[i++]}}function k(){r.chromaticities={white:{x:o()/sr,y:o()/sr},red:{x:o()/sr,y:o()/sr},green:{x:o()/sr,y:o()/sr},blue:{x:o()/sr,y:o()/sr}}}function _(){r.gamma=o()/jN}function S(I){const U=i+I,H=u(80);s();const q=p(U);r.icc={name:H,profile:Array.from(q)}}function N(){if(r.colorType===Te.GRAYSCALE){const I=s();r.significantBits=[I,I,I,r.depth]}else if(r.colorType===Te.TRUE_COLOR||r.colorType===Te.PALETTE)r.significantBits=[s(),s(),s(),r.depth];else if(r.colorType===Te.GRAYSCALE_WITH_ALPHA){const I=s();r.significantBits=[I,I,I,s()]}else r.colorType===Te.TRUE_COLOR_WITH_ALPHA&&(r.significantBits=[s(),s(),s(),s()])}function T(){r.sRGB=s()}function j(I){const U=i+I,H=u(80),q=f(U);r.text||(r.text={}),r.text[H]=q}function F(I){const U=i+I,H=u(80);s();const q=p(U);let Z="";for(let te=0;te<q.length;te++)Z+=String.fromCharCode(q[te]);r.compressedText||(r.compressedText={}),r.compressedText[H]=Z}function A(I){const U=i+I,H=u(80),q=s();s();const Z=u(1/0),te=Ff(c());let re="";if(q===0)re=Ff(t.slice(i,U)),i=U;else{const ae=p(U);re=Ff(ae)}r.internationalText||(r.internationalText={}),r.internationalText[H]={languageTag:Z,translatedKeyword:te,text:re}}function L(){if((r.colorType&3)===Te.GRAYSCALE){const I=Qe(t[i++]<<8|t[i++],r.depth,8);r.background=[I,I,I,255]}else if((r.colorType&3)===Te.TRUE_COLOR)r.background=[Qe(t[i++]<<8|t[i++],r.depth,8),Qe(t[i++]<<8|t[i++],r.depth,8),Qe(t[i++]<<8|t[i++],r.depth,8),255];else if(r.colorType===Te.PALETTE){if(!r.palette)throw new Error("Missing chunk: PLTE");r.background=r.palette[t[i++]]}}function $(I){const U=i+I,H=[];for(;i<U;)H.push(a());r.histogram=H}function O(){const I=o(),U=o(),H=s();r.physicalDimensions={pixelPerUnitX:I,pixelPerUnitY:U,unit:H}}function P(I){const U=i+I,H=u(80),q=s(),Z=[];if(q===8)for(;i<U;)Z.push([s(),s(),s(),s(),a()]);else if(q===16)for(;i<U;)Z.push([a(),a(),a(),a(),a()]);r.suggestedPalette={name:H,depth:q,palette:Z}}function M(){const I=a(),U=s(),H=s(),q=s(),Z=s(),te=s();r.lastModificationTime=Date.UTC(I,U-1,H,q,Z,te)}function V(){const I=i,U=o(),H=d();h[H]?h[H](U):(H.charCodeAt(0)&32,i+=U),G(I,U)}function G(I,U){const H=o(),q=xN(t.slice(I+4,I+8+U));if(H!==q)throw new Error("Crc32 error: calculated "+q+", expected "+H);i<t.length&&V()}return V(),r.data=EN(n,r.interlace,r.colorType,r.width,r.height,r.depth,r.palette,r.transparent),r}const Bb={supportedFileExts:["png"],decodeFile:async e=>{try{const t=await e.arrayBuffer(),n=IN(t),{data:r,width:i,height:o}=n;tr.assertEq(i*o*4,r.length);const a=new Uint8Array(r.length);for(let u=0;u<r.length;u++)a[u]=r[u];const s=new Uint8ClampedArray(a.buffer,a.byteOffset,a.byteLength),c=new ImageData(s,i,o);return{colorData:{format:"rgba8888",bytes:a},image:c,metadata:{width:i,height:o,diagnostics:"TODO"}}}catch(t){return{error:"Unknown error: "+t}}}},AN=Symbol("png"),$b=Qw({subKind:AN,title:"PNG Importer",decoder:Bb});function NN({selectedImporter:e,setSelectedImporter:t,onClickApplyAll:n}){const r=R.useCallback(o=>{t({...e,config:o})},[e,t]),i=R.useMemo(()=>e.importer.subKind===$b.subKind||e.importer.subKind===Jw.subKind?l.jsx(TI,{config:e.config,setConfig:o=>r(o)}):(console.error("Couldn't find component for:"),console.error(e),l.jsx("div",{className:"text-center text-slate-500 text-sm",children:"(No controls available)"})),[e,r]);return l.jsxs("div",{className:"flex flex-col",children:[l.jsx("div",{className:"text-center text-gray-500 text-xs mb-2",children:l.jsx("span",{className:"font-bold",children:e.importer.title})}),l.jsx("div",{children:i}),n&&l.jsx("div",{className:"mt-2 text-center text-xs",children:l.jsx(He,{label:"Apply to all images",onClick:n})})]})}function FN({decoded:e,imported:t}){const n=R.useMemo(()=>l.jsx(Zn,{imageData:e.image,imageWidth:e.metadata.width,imageHeight:e.metadata.height}),[e]),r=R.useMemo(()=>t.kind==="error"?l.jsx("div",{className:"flex justify-center items-center text-center text-red-400",children:"(Error)"}):l.jsx(Zn,{imageData:t.result.resource.compiledImage,imageWidth:e.metadata.width,imageHeight:e.metadata.height}),[t,e]);return l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[l.jsx("div",{className:"text-center text-slate-500 text-xs font-bold mb-0.5",children:"Original"}),n]}),l.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[l.jsx("div",{className:"text-center text-slate-500 text-xs font-bold mb-0.5",children:"Converted"}),r]})]})}function RN({resultWrapper:e}){return l.jsx("div",{children:"TODO"})}function TN({resultWrapper:e}){let t,n,r,i,o;e.kind==="error"?(t="Conversion error",n=e.error,r="text-red-600",i=ie.PhotoError,o=!1):e.kind==="warning"?(t="Lossy conversion",n=e.warning,r="text-yellow-600",i=ie.PhotoLossy,o=!0):(t="Lossless conversion",n="Every pixel of the source image matched with a color in the palette selected.",r="text-emerald-600",i=ie.PhotoLossless,o=!0);const a=R.useContext(ir),s=R.useCallback(()=>{e.kind!=="error"&&a.pushModal({title:"Conversion Stats",body:l.jsx(Ht,{children:l.jsx(kt,{children:l.jsx(RN,{resultWrapper:e})})})})},[e,a]);return l.jsxs("div",{className:`${r} flex flex-col bg-slate-100 rounded px-4 py-2`,children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(i,{className:"mr-2",size:22}),l.jsx("span",{className:"grow font-bold text-sm",children:t}),o&&l.jsx(ca,{onClick:s,children:l.jsx("div",{className:"flex items-center text-xs",children:l.jsx("span",{className:"text-gray-400 font-bold",children:"More"})})})]}),l.jsx("div",{className:"text-xs",style:{maxWidth:250*2-50},children:n})]})}function kp({children:e,className:t,isLoading:n,label:r,hideLabel:i,overlayBg:o}){o??(o="bg-[#0000001A]"),n??(n=!1);const a=s=>{s.stopPropagation(),s.nativeEvent.stopImmediatePropagation()};return l.jsxs("div",{className:`relative ${t}`,onClick:n===!1?void 0:a,children:[e,n!==!1&&l.jsx("div",{className:`${o} absolute inset-0 flex justify-center items-center`,children:!i&&l.jsx("span",{className:"text-white font-bold text-lg select-none",children:r??"Loading..."})})]})}var ja;(e=>{function t(){var n;(n=document.activeElement)==null||n.blur()}e.justBlurIt=t})(ja||(ja={}));var bc;(e=>{function t(i){return i!==null}e.notNull=t;function n(i){return i!==void 0}e.notUndefined=n;function r(i){return i!=null}e.notEmpty=r})(bc||(bc={}));var qg=Object.prototype.toString,Ub=function(t){var n=qg.call(t),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&qg.call(t.callee)==="[object Function]"),r},Rf,Yg;function PN(){if(Yg)return Rf;Yg=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Ub,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),a=i.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(d){var h=d.constructor;return h&&h.prototype===d},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if(typeof window>"u")return!1;for(var d in window)try{if(!u["$"+d]&&t.call(window,d)&&window[d]!==null&&typeof window[d]=="object")try{c(window[d])}catch{return!0}}catch{return!0}return!1}(),p=function(d){if(typeof window>"u"||!f)return c(d);try{return c(d)}catch{return!1}};e=function(h){var x=h!==null&&typeof h=="object",b=n.call(h)==="[object Function]",C=r(h),y=x&&n.call(h)==="[object String]",g=[];if(!x&&!b&&!C)throw new TypeError("Object.keys called on a non-object");var k=a&&b;if(y&&h.length>0&&!t.call(h,0))for(var _=0;_<h.length;++_)g.push(String(_));if(C&&h.length>0)for(var S=0;S<h.length;++S)g.push(String(S));else for(var N in h)!(k&&N==="prototype")&&t.call(h,N)&&g.push(String(N));if(o)for(var T=p(h),j=0;j<s.length;++j)!(T&&s[j]==="constructor")&&t.call(h,s[j])&&g.push(s[j]);return g}}return Rf=e,Rf}var DN=Array.prototype.slice,MN=Ub,Zg=Object.keys,jl=Zg?function(t){return Zg(t)}:PN(),Xg=Object.keys;jl.shim=function(){if(Object.keys){var t=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);t||(Object.keys=function(r){return MN(r)?Xg(DN.call(r)):Xg(r)})}else Object.keys=jl;return Object.keys||jl};var ch=jl,ON=Error,LN=EvalError,BN=RangeError,$N=ReferenceError,zb=SyntaxError,$r=TypeError,UN=URIError,Eu=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0},Qg=typeof Symbol<"u"&&Symbol,zN=Eu,uh=function(){return typeof Qg!="function"||typeof Symbol!="function"||typeof Qg("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:zN()},Tf={__proto__:null,foo:{}},GN=Object,HN=function(){return{__proto__:Tf}.foo===Tf.foo&&!(Tf instanceof GN)},WN="Function.prototype.bind called on incompatible ",VN=Object.prototype.toString,KN=Math.max,qN="[object Function]",Jg=function(t,n){for(var r=[],i=0;i<t.length;i+=1)r[i]=t[i];for(var o=0;o<n.length;o+=1)r[o+t.length]=n[o];return r},YN=function(t,n){for(var r=[],i=n||0,o=0;i<t.length;i+=1,o+=1)r[o]=t[i];return r},ZN=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n},XN=function(t){var n=this;if(typeof n!="function"||VN.apply(n)!==qN)throw new TypeError(WN+n);for(var r=YN(arguments,1),i,o=function(){if(this instanceof i){var f=n.apply(this,Jg(r,arguments));return Object(f)===f?f:this}return n.apply(t,Jg(r,arguments))},a=KN(0,n.length-r.length),s=[],c=0;c<a;c++)s[c]="$"+c;if(i=Function("binder","return function ("+ZN(s,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var u=function(){};u.prototype=n.prototype,i.prototype=new u,u.prototype=null}return i},QN=XN,fh=Function.prototype.bind||QN,JN=Function.prototype.call,eF=Object.prototype.hasOwnProperty,tF=fh,Gb=tF.call(JN,eF),fe,nF=ON,rF=LN,iF=BN,oF=$N,Co=zb,uo=$r,aF=UN,Hb=Function,Pf=function(e){try{return Hb('"use strict"; return ('+e+").constructor;")()}catch{}},li=Object.getOwnPropertyDescriptor;if(li)try{li({},"")}catch{li=null}var Df=function(){throw new uo},sF=li?function(){try{return arguments.callee,Df}catch{try{return li(arguments,"callee").get}catch{return Df}}}():Df,Di=uh(),lF=HN(),Ze=Object.getPrototypeOf||(lF?function(e){return e.__proto__}:null),zi={},cF=typeof Uint8Array>"u"||!Ze?fe:Ze(Uint8Array),ci={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?fe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?fe:ArrayBuffer,"%ArrayIteratorPrototype%":Di&&Ze?Ze([][Symbol.iterator]()):fe,"%AsyncFromSyncIteratorPrototype%":fe,"%AsyncFunction%":zi,"%AsyncGenerator%":zi,"%AsyncGeneratorFunction%":zi,"%AsyncIteratorPrototype%":zi,"%Atomics%":typeof Atomics>"u"?fe:Atomics,"%BigInt%":typeof BigInt>"u"?fe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?fe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?fe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?fe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":nF,"%eval%":eval,"%EvalError%":rF,"%Float32Array%":typeof Float32Array>"u"?fe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?fe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?fe:FinalizationRegistry,"%Function%":Hb,"%GeneratorFunction%":zi,"%Int8Array%":typeof Int8Array>"u"?fe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?fe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?fe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Di&&Ze?Ze(Ze([][Symbol.iterator]())):fe,"%JSON%":typeof JSON=="object"?JSON:fe,"%Map%":typeof Map>"u"?fe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Di||!Ze?fe:Ze(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?fe:Promise,"%Proxy%":typeof Proxy>"u"?fe:Proxy,"%RangeError%":iF,"%ReferenceError%":oF,"%Reflect%":typeof Reflect>"u"?fe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?fe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Di||!Ze?fe:Ze(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?fe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Di&&Ze?Ze(""[Symbol.iterator]()):fe,"%Symbol%":Di?Symbol:fe,"%SyntaxError%":Co,"%ThrowTypeError%":sF,"%TypedArray%":cF,"%TypeError%":uo,"%Uint8Array%":typeof Uint8Array>"u"?fe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?fe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?fe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?fe:Uint32Array,"%URIError%":aF,"%WeakMap%":typeof WeakMap>"u"?fe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?fe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?fe:WeakSet};if(Ze)try{null.error}catch(e){var uF=Ze(Ze(e));ci["%Error.prototype%"]=uF}var fF=function e(t){var n;if(t==="%AsyncFunction%")n=Pf("async function () {}");else if(t==="%GeneratorFunction%")n=Pf("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=Pf("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&Ze&&(n=Ze(i.prototype))}return ci[t]=n,n},e0={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bs=fh,kc=Gb,dF=bs.call(Function.call,Array.prototype.concat),pF=bs.call(Function.apply,Array.prototype.splice),t0=bs.call(Function.call,String.prototype.replace),_c=bs.call(Function.call,String.prototype.slice),mF=bs.call(Function.call,RegExp.prototype.exec),hF=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,vF=/\\(\\)?/g,gF=function(t){var n=_c(t,0,1),r=_c(t,-1);if(n==="%"&&r!=="%")throw new Co("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Co("invalid intrinsic syntax, expected opening `%`");var i=[];return t0(t,hF,function(o,a,s,c){i[i.length]=s?t0(c,vF,"$1"):a||o}),i},xF=function(t,n){var r=t,i;if(kc(e0,r)&&(i=e0[r],r="%"+i[0]+"%"),kc(ci,r)){var o=ci[r];if(o===zi&&(o=fF(r)),typeof o>"u"&&!n)throw new uo("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new Co("intrinsic "+t+" does not exist!")},Ln=function(t,n){if(typeof t!="string"||t.length===0)throw new uo("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new uo('"allowMissing" argument must be a boolean');if(mF(/^%?[^%]*%?$/,t)===null)throw new Co("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=gF(t),i=r.length>0?r[0]:"",o=xF("%"+i+"%",n),a=o.name,s=o.value,c=!1,u=o.alias;u&&(i=u[0],pF(r,dF([0,1],u)));for(var f=1,p=!0;f<r.length;f+=1){var d=r[f],h=_c(d,0,1),x=_c(d,-1);if((h==='"'||h==="'"||h==="`"||x==='"'||x==="'"||x==="`")&&h!==x)throw new Co("property names with quotes must have matching quotes");if((d==="constructor"||!p)&&(c=!0),i+="."+d,a="%"+i+"%",kc(ci,a))s=ci[a];else if(s!=null){if(!(d in s)){if(!n)throw new uo("base intrinsic for "+t+" exists, but the property is not available.");return}if(li&&f+1>=r.length){var b=li(s,d);p=!!b,p&&"get"in b&&!("originalValue"in b.get)?s=b.get:s=s[d]}else p=kc(s,d),s=s[d];p&&!c&&(ci[a]=s)}}return s},yF=Ln,Cl=yF("%Object.defineProperty%",!0)||!1;if(Cl)try{Cl({},"a",{value:1})}catch{Cl=!1}var dh=Cl,wF=Ln,Il=wF("%Object.getOwnPropertyDescriptor%",!0);if(Il)try{Il([],"length")}catch{Il=null}var ph=Il,n0=dh,bF=zb,Mi=$r,r0=ph,mh=function(t,n,r){if(!t||typeof t!="object"&&typeof t!="function")throw new Mi("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Mi("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Mi("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Mi("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Mi("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Mi("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,c=!!r0&&r0(t,n);if(n0)n0(t,n,{configurable:a===null&&c?c.configurable:!a,enumerable:i===null&&c?c.enumerable:!i,value:r,writable:o===null&&c?c.writable:!o});else if(s||!i&&!o&&!a)t[n]=r;else throw new bF("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},_p=dh,Wb=function(){return!!_p};Wb.hasArrayLengthDefineBug=function(){if(!_p)return null;try{return _p([],"length",{value:1}).length!==1}catch{return!0}};var hh=Wb,kF=ch,_F=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",SF=Object.prototype.toString,EF=Array.prototype.concat,i0=mh,jF=function(e){return typeof e=="function"&&SF.call(e)==="[object Function]"},Vb=hh(),CF=function(e,t,n,r){if(t in e){if(r===!0){if(e[t]===n)return}else if(!jF(r)||!r())return}Vb?i0(e,t,n,!0):i0(e,t,n)},Kb=function(e,t){var n=arguments.length>2?arguments[2]:{},r=kF(t);_F&&(r=EF.call(r,Object.getOwnPropertySymbols(t)));for(var i=0;i<r.length;i+=1)CF(e,r[i],t[r[i]],n[r[i]])};Kb.supportsDescriptors=!!Vb;var Ai=Kb,qb={exports:{}},IF=Ln,o0=mh,AF=hh(),a0=ph,s0=$r,NF=IF("%Math.floor%"),FF=function(t,n){if(typeof t!="function")throw new s0("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||NF(n)!==n)throw new s0("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in t&&a0){var a=a0(t,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(o=!1)}return(i||o||!r)&&(AF?o0(t,"length",n,!0,!0):o0(t,"length",n)),t};(function(e){var t=fh,n=Ln,r=FF,i=$r,o=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||t.call(a,o),c=dh,u=n("%Math.max%");e.exports=function(d){if(typeof d!="function")throw new i("a function is required");var h=s(t,a,arguments);return r(h,1+u(0,d.length-(arguments.length-1)),!0)};var f=function(){return s(t,o,arguments)};c?c(e.exports,"apply",{value:f}):e.exports.apply=f})(qb);var Uo=qb.exports,Yb=Ln,Zb=Uo,RF=Zb(Yb("String.prototype.indexOf")),un=function(t,n){var r=Yb(t,!!n);return typeof r=="function"&&RF(t,".prototype.")>-1?Zb(r):r},TF=ch,Xb=Eu(),Qb=un,l0=Object,PF=Qb("Array.prototype.push"),c0=Qb("Object.prototype.propertyIsEnumerable"),DF=Xb?Object.getOwnPropertySymbols:null,Jb=function(t,n){if(t==null)throw new TypeError("target must be an object");var r=l0(t);if(arguments.length===1)return r;for(var i=1;i<arguments.length;++i){var o=l0(arguments[i]),a=TF(o),s=Xb&&(Object.getOwnPropertySymbols||DF);if(s)for(var c=s(o),u=0;u<c.length;++u){var f=c[u];c0(o,f)&&PF(a,f)}for(var p=0;p<a.length;++p){var d=a[p];if(c0(o,d)){var h=o[d];r[d]=h}}}return r},Mf=Jb,MF=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var i=Object.assign({},n),o="";for(var a in i)o+=a;return e!==o},OF=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch{return e[1]==="y"}return!1},ek=function(){return!Object.assign||MF()||OF()?Mf:Object.assign},LF=Ai,BF=ek,$F=function(){var t=BF();return LF(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t},UF=Ai,zF=Uo,GF=Jb,tk=ek,HF=$F,WF=zF.apply(tk()),nk=function(t,n){return WF(Object,arguments)};UF(nk,{getPolyfill:tk,implementation:GF,shim:HF});var VF=nk,os=function(){return typeof(function(){}).name=="string"},Ca=Object.getOwnPropertyDescriptor;if(Ca)try{Ca([],"length")}catch{Ca=null}os.functionsHaveConfigurableNames=function(){if(!os()||!Ca)return!1;var t=Ca(function(){},"name");return!!t&&!!t.configurable};var KF=Function.prototype.bind;os.boundFunctionsHaveNames=function(){return os()&&typeof KF=="function"&&(function(){}).bind().name!==""};var qF=os,u0=mh,YF=hh(),ZF=qF.functionsHaveConfigurableNames(),XF=$r,QF=function(t,n){if(typeof t!="function")throw new XF("`fn` is not a function");var r=arguments.length>2&&!!arguments[2];return(!r||ZF)&&(YF?u0(t,"name",n,!0,!0):u0(t,"name",n)),t},JF=QF,eR=$r,tR=Object,rk=JF(function(){if(this==null||this!==tR(this))throw new eR("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.unicodeSets&&(t+="v"),this.sticky&&(t+="y"),t},"get flags",!0),nR=rk,rR=Ai.supportsDescriptors,iR=Object.getOwnPropertyDescriptor,ik=function(){if(rR&&/a/mig.flags==="gim"){var t=iR(RegExp.prototype,"flags");if(t&&typeof t.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var n="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){n+="d"}}),Object.defineProperty(r,"sticky",{get:function(){n+="y"}}),n==="dy")return t.get}}return nR},oR=Ai.supportsDescriptors,aR=ik,sR=Object.getOwnPropertyDescriptor,lR=Object.defineProperty,cR=TypeError,f0=Object.getPrototypeOf,uR=/a/,fR=function(){if(!oR||!f0)throw new cR("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=aR(),n=f0(uR),r=sR(n,"flags");return(!r||r.get!==t)&&lR(n,"flags",{configurable:!0,enumerable:!1,get:t}),t},dR=Ai,pR=Uo,mR=rk,ok=ik,hR=fR,ak=pR(ok());dR(ak,{getPolyfill:ok,implementation:mR,shim:hR});var vR=ak,Al={exports:{}},gR=Eu,Ni=function(){return gR()&&!!Symbol.toStringTag},xR=Ni(),yR=un,Sp=yR("Object.prototype.toString"),ju=function(t){return xR&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:Sp(t)==="[object Arguments]"},sk=function(t){return ju(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Sp(t)!=="[object Array]"&&Sp(t.callee)==="[object Function]"},wR=function(){return ju(arguments)}();ju.isLegacyArguments=sk;var lk=wR?ju:sk;const bR={},kR=Object.freeze(Object.defineProperty({__proto__:null,default:bR},Symbol.toStringTag,{value:"Module"})),_R=rS(kR);var vh=typeof Map=="function"&&Map.prototype,Of=Object.getOwnPropertyDescriptor&&vh?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Sc=vh&&Of&&typeof Of.get=="function"?Of.get:null,d0=vh&&Map.prototype.forEach,gh=typeof Set=="function"&&Set.prototype,Lf=Object.getOwnPropertyDescriptor&&gh?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ec=gh&&Lf&&typeof Lf.get=="function"?Lf.get:null,p0=gh&&Set.prototype.forEach,SR=typeof WeakMap=="function"&&WeakMap.prototype,Ia=SR?WeakMap.prototype.has:null,ER=typeof WeakSet=="function"&&WeakSet.prototype,Aa=ER?WeakSet.prototype.has:null,jR=typeof WeakRef=="function"&&WeakRef.prototype,m0=jR?WeakRef.prototype.deref:null,CR=Boolean.prototype.valueOf,IR=Object.prototype.toString,AR=Function.prototype.toString,NR=String.prototype.match,xh=String.prototype.slice,xr=String.prototype.replace,FR=String.prototype.toUpperCase,h0=String.prototype.toLowerCase,ck=RegExp.prototype.test,v0=Array.prototype.concat,Cn=Array.prototype.join,RR=Array.prototype.slice,g0=Math.floor,Ep=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Bf=Object.getOwnPropertySymbols,jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Io=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ht=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Io||!0)?Symbol.toStringTag:null,uk=Object.prototype.propertyIsEnumerable,x0=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function y0(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||ck.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-g0(-e):g0(e);if(r!==e){var i=String(r),o=xh.call(t,i.length+1);return xr.call(i,n,"$&_")+"."+xr.call(xr.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return xr.call(t,n,"$&_")}var Cp=_R,w0=Cp.custom,b0=dk(w0)?w0:null,TR=function e(t,n,r,i){var o=n||{};if(ur(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ur(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=ur(o,"customInspect")?o.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ur(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ur(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=o.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return mk(t,o);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var c=String(t);return s?y0(t,c):c}if(typeof t=="bigint"){var u=String(t)+"n";return s?y0(t,u):u}var f=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=f&&f>0&&typeof t=="object")return Ip(t)?"[Array]":"[Object]";var p=XR(o,r);if(typeof i>"u")i=[];else if(pk(i,t)>=0)return"[Circular]";function d(O,P,M){if(P&&(i=RR.call(i),i.push(P)),M){var V={depth:o.depth};return ur(o,"quoteStyle")&&(V.quoteStyle=o.quoteStyle),e(O,V,r+1,i)}return e(O,o,r+1,i)}if(typeof t=="function"&&!k0(t)){var h=zR(t),x=Qs(t,d);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(x.length>0?" { "+Cn.call(x,", ")+" }":"")}if(dk(t)){var b=Io?xr.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):jp.call(t);return typeof t=="object"&&!Io?ea(b):b}if(qR(t)){for(var C="<"+h0.call(String(t.nodeName)),y=t.attributes||[],g=0;g<y.length;g++)C+=" "+y[g].name+"="+fk(PR(y[g].value),"double",o);return C+=">",t.childNodes&&t.childNodes.length&&(C+="..."),C+="</"+h0.call(String(t.nodeName))+">",C}if(Ip(t)){if(t.length===0)return"[]";var k=Qs(t,d);return p&&!ZR(k)?"["+Ap(k,p)+"]":"[ "+Cn.call(k,", ")+" ]"}if(MR(t)){var _=Qs(t,d);return!("cause"in Error.prototype)&&"cause"in t&&!uk.call(t,"cause")?"{ ["+String(t)+"] "+Cn.call(v0.call("[cause]: "+d(t.cause),_),", ")+" }":_.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Cn.call(_,", ")+" }"}if(typeof t=="object"&&a){if(b0&&typeof t[b0]=="function"&&Cp)return Cp(t,{depth:f-r});if(a!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(GR(t)){var S=[];return d0&&d0.call(t,function(O,P){S.push(d(P,t,!0)+" => "+d(O,t))}),_0("Map",Sc.call(t),S,p)}if(VR(t)){var N=[];return p0&&p0.call(t,function(O){N.push(d(O,t))}),_0("Set",Ec.call(t),N,p)}if(HR(t))return $f("WeakMap");if(KR(t))return $f("WeakSet");if(WR(t))return $f("WeakRef");if(LR(t))return ea(d(Number(t)));if($R(t))return ea(d(Ep.call(t)));if(BR(t))return ea(CR.call(t));if(OR(t))return ea(d(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===Qp)return"{ [object globalThis] }";if(!DR(t)&&!k0(t)){var T=Qs(t,d),j=x0?x0(t)===Object.prototype:t instanceof Object||t.constructor===Object,F=t instanceof Object?"":"null prototype",A=!j&&ht&&Object(t)===t&&ht in t?xh.call(Ur(t),8,-1):F?"Object":"",L=j||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",$=L+(A||F?"["+Cn.call(v0.call([],A||[],F||[]),": ")+"] ":"");return T.length===0?$+"{}":p?$+"{"+Ap(T,p)+"}":$+"{ "+Cn.call(T,", ")+" }"}return String(t)};function fk(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function PR(e){return xr.call(String(e),/"/g,"&quot;")}function Ip(e){return Ur(e)==="[object Array]"&&(!ht||!(typeof e=="object"&&ht in e))}function DR(e){return Ur(e)==="[object Date]"&&(!ht||!(typeof e=="object"&&ht in e))}function k0(e){return Ur(e)==="[object RegExp]"&&(!ht||!(typeof e=="object"&&ht in e))}function MR(e){return Ur(e)==="[object Error]"&&(!ht||!(typeof e=="object"&&ht in e))}function OR(e){return Ur(e)==="[object String]"&&(!ht||!(typeof e=="object"&&ht in e))}function LR(e){return Ur(e)==="[object Number]"&&(!ht||!(typeof e=="object"&&ht in e))}function BR(e){return Ur(e)==="[object Boolean]"&&(!ht||!(typeof e=="object"&&ht in e))}function dk(e){if(Io)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!jp)return!1;try{return jp.call(e),!0}catch{}return!1}function $R(e){if(!e||typeof e!="object"||!Ep)return!1;try{return Ep.call(e),!0}catch{}return!1}var UR=Object.prototype.hasOwnProperty||function(e){return e in this};function ur(e,t){return UR.call(e,t)}function Ur(e){return IR.call(e)}function zR(e){if(e.name)return e.name;var t=NR.call(AR.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function pk(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function GR(e){if(!Sc||!e||typeof e!="object")return!1;try{Sc.call(e);try{Ec.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function HR(e){if(!Ia||!e||typeof e!="object")return!1;try{Ia.call(e,Ia);try{Aa.call(e,Aa)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function WR(e){if(!m0||!e||typeof e!="object")return!1;try{return m0.call(e),!0}catch{}return!1}function VR(e){if(!Ec||!e||typeof e!="object")return!1;try{Ec.call(e);try{Sc.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function KR(e){if(!Aa||!e||typeof e!="object")return!1;try{Aa.call(e,Aa);try{Ia.call(e,Ia)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function qR(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function mk(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return mk(xh.call(e,0,t.maxStringLength),t)+r}var i=xr.call(xr.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,YR);return fk(i,"single",t)}function YR(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+FR.call(t.toString(16))}function ea(e){return"Object("+e+")"}function $f(e){return e+" { ? }"}function _0(e,t,n,r){var i=r?Ap(n,r):Cn.call(n,", ");return e+" ("+t+") {"+i+"}"}function ZR(e){for(var t=0;t<e.length;t++)if(pk(e[t],`
`)>=0)return!1;return!0}function XR(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=Cn.call(Array(e.indent+1)," ");else return null;return{base:n,prev:Cn.call(Array(t+1),n)}}function Ap(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+Cn.call(e,","+n)+`
`+t.prev}function Qs(e,t){var n=Ip(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=ur(e,i)?t(e[i],e):""}var o=typeof Bf=="function"?Bf(e):[],a;if(Io){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var c in e)ur(e,c)&&(n&&String(Number(c))===c&&c<e.length||Io&&a["$"+c]instanceof Symbol||(ck.call(/[^\w$]/,c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if(typeof Bf=="function")for(var u=0;u<o.length;u++)uk.call(e,o[u])&&r.push("["+t(o[u])+"]: "+t(e[o[u]],e));return r}var hk=Ln,zo=un,QR=TR,JR=$r,Js=hk("%WeakMap%",!0),el=hk("%Map%",!0),eT=zo("WeakMap.prototype.get",!0),tT=zo("WeakMap.prototype.set",!0),nT=zo("WeakMap.prototype.has",!0),rT=zo("Map.prototype.get",!0),iT=zo("Map.prototype.set",!0),oT=zo("Map.prototype.has",!0),yh=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},aT=function(e,t){var n=yh(e,t);return n&&n.value},sT=function(e,t,n){var r=yh(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},lT=function(e,t){return!!yh(e,t)},vk=function(){var t,n,r,i={assert:function(o){if(!i.has(o))throw new JR("Side channel does not contain "+QR(o))},get:function(o){if(Js&&o&&(typeof o=="object"||typeof o=="function")){if(t)return eT(t,o)}else if(el){if(n)return rT(n,o)}else if(r)return aT(r,o)},has:function(o){if(Js&&o&&(typeof o=="object"||typeof o=="function")){if(t)return nT(t,o)}else if(el){if(n)return oT(n,o)}else if(r)return lT(r,o);return!1},set:function(o,a){Js&&o&&(typeof o=="object"||typeof o=="function")?(t||(t=new Js),tT(t,o,a)):el?(n||(n=new el),iT(n,o,a)):(r||(r={key:{},next:null}),sT(r,o,a))}};return i},cT=Gb,ta=vk(),Un=$r,wh={assert:function(e,t){if(!e||typeof e!="object"&&typeof e!="function")throw new Un("`O` is not an object");if(typeof t!="string")throw new Un("`slot` must be a string");if(ta.assert(e),!wh.has(e,t))throw new Un("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||typeof e!="object"&&typeof e!="function")throw new Un("`O` is not an object");if(typeof t!="string")throw new Un("`slot` must be a string");var n=ta.get(e);return n&&n["$"+t]},has:function(e,t){if(!e||typeof e!="object"&&typeof e!="function")throw new Un("`O` is not an object");if(typeof t!="string")throw new Un("`slot` must be a string");var n=ta.get(e);return!!n&&cT(n,"$"+t)},set:function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Un("`O` is not an object");if(typeof t!="string")throw new Un("`slot` must be a string");var r=ta.get(e);r||(r={},ta.set(e,r)),r["$"+t]=n}};Object.freeze&&Object.freeze(wh);var uT=wh,na=uT,fT=SyntaxError,S0=typeof StopIteration=="object"?StopIteration:null,dT=function(t){if(!S0)throw new fT("this environment lacks StopIteration");na.set(t,"[[Done]]",!1);var n={next:function(){var i=na.get(this,"[[Iterator]]"),o=na.get(i,"[[Done]]");try{return{done:o,value:o?void 0:i.next()}}catch(a){if(na.set(i,"[[Done]]",!0),a!==S0)throw a;return{done:!0,value:void 0}}}};return na.set(n,"[[Iterator]]",t),n},pT={}.toString,gk=Array.isArray||function(e){return pT.call(e)=="[object Array]"},mT=String.prototype.valueOf,hT=function(t){try{return mT.call(t),!0}catch{return!1}},vT=Object.prototype.toString,gT="[object String]",xT=Ni(),xk=function(t){return typeof t=="string"?!0:typeof t!="object"?!1:xT?hT(t):vT.call(t)===gT},bh=typeof Map=="function"&&Map.prototype?Map:null,yT=typeof Set=="function"&&Set.prototype?Set:null,jc;bh||(jc=function(t){return!1});var yk=bh?Map.prototype.has:null,E0=yT?Set.prototype.has:null;!jc&&!yk&&(jc=function(t){return!1});var wk=jc||function(t){if(!t||typeof t!="object")return!1;try{if(yk.call(t),E0)try{E0.call(t)}catch{return!0}return t instanceof bh}catch{}return!1},wT=typeof Map=="function"&&Map.prototype?Map:null,kh=typeof Set=="function"&&Set.prototype?Set:null,Cc;kh||(Cc=function(t){return!1});var j0=wT?Map.prototype.has:null,bk=kh?Set.prototype.has:null;!Cc&&!bk&&(Cc=function(t){return!1});var kk=Cc||function(t){if(!t||typeof t!="object")return!1;try{if(bk.call(t),j0)try{j0.call(t)}catch{return!0}return t instanceof kh}catch{}return!1},C0=lk,I0=dT;if(uh()||Eu()){var Uf=Symbol.iterator;Al.exports=function(t){if(t!=null&&typeof t[Uf]<"u")return t[Uf]();if(C0(t))return Array.prototype[Uf].call(t)}}else{var bT=gk,kT=xk,A0=Ln,_T=A0("%Map%",!0),ST=A0("%Set%",!0),pn=un,N0=pn("Array.prototype.push"),F0=pn("String.prototype.charCodeAt"),ET=pn("String.prototype.slice"),jT=function(t,n){var r=t.length;if(n+1>=r)return n+1;var i=F0(t,n);if(i<55296||i>56319)return n+1;var o=F0(t,n+1);return o<56320||o>57343?n+1:n+2},zf=function(t){var n=0;return{next:function(){var i=n>=t.length,o;return i||(o=t[n],n+=1),{done:i,value:o}}}},R0=function(t,n){if(bT(t)||C0(t))return zf(t);if(kT(t)){var r=0;return{next:function(){var o=jT(t,r),a=ET(t,r,o);return r=o,{done:o>t.length,value:a}}}}if(n&&typeof t["_es6-shim iterator_"]<"u")return t["_es6-shim iterator_"]()};if(!_T&&!ST)Al.exports=function(t){if(t!=null)return R0(t,!0)};else{var CT=wk,IT=kk,T0=pn("Map.prototype.forEach",!0),P0=pn("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var D0=pn("Map.prototype.iterator",!0),M0=pn("Set.prototype.iterator",!0);var O0=pn("Map.prototype.@@iterator",!0)||pn("Map.prototype._es6-shim iterator_",!0),L0=pn("Set.prototype.@@iterator",!0)||pn("Set.prototype._es6-shim iterator_",!0),AT=function(t){if(CT(t)){if(D0)return I0(D0(t));if(O0)return O0(t);if(T0){var n=[];return T0(t,function(i,o){N0(n,[o,i])}),zf(n)}}if(IT(t)){if(M0)return I0(M0(t));if(L0)return L0(t);if(P0){var r=[];return P0(t,function(i){N0(r,i)}),zf(r)}}};Al.exports=function(t){return AT(t)||R0(t)}}}var NT=Al.exports,B0=function(e){return e!==e},_k=function(t,n){return t===0&&n===0?1/t===1/n:!!(t===n||B0(t)&&B0(n))},FT=_k,Sk=function(){return typeof Object.is=="function"?Object.is:FT},RT=Sk,TT=Ai,PT=function(){var t=RT();return TT(Object,{is:t},{is:function(){return Object.is!==t}}),t},DT=Ai,MT=Uo,OT=_k,Ek=Sk,LT=PT,jk=MT(Ek(),Object);DT(jk,{getPolyfill:Ek,implementation:OT,shim:LT});var BT=jk,$T=Uo,Ck=un,UT=Ln,Np=UT("%ArrayBuffer%",!0),Nl=Ck("ArrayBuffer.prototype.byteLength",!0),zT=Ck("Object.prototype.toString"),$0=!!Np&&!Nl&&new Np(0).slice,U0=!!$0&&$T($0),Ik=Nl||U0?function(t){if(!t||typeof t!="object")return!1;try{return Nl?Nl(t):U0(t,0),!0}catch{return!1}}:Np?function(t){return zT(t)==="[object ArrayBuffer]"}:function(t){return!1},GT=Date.prototype.getDay,HT=function(t){try{return GT.call(t),!0}catch{return!1}},WT=Object.prototype.toString,VT="[object Date]",KT=Ni(),qT=function(t){return typeof t!="object"||t===null?!1:KT?HT(t):WT.call(t)===VT},Fp=un,Ak=Ni(),Nk,Fk,Rp,Tp;if(Ak){Nk=Fp("Object.prototype.hasOwnProperty"),Fk=Fp("RegExp.prototype.exec"),Rp={};var Gf=function(){throw Rp};Tp={toString:Gf,valueOf:Gf},typeof Symbol.toPrimitive=="symbol"&&(Tp[Symbol.toPrimitive]=Gf)}var YT=Fp("Object.prototype.toString"),ZT=Object.getOwnPropertyDescriptor,XT="[object RegExp]",QT=Ak?function(t){if(!t||typeof t!="object")return!1;var n=ZT(t,"lastIndex"),r=n&&Nk(n,"value");if(!r)return!1;try{Fk(t,Tp)}catch(i){return i===Rp}}:function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:YT(t)===XT},JT=un,z0=JT("SharedArrayBuffer.prototype.byteLength",!0),e5=z0?function(t){if(!t||typeof t!="object")return!1;try{return z0(t),!0}catch{return!1}}:function(t){return!1},t5=Number.prototype.toString,n5=function(t){try{return t5.call(t),!0}catch{return!1}},r5=Object.prototype.toString,i5="[object Number]",o5=Ni(),a5=function(t){return typeof t=="number"?!0:typeof t!="object"?!1:o5?n5(t):r5.call(t)===i5},Rk=un,s5=Rk("Boolean.prototype.toString"),l5=Rk("Object.prototype.toString"),c5=function(t){try{return s5(t),!0}catch{return!1}},u5="[object Boolean]",f5=Ni(),d5=function(t){return typeof t=="boolean"?!0:t===null||typeof t!="object"?!1:f5&&Symbol.toStringTag in t?c5(t):l5(t)===u5},Pp={exports:{}},p5=Object.prototype.toString,m5=uh();if(m5){var h5=Symbol.prototype.toString,v5=/^Symbol\(.*\)$/,g5=function(t){return typeof t.valueOf()!="symbol"?!1:v5.test(h5.call(t))};Pp.exports=function(t){if(typeof t=="symbol")return!0;if(p5.call(t)!=="[object Symbol]")return!1;try{return g5(t)}catch{return!1}}}else Pp.exports=function(t){return!1};var x5=Pp.exports,Dp={exports:{}},G0=typeof BigInt<"u"&&BigInt,y5=function(){return typeof G0=="function"&&typeof BigInt=="function"&&typeof G0(42)=="bigint"&&typeof BigInt(42)=="bigint"},w5=y5();if(w5){var b5=BigInt.prototype.valueOf,k5=function(t){try{return b5.call(t),!0}catch{}return!1};Dp.exports=function(t){return t===null||typeof t>"u"||typeof t=="boolean"||typeof t=="string"||typeof t=="number"||typeof t=="symbol"||typeof t=="function"?!1:typeof t=="bigint"?!0:k5(t)}}else Dp.exports=function(t){return!1};var _5=Dp.exports,S5=xk,E5=a5,j5=d5,C5=x5,I5=_5,A5=function(t){if(t==null||typeof t!="object"&&typeof t!="function")return null;if(S5(t))return"String";if(E5(t))return"Number";if(j5(t))return"Boolean";if(C5(t))return"Symbol";if(I5(t))return"BigInt"},Ic=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap:null,H0=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet:null,Ac;Ic||(Ac=function(t){return!1});var Mp=Ic?Ic.prototype.has:null,Hf=H0?H0.prototype.has:null;!Ac&&!Mp&&(Ac=function(t){return!1});var N5=Ac||function(t){if(!t||typeof t!="object")return!1;try{if(Mp.call(t,Mp),Hf)try{Hf.call(t,Hf)}catch{return!0}return t instanceof Ic}catch{}return!1},Op={exports:{}},F5=Ln,Tk=un,R5=F5("%WeakSet%",!0),Wf=Tk("WeakSet.prototype.has",!0);if(Wf){var Vf=Tk("WeakMap.prototype.has",!0);Op.exports=function(t){if(!t||typeof t!="object")return!1;try{if(Wf(t,Wf),Vf)try{Vf(t,Vf)}catch{return!0}return t instanceof R5}catch{}return!1}}else Op.exports=function(t){return!1};var T5=Op.exports,P5=wk,D5=kk,M5=N5,O5=T5,L5=function(t){if(t&&typeof t=="object"){if(P5(t))return"Map";if(D5(t))return"Set";if(M5(t))return"WeakMap";if(O5(t))return"WeakSet"}return!1},Pk=Function.prototype.toString,to=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Lp,Fl;if(typeof to=="function"&&typeof Object.defineProperty=="function")try{Lp=Object.defineProperty({},"length",{get:function(){throw Fl}}),Fl={},to(function(){throw 42},null,Lp)}catch(e){e!==Fl&&(to=null)}else to=null;var B5=/^\s*class\b/,Bp=function(t){try{var n=Pk.call(t);return B5.test(n)}catch{return!1}},Kf=function(t){try{return Bp(t)?!1:(Pk.call(t),!0)}catch{return!1}},Rl=Object.prototype.toString,$5="[object Object]",U5="[object Function]",z5="[object GeneratorFunction]",G5="[object HTMLAllCollection]",H5="[object HTML document.all class]",W5="[object HTMLCollection]",V5=typeof Symbol=="function"&&!!Symbol.toStringTag,K5=!(0 in[,]),$p=function(){return!1};if(typeof document=="object"){var q5=document.all;Rl.call(q5)===Rl.call(document.all)&&($p=function(t){if((K5||!t)&&(typeof t>"u"||typeof t=="object"))try{var n=Rl.call(t);return(n===G5||n===H5||n===W5||n===$5)&&t("")==null}catch{}return!1})}var Y5=to?function(t){if($p(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{to(t,null,Lp)}catch(n){if(n!==Fl)return!1}return!Bp(t)&&Kf(t)}:function(t){if($p(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(V5)return Kf(t);if(Bp(t))return!1;var n=Rl.call(t);return n!==U5&&n!==z5&&!/^\[object HTML/.test(n)?!1:Kf(t)},Z5=Y5,X5=Object.prototype.toString,Dk=Object.prototype.hasOwnProperty,Q5=function(t,n,r){for(var i=0,o=t.length;i<o;i++)Dk.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},J5=function(t,n,r){for(var i=0,o=t.length;i<o;i++)r==null?n(t.charAt(i),i,t):n.call(r,t.charAt(i),i,t)},e3=function(t,n,r){for(var i in t)Dk.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},t3=function(t,n,r){if(!Z5(n))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),X5.call(t)==="[object Array]"?Q5(t,n,i):typeof t=="string"?J5(t,n,i):e3(t,n,i)},n3=t3,r3=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],qf=r3,i3=typeof globalThis>"u"?Qp:globalThis,o3=function(){for(var t=[],n=0;n<qf.length;n++)typeof i3[qf[n]]=="function"&&(t[t.length]=qf[n]);return t},Nc=n3,a3=o3,W0=Uo,_h=un,Tl=ph,s3=_h("Object.prototype.toString"),Mk=Ni(),V0=typeof globalThis>"u"?Qp:globalThis,Up=a3(),Sh=_h("String.prototype.slice"),Yf=Object.getPrototypeOf,l3=_h("Array.prototype.indexOf",!0)||function(t,n){for(var r=0;r<t.length;r+=1)if(t[r]===n)return r;return-1},Fc={__proto__:null};Mk&&Tl&&Yf?Nc(Up,function(e){var t=new V0[e];if(Symbol.toStringTag in t){var n=Yf(t),r=Tl(n,Symbol.toStringTag);if(!r){var i=Yf(n);r=Tl(i,Symbol.toStringTag)}Fc["$"+e]=W0(r.get)}}):Nc(Up,function(e){var t=new V0[e],n=t.slice||t.set;n&&(Fc["$"+e]=W0(n))});var c3=function(t){var n=!1;return Nc(Fc,function(r,i){if(!n)try{"$"+r(t)===i&&(n=Sh(i,1))}catch{}}),n},u3=function(t){var n=!1;return Nc(Fc,function(r,i){if(!n)try{r(t),n=Sh(i,1)}catch{}}),n},f3=function(t){if(!t||typeof t!="object")return!1;if(!Mk){var n=Sh(s3(t),8,-1);return l3(Up,n)>-1?n:n!=="Object"?!1:u3(t)}return Tl?c3(t):null},d3=un,K0=d3("ArrayBuffer.prototype.byteLength",!0),p3=Ik,m3=function(t){return p3(t)?K0?K0(t):t.byteLength:NaN},Ok=VF,Bn=un,q0=vR,h3=Ln,Ao=NT,v3=vk,Y0=BT,Z0=lk,X0=gk,Q0=Ik,J0=qT,ex=QT,tx=e5,nx=ch,rx=A5,ix=L5,ox=f3,ax=m3,sx=Bn("SharedArrayBuffer.prototype.byteLength",!0),lx=Bn("Date.prototype.getTime"),Zf=Object.getPrototypeOf,cx=Bn("Object.prototype.toString"),Rc=h3("%Set%",!0),zp=Bn("Map.prototype.has",!0),Tc=Bn("Map.prototype.get",!0),ux=Bn("Map.prototype.size",!0),Pc=Bn("Set.prototype.add",!0),Lk=Bn("Set.prototype.delete",!0),Dc=Bn("Set.prototype.has",!0),Pl=Bn("Set.prototype.size",!0);function fx(e,t,n,r){for(var i=Ao(e),o;(o=i.next())&&!o.done;)if(wn(t,o.value,n,r))return Lk(e,o.value),!0;return!1}function Bk(e){if(typeof e>"u")return null;if(typeof e!="object")return typeof e=="symbol"?!1:typeof e=="string"||typeof e=="number"?+e==+e:!0}function g3(e,t,n,r,i,o){var a=Bk(n);if(a!=null)return a;var s=Tc(t,a),c=Ok({},i,{strict:!1});return typeof s>"u"&&!zp(t,a)||!wn(r,s,c,o)?!1:!zp(e,a)&&wn(r,s,c,o)}function x3(e,t,n){var r=Bk(n);return r??(Dc(t,r)&&!Dc(e,r))}function dx(e,t,n,r,i,o){for(var a=Ao(e),s,c;(s=a.next())&&!s.done;)if(c=s.value,wn(n,c,i,o)&&wn(r,Tc(t,c),i,o))return Lk(e,c),!0;return!1}function wn(e,t,n,r){var i=n||{};if(i.strict?Y0(e,t):e===t)return!0;var o=rx(e),a=rx(t);if(o!==a)return!1;if(!e||!t||typeof e!="object"&&typeof t!="object")return i.strict?Y0(e,t):e==t;var s=r.has(e),c=r.has(t),u;if(s&&c){if(r.get(e)===r.get(t))return!0}else u={};return s||r.set(e,u),c||r.set(t,u),b3(e,t,i,r)}function px(e){return!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function y3(e,t,n,r){if(Pl(e)!==Pl(t))return!1;for(var i=Ao(e),o=Ao(t),a,s,c;(a=i.next())&&!a.done;)if(a.value&&typeof a.value=="object")c||(c=new Rc),Pc(c,a.value);else if(!Dc(t,a.value)){if(n.strict||!x3(e,t,a.value))return!1;c||(c=new Rc),Pc(c,a.value)}if(c){for(;(s=o.next())&&!s.done;)if(s.value&&typeof s.value=="object"){if(!fx(c,s.value,n.strict,r))return!1}else if(!n.strict&&!Dc(e,s.value)&&!fx(c,s.value,n.strict,r))return!1;return Pl(c)===0}return!0}function w3(e,t,n,r){if(ux(e)!==ux(t))return!1;for(var i=Ao(e),o=Ao(t),a,s,c,u,f,p;(a=i.next())&&!a.done;)if(u=a.value[0],f=a.value[1],u&&typeof u=="object")c||(c=new Rc),Pc(c,u);else if(p=Tc(t,u),typeof p>"u"&&!zp(t,u)||!wn(f,p,n,r)){if(n.strict||!g3(e,t,u,f,n,r))return!1;c||(c=new Rc),Pc(c,u)}if(c){for(;(s=o.next())&&!s.done;)if(u=s.value[0],p=s.value[1],u&&typeof u=="object"){if(!dx(c,e,u,p,n,r))return!1}else if(!n.strict&&(!e.has(u)||!wn(Tc(e,u),p,n,r))&&!dx(c,e,u,p,Ok({},n,{strict:!1}),r))return!1;return Pl(c)===0}return!0}function b3(e,t,n,r){var i,o;if(typeof e!=typeof t||e==null||t==null||cx(e)!==cx(t)||Z0(e)!==Z0(t))return!1;var a=X0(e),s=X0(t);if(a!==s)return!1;var c=e instanceof Error,u=t instanceof Error;if(c!==u||(c||u)&&(e.name!==t.name||e.message!==t.message))return!1;var f=ex(e),p=ex(t);if(f!==p||(f||p)&&(e.source!==t.source||q0(e)!==q0(t)))return!1;var d=J0(e),h=J0(t);if(d!==h||(d||h)&&lx(e)!==lx(t)||n.strict&&Zf&&Zf(e)!==Zf(t))return!1;var x=ox(e),b=ox(t);if(x!==b)return!1;if(x||b){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var C=px(e),y=px(t);if(C!==y)return!1;if(C||y){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var g=Q0(e),k=Q0(t);if(g!==k)return!1;if(g||k)return ax(e)!==ax(t)?!1:typeof Uint8Array=="function"&&wn(new Uint8Array(e),new Uint8Array(t),n,r);var _=tx(e),S=tx(t);if(_!==S)return!1;if(_||S)return sx(e)!==sx(t)?!1:typeof Uint8Array=="function"&&wn(new Uint8Array(e),new Uint8Array(t),n,r);if(typeof e!=typeof t)return!1;var N=nx(e),T=nx(t);if(N.length!==T.length)return!1;for(N.sort(),T.sort(),i=N.length-1;i>=0;i--)if(N[i]!=T[i])return!1;for(i=N.length-1;i>=0;i--)if(o=N[i],!wn(e[o],t[o],n,r))return!1;var j=ix(e),F=ix(t);return j!==F?!1:j==="Set"||F==="Set"?y3(e,t,n,r):j==="Map"?w3(e,t,n,r):!0}var k3=function(t,n,r){return wn(t,n,r,v3())};const _3=Yc(k3);var as;(e=>{function t(i,o){return o in i&&delete i[o],i}e.remove=t;function n(i,o){const a={};for(const s of o)s in i&&(a[s]=i[s]);return a}e.select=n;function r(i,o){return _3(i,o)}e.deepCompare=r})(as||(as={}));function S3({importedFiles:e,setImportedFiles:t,currentPalette:n,setCurrentPalette:r,onAbort:i,onFinish:o}){if(e.length===0)throw new Error("No files.");const[a,s]=R.useState(!1),[c,u]=R.useState(e.map(_=>E3(_))),[f,p]=R.useState(0),d=e[f],h=c[f],x=R.useCallback(_=>{const S=[...c];S[f]=_,u(S)},[c,f]),b=R.useCallback(_=>{if(a)return;s(!0),ja.justBlurIt();const S=e.map(T=>({...T,selectedImporter:{...T.selectedImporter,config:{...T.selectedImporter.config,palette:_.palette}}}));Pn.deferMap(S,si.importImage).then(T=>{const j=c.map((F,A)=>{if(F===void 0)return;const L=T[A];return{...F,importedFile:L,options:{...F.options,transparencyIndex:L.importerResult.kind!=="error"?L.importerResult.result.transparencyIndex:F.options.transparencyIndex}}});return{updatedImportFiles:T,updatedConfigFiles:j}}).then(({updatedImportFiles:T,updatedConfigFiles:j})=>{t(T),u(j),r(_),p(0)}).catch(T=>{console.error(T),i()}).finally(()=>s(!1))},[a,r,e,t,c,u,i]),C=R.useCallback(_=>{if(a)return;s(!0),ja.justBlurIt();const S={...d,selectedImporter:_};Pn.defer(()=>si.importImage(S)).then(T=>{const j=[...e];j[f]=T,t(j),T.importerResult.kind==="error"?x(void 0):x({importedFile:T,options:{center:(h==null?void 0:h.options.center)??!1,compress:(h==null?void 0:h.options.compress)??!1,transparencyIndex:T.importerResult.result.transparencyIndex}})}).catch(T=>{console.error(T),i()}).finally(()=>s(!1))},[a,d,e,f,t,i,h,x]),y=R.useCallback(()=>{if(a)return;s(!0),ja.justBlurIt();const _=[],S=d.selectedImporter,N=Array.from({length:e.length}).map(async(T,j)=>{var O,P;const F={importedFile:e[j],configedFile:c[j]};if(F.importedFile===d)return F;if(F.importedFile.selectedImporter.config.compatibilityKey!==S.config.compatibilityKey)return _.push(j),F;if(as.deepCompare(F.importedFile.selectedImporter.config,S.config))return F;let L={...F.importedFile,selectedImporter:{...F.importedFile.selectedImporter,config:S.config}};L=await Pn.defer(()=>si.importImage(L));const $=L.importerResult.kind==="error"?void 0:{importedFile:L,options:{center:((O=F.configedFile)==null?void 0:O.options.center)??!1,compress:((P=F.configedFile)==null?void 0:P.options.compress)??!1,transparencyIndex:L.importerResult.result.transparencyIndex}};return{importedFile:L,configedFile:$}});Promise.all(N).then(T=>{const j=T.map(A=>A.importedFile),F=T.map(A=>A.configedFile);if(t(j),u(F),_.length>0){const A=_.map(L=>{const $=j[L];return`#${L+1} (${$.file.name})`});alert(`Done. But it wasn't possible to apply the current importer config to the following images because their importer/decoder has different options: ${A.join("; ")}`)}else alert("Done!")}).catch(T=>{console.error(T),i()}).finally(()=>{s(!1)})},[d,e,t,a,s,c,i]),g=R.useCallback(()=>{if(a||h===void 0)return;const _=c.map(S=>S===h||S===void 0?S:{...S,options:{...h.options,transparencyIndex:S.options.transparencyIndex}});u(_),alert("Done!")},[a,h,c]),k=R.useCallback(()=>{const _=c.filter(bc.notUndefined);o(_)},[c,o]);return l.jsx(kp,{isLoading:a?"Recompiling...":!1,children:l.jsxs(Ht,{children:[l.jsx(jI,{currentPalette:n,setCurrentPalette:b}),l.jsx(kt,{header:"Importer Options",children:l.jsx(NN,{selectedImporter:d.selectedImporter,setSelectedImporter:C,onClickApplyAll:e.length>1?y:void 0})}),l.jsxs(kt,{header:"Frame Options",children:[l.jsx(FN,{decoded:d.decodedUserImage,imported:d.importerResult}),l.jsx(TN,{resultWrapper:d.importerResult}),h!==void 0&&l.jsx(CI,{importedFile:d,currentConfig:h,setCurrentConfig:x,onClickApplyAll:e.length>1?g:void 0})]}),l.jsx(Vw,{current:f,total:c.length,onPrev:()=>{a||f!==0&&p(f-1)},onNext:()=>{a||f!==c.length-1&&p(f+1)},onFinish:k})]})})}function E3(e){if(e.importerResult.kind!=="error")return{importedFile:e,options:{center:!1,compress:!0,transparencyIndex:e.importerResult.result.transparencyIndex}}}const j3=[$b,Jw],$k=j3,C3=$k.flatMap(e=>e.supportedFileExts);function Uk({type:e,replacing:t,currentPalette:n,setCurrentPalette:r,onFinish:i,onAbort:o}){const[a,s]=R.useState(),[c,u]=R.useState(!1),[f,p]=R.useState(),[d,h]=R.useState(!1),[x,b]=R.useState(!1),C=R.useCallback(k=>{if(k.length===0){o();return}h(!0),Pn.deferMap(k,si.importImage).then(p).catch(S=>{console.error(S),o()}).finally(()=>h(!1))},[o]),y=R.useCallback(k=>{if(k.length===0){o();return}t!==void 0&&k.length>1&&(k=[k[0]]),u(!0),Pn.deferMap(k,S=>si.decodeImage(S,n.palette,$k)).then(S=>{if(s(S),S.length===1){const N=S[0];N.error===void 0&&C([N])}}).catch(S=>{console.error(S),o()}).finally(()=>u(!1))},[t,o,n,C]),g=R.useCallback(k=>{const _=k.map(N=>{if(N.importedFile.importerResult.kind==="error")throw new Error("Imported files with errors shouldn't even reach here.");const T=N.importedFile.importerResult.result.resource,{width:j,height:F}=T.compiledImage;return{width:j,height:F,xOffset:N.options.center?Math.floor(j/2):0,yOffset:N.options.center?Math.floor(F/2):0,transparencyIndex:N.options.transparencyIndex,unknown2:0,unknown3:0,kind:"single",layerData:{kind:"palette-idx",compress:N.options.compress,imageResource:T}}});if(t!==void 0){let N=_[0];N={...N,unknown2:t.unknown2,unknown3:t.unknown3},i(N),b(!0);return}let S;if(e==="subframes")S={type:e,subframes:_};else{const N=_.map(T=>({duration:10,frameData:T}));S={type:e,frames:N}}i(S),b(!0)},[e,t,b,i]);return c?l.jsx(Ht,{children:l.jsx(kt,{children:"Decoding..."})}):a===void 0?l.jsx(Uw,{isReplacing:t!==void 0,onFinish:y,onAbort:o,acceptFiles:C3.map(k=>`.${k}`).join(",")}):d?l.jsx(Ht,{children:l.jsx(kt,{children:"Compiling..."})}):f===void 0?l.jsx(bI,{decodedUserFiles:a,onFinish:C,onAbort:o}):x?l.jsx(Ht,{children:l.jsx(kt,{children:"Finished! You can now close this wizard..."})}):l.jsx(S3,{importedFiles:f,setImportedFiles:p,currentPalette:n,setCurrentPalette:r,onFinish:g,onAbort:o})}var Tr;(e=>{function t(){return Jv(r=>r.currentPalette)}e.useCurrentPalette=t;function n(){return Jv(r=>r.gafOnlyActions.setCurrentPalette)}e.useSetCurrentPalette=n})(Tr||(Tr={}));function I3({type:e,onAbort:t,onEnded:n}){const r=Tr.useCurrentPalette(),i=Tr.useSetCurrentPalette(),o=Y.useAddFramesToActiveEntry(),a=Y.useAddSubframesToActiveFrame(),s=Y.useConvertActiveFrameToMultiFrame(),c=R.useCallback(u=>{if(u.type==="frames")o(u.frames);else{const f=s(!0);a(u.subframes),f&&alert("The current Frame was automatically converted to a multi-layered Frame.")}n()},[n,o,a,s]);return l.jsx(Uk,{type:e,currentPalette:r,setCurrentPalette:i,onFinish:c,onAbort:t})}function A3({decodedFiles:e,onNext:t,onAbort:n}){if(e.length===0)throw new Error("No files.");const[r,i]=R.useState(e.map(f=>{const p=f.result.kind==="err"?f.result.error:void 0;return{content:f,fileName:f.file.name,disabled:p!==void 0,error:p}})),[o,a]=R.useState(),s=R.useCallback(()=>{const f=r.filter(p=>!p.disabled).map(({content:p})=>{if(p.result.kind!=="err")return{file:p.file,result:p.result.result}}).filter(bc.notUndefined);t(f)},[r,t]),c=r.every(f=>f.disabled),u=o!==void 0?r[o]:void 0;return l.jsxs(Ht,{children:[l.jsx(kt,{children:l.jsxs("div",{className:"flex space-x-4 mb-4",children:[l.jsxs("div",{className:"flex-1 overflow-hidden",children:[l.jsxs("div",{className:"text-center text-xs font-bold text-slate-500 mb-0.5",children:["Reorder Files (",r.length,")"]}),l.jsx(Hw,{items:r,setItems:i,selectedIndex:o,setSelectedIndex:a})]}),l.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[l.jsx("div",{className:"text-xs font-bold text-slate-500 mb-0.5",children:"Image Preview"}),l.jsx(N3,{selectedItem:u})]})]})}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(oe,{color:"default",onClick:n,children:"Exit"}),l.jsx(oe,{color:"success",onClick:s,disabled:c,children:"Import"})]})]})}function N3({selectedItem:e}){if(e===void 0)return l.jsx("div",{className:"flex justify-center items-center text-gray-400 text-center p-2",children:"(No file selected)"});const t=e.content.result;if(t.kind==="err")return l.jsx("button",{className:"flex justify-center items-center text-red-600 text-center p-2 hover:underline",onClick:()=>{console.log(t.error),alert(t.error)},children:"(Couldn't decode file)"});const n=l.jsx(Zn,{imageData:t.result.image,imageWidth:t.result.metadata.width,imageHeight:t.result.metadata.height});return e.disabled?l.jsxs("div",{className:"relative",children:[l.jsx("div",{style:{opacity:"30%"},children:n}),l.jsx("div",{className:"absolute inset-0 flex justify-center items-center text-center",children:l.jsx("span",{className:"text-gray-500 font-bold",children:"(Disabled)"})})]}):n}function F3({isReplacing:e,availableDecoders:t,onNext:n,onAbort:r}){const i=R.useMemo(()=>t.flatMap(o=>o.supportedFileExts).map(o=>`.${o}`).join(","),[t]);return l.jsx(Uw,{isReplacing:e,onFinish:n,acceptFiles:i,onAbort:r})}function zk({onClick:e,disabled:t,size:n,icon:r}){const i=t?"text-sky-600 opacity-50":"text-sky-600 hover:text-sky-500 active:text-sky-500";return l.jsx("button",{className:`${i} inline-block`,onClick:()=>!t&&e(),disabled:t,children:l.jsx(r,{size:n})})}const Gk=[{id:"round",name:"Round",desc:"TODO",converter:e=>e<128?0:1},{id:"opaque-or-0",name:"Opaque or nothing",desc:"TODO",converter:e=>e===255?1:0},{id:"transparent-or-1",name:"Transparent or full",desc:"TODO",converter:e=>e===0?0:1}],Hk=[{id:"round",name:"Round",desc:"TODO",converter:yt.ColorUtils.DepthConverters.round8to5}],Wk=[{id:"round",name:"Round",desc:"TODO",converter:yt.ColorUtils.DepthConverters.round8to4}];function Vk({show1555:e,config1555:t,setConfig1555:n,show4444:r,config4444:i,setConfig4444:o}){const a=t.converter8to1,s=d=>{n({...t,converter8to1:d})},c=t.converter8to5,u=d=>{n({...t,converter8to5:d})},f=i.converter8to4,p=d=>{o({...i,converter8to4:d})};return l.jsxs("div",{className:"flex space-x-8",children:[e&&l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-center font-semibold mb-2",children:"1555 Settings"}),l.jsxs("div",{className:"flex flex-col space-y-4",children:[l.jsx(Xf,{label:"8-bit to 1-bit (Alpha)",namedConverters:Gk,value:a,setValue:s}),l.jsx(Xf,{label:"8-bit to 5-bit (Red, Green, Blue)",namedConverters:Hk,value:c,setValue:u})]})]}),r&&l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-center font-semibold mb-2",children:"4444 Settings"}),l.jsx(Xf,{label:"8-bit to 4-bit (ARGB)",namedConverters:Wk,value:f,setValue:p})]}),(!e||!r)&&l.jsx("div",{className:"flex-1"})]})}function Xf({label:e,namedConverters:t,value:n,setValue:r}){const i=R.useMemo(()=>t.map(a=>({id:a.id,label:a.name})),[t]),o=R.useCallback(()=>{},[]);return l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-semibold",children:e}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(bu,{options:i,value:n.id,onChange:a=>r(t.find(s=>s.id===a))}),l.jsx(zk,{onClick:o,icon:ie.Help,size:18})]})]})}function R3({target:e,onNext:t,onAbort:n}){const[r,i]=R.useState({converter8to1:Gk[0],converter8to5:Hk[0]}),[o,a]=R.useState({converter8to4:Wk[0]}),s=R.useCallback(()=>{r===void 0||o===void 0||t({config1555:r,config4444:o})},[t,r,o]);return l.jsxs(Ht,{children:[l.jsxs(kt,{children:[l.jsxs("div",{className:"text-sm mb-1",children:[l.jsx("p",{children:"Select the conversion method for each color/component channel."}),l.jsx("p",{children:"If you don't know what this is just use the defaults."}),l.jsx(He,{label:"Or click here for a short explanation",onClick:()=>{}})]}),l.jsx(Vk,{show1555:e.kind==="taf-pair"||e.subFormat==="taf_1555",show4444:e.kind==="taf-pair"||e.subFormat==="taf_4444",config1555:r,config4444:o,setConfig1555:i,setConfig4444:a})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(oe,{color:"default",onClick:n,children:"Exit"}),l.jsx(oe,{color:"success",onClick:s,disabled:r===void 0||o===void 0,children:"Next"})]})]})}function T3({target:e,original:t,results:n}){if(e.kind==="taf-solo"){if(n.target!=="taf-solo")throw new Error("Target mismatch.");return l.jsx(P3,{original:t,importerResult:n.subFormat==="taf_1555"?n.taf_1555:n.taf_4444,subFormat:n.subFormat})}return l.jsx(D3,{original:t,results:n})}function P3({original:e,importerResult:t,subFormat:n}){const r=R.useMemo(()=>t.kind==="error"?l.jsx("div",{className:"flex justify-center items-center text-center text-red-400",children:"(Error)"}):l.jsx(Zn,{imageData:t.result.resource.compiledImage,imageWidth:e.result.metadata.width,imageHeight:e.result.metadata.height,wrapperHeight:250}),[e,t]);return l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"text-center text-slate-500 text-xs font-bold mb-0.5",children:"Original"}),l.jsx(Zn,{imageData:e.result.image,imageWidth:e.result.metadata.width,imageHeight:e.result.metadata.height,wrapperHeight:125}),l.jsx(ie.ArrowDown,{className:"mt-1 text-gray-400"}),l.jsx("div",{className:"text-center text-slate-500 text-xs font-bold mb-0.5",children:n==="taf_1555"?"1555":"4444"}),r]})}function D3({original:e,results:t}){if(t.target!=="taf-pair")throw new Error("Target mismatch.");const n=t.taf_1555,r=R.useMemo(()=>n.kind==="error"?l.jsx("div",{className:"flex justify-center items-center text-center text-red-400",children:"(Error)"}):l.jsx(Zn,{imageData:n.result.resource.compiledImage,imageWidth:e.result.metadata.width,imageHeight:e.result.metadata.height,wrapperHeight:250}),[e,n]),i=t.taf_4444,o=R.useMemo(()=>i.kind==="error"?l.jsx("div",{className:"flex justify-center items-center text-center text-red-400",children:"(Error)"}):l.jsx(Zn,{imageData:i.result.resource.compiledImage,imageWidth:e.result.metadata.width,imageHeight:e.result.metadata.height,wrapperHeight:250}),[e,i]);return l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"text-center text-slate-500 text-xs font-bold mb-0.5",children:"Original"}),l.jsx(Zn,{imageData:e.result.image,imageWidth:e.result.metadata.width,imageHeight:e.result.metadata.height,wrapperHeight:125}),l.jsx(ie.ArrowFork,{className:"mt-1 rotate-180 text-gray-400"})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[l.jsx("div",{className:"text-center text-slate-500 text-xs font-bold mb-0.5",children:"1555"}),r]}),l.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[l.jsx("div",{className:"text-center text-slate-500 text-xs font-bold mb-0.5",children:"4444"}),o]})]})]})}function M3({currentResult:e,setCurrentResult:t,onClickApplyAll:n}){const r=l.jsxs("label",{className:"flex items-center space-x-1.5",children:[l.jsx("input",{type:"checkbox",checked:e.options.center,onChange:o=>{const a=o.target.checked;t({...e,options:{...e.options,center:a}})}}),l.jsx("span",{children:"Auto center image"})]}),i=l.jsxs("label",{className:"flex items-center space-x-1.5",children:[l.jsx("input",{type:"checkbox",checked:e.options.compress,onChange:o=>{const a=o.target.checked;t({...e,options:{...e.options,compress:a}})}}),l.jsx("span",{children:"Compress image"})]});return l.jsxs("div",{className:"flex flex-col",children:[r,i,n&&l.jsx("div",{className:"mt-2 text-left text-xs",children:l.jsx(He,{label:"Apply to all images",onClick:n})})]})}var gn;(e=>{function t(i){return{width:i.width,height:i.height,xOffset:i.xOffset,yOffset:i.yOffset,transparencyIndex:i.transparencyIndex,unknown2:i.unknown2,unknown3:i.unknown3}}e.makeBaseFrameData=t;function n(i,o,a,s){let c;if(r(i,"argb1555"))c=yt.ColorUtils.convertARGB1555ToRGBA8888(i,o,a,{depthConvert1to8:yt.ColorUtils.DepthConverters.round1to8,depthConvert5to8:yt.ColorUtils.DepthConverters.round5to8});else if(r(i,"argb4444"))c=yt.ColorUtils.convertARGB4444ToRGBA8888(i,o,a,{});else throw new Error(`Unexpected color format: ${i.format}`);return s.compileImage(o,a,c)}e.compileTafImage=n;function r(i,o){return i.format===o}e.isFormat=r})(gn||(gn={}));const mx=new Oo;function Kk(e){return{createResource:async(t,n)=>{const{width:r,height:i}=t.metadata,o=t.colorData.bytes;tr.assertEq(r*i*4,o.length);let a;if(e==="taf_1555"){const s=n,c=yt.ColorUtils.convertRGBA8888ToARGB1555(t.colorData,r,i,{depthConvert8to1:s.converter8to1.converter,depthConvert8to5:s.converter8to5.converter}),u=gn.compileTafImage(c,r,i,mx);a={lossyPixelMatches:"TODO",resource:{kind:"colored",colorData:c,compiledImage:u}}}else{const s=n,c=yt.ColorUtils.convertRGBA8888ToARGB4444(t.colorData,r,i,{depthConvert8to4:s.converter8to4.converter}),u=gn.compileTafImage(c,r,i,mx);a={lossyPixelMatches:"TODO",resource:{kind:"colored",colorData:c,compiledImage:u}}}return{kind:"success",result:a}}}}const hx=Kk("taf_1555"),vx=Kk("taf_4444");var Mc;(e=>{async function t(r,i){const o=_o.getType(r.name);if(o===null)return{file:r,result:{kind:"err",error:`Couldn't detect mimeType for file name: ${r.name}.`}};const a=_o.getExtension(o);if(a===null)return{file:r,result:{kind:"err",error:`Unsupported mimeType: ${o}`}};for(const s of i){if(!s.supportedFileExts.includes(a))continue;const u=await s.decodeFile(r);return"error"in u?{file:r,result:{kind:"err",error:u.error}}:{file:r,result:{kind:"ok",result:u}}}return{file:r,result:{kind:"err",error:`No decoder available for file extension: ${a}`}}}e.decodeImage=t;async function n(r,i,o){if(r.kind==="taf-pair"){const a=hx.createResource(i,o.config1555),s=vx.createResource(i,o.config4444);return Promise.all([a,s]).then(([c,u])=>({target:"taf-pair",taf_1555:c,taf_4444:u}))}return r.subFormat==="taf_1555"?hx.createResource(i,o.config1555).then(a=>({target:"taf-solo",subFormat:"taf_1555",taf_1555:a})):vx.createResource(i,o.config4444).then(a=>({target:"taf-solo",subFormat:"taf_4444",taf_4444:a}))}e.compileItem=n})(Mc||(Mc={}));var fo;(e=>{function t(r,i,o){if(i<0||i>r.length)throw console.error(i),console.error(r),new Error("Index out of bounds.");const a=[...r];return a[i]=o,a}e.update=t;function n(r,i,o){if(i<0||i>r.length)throw console.error(i),console.error(r),new Error("Index out of bounds.");const a=[...r];return a[i]=o(a[i]),a}e.updateFrom=n})(fo||(fo={}));const O3={center:!1,compress:!0};function L3({target:e,okDecodedFiles:t,onNext:n,onAbort:r}){if(t.length===0)throw new Error("No files.");const[i,o]=R.useState(),[a,s]=R.useState(),[c,u]=R.useState(!1),[f,p]=R.useState(!1),[d,h]=R.useState(0),x=R.useCallback(S=>{if(o(S),S===void 0){s(void 0);return}p(!0);const N=a==null?void 0:a.map(j=>j.options);Pn.deferMap(t,(j,F)=>Mc.compileItem(e,j.result,S).then(L=>{const O=(N==null?void 0:N[F])??O3;return{originalfile:j.file,decodedUserImage:j.result,importerResult:L,options:O}})).then(j=>{s(j)}).catch(j=>{console.error(j),r()}).finally(()=>p(!1))},[e,t,r,a]),b=R.useCallback(S=>{if(a===void 0)throw new Error("No results. This should have been unreachable.");const N=fo.update(a,d,S);s(N)},[a,d]),C=R.useCallback(()=>{if(a===void 0)throw new Error("No results. This should have been unreachable.");const N=a[d].options,T=a.map(j=>({...j,options:N}));s(T),alert("Done!")},[a,d]),y=R.useCallback(()=>{if(a===void 0)return;const S=a.filter(N=>N.importerResult.target==="taf-pair"?N.importerResult.taf_1555.kind!=="error"&&N.importerResult.taf_4444.kind!=="error":N.importerResult.subFormat==="taf_1555"?N.importerResult.taf_1555.kind!=="error":N.importerResult.taf_4444.kind!=="error");if(S.length===0){alert("All images being imported have an error. Nothing will be imported.");return}n(S)},[a,n]);if(i===void 0||a===void 0)return l.jsx(kp,{label:"Compiling images...",isLoading:f,children:l.jsx(R3,{target:e,onNext:x,onAbort:r})});const g=t.length,k=t[d],_=a[d];return l.jsx(kp,{label:"Recompiling images...",isLoading:f,children:l.jsxs(Ht,{children:[l.jsx(kt,{children:l.jsxs("div",{children:[l.jsxs(uc,{children:[l.jsx("span",{className:"mr-1",children:"Conversion Methods"}),l.jsx(He,{label:c?"Collapse":"Expand",onClick:()=>u(!c)})]}),l.jsxs("div",{className:c?"":"hidden",children:[l.jsx("div",{className:"text-center text-xs text-slate-500 mb-2",children:"(applies to all images being imported)"}),l.jsx(Vk,{show1555:e.kind==="taf-pair"||e.subFormat==="taf_1555",show4444:e.kind==="taf-pair"||e.subFormat==="taf_4444",config1555:i.config1555,config4444:i.config4444,setConfig1555:S=>x({...i,config1555:S}),setConfig4444:S=>x({...i,config4444:S})})]})]})}),l.jsxs(kt,{children:[l.jsxs("div",{children:[l.jsx(uc,{children:"Result"}),l.jsx(T3,{target:e,original:k,results:_.importerResult})]}),l.jsx(M3,{currentResult:_,setCurrentResult:b,onClickApplyAll:t.length>1?C:void 0})]}),l.jsx(Vw,{current:d,total:t.length,onPrev:()=>{f||d!==0&&h(d-1)},onNext:()=>{f||d!==g&&h(d+1)},onFinish:y})]})})}const gx=[Xw,Bb];function Cu({type:e,replacing:t,onFinish:n,target:r,onAbort:i}){const[o,a]=R.useState(),[s,c]=R.useState(),[u,f]=R.useState(),p=R.useCallback(h=>{const x=h.map(C=>{const{width:y,height:g}=C.decodedUserImage.metadata,k={width:y,height:g,xOffset:C.options.center?Math.floor(y/2):0,yOffset:C.options.center?Math.floor(g/2):0,transparencyIndex:0,unknown2:0,unknown3:0};if(r.kind==="taf-solo"){if(C.importerResult.target!=="taf-solo")throw new Error("Target mismatch.");let N;if(r.subFormat==="taf_1555"){if(C.importerResult.subFormat!=="taf_1555")throw new Error("Target mismatch.");N=C.importerResult.taf_1555}else{if(C.importerResult.subFormat!=="taf_4444")throw new Error("Target mismatch.");N=C.importerResult.taf_4444}if(N.kind==="error")throw new Error("Imported files with errors shouldn't even reach here.");return{...k,kind:"single",layerData:{kind:"raw-colors",imageResource:N.result.resource}}}if(C.importerResult.target!=="taf-pair")throw new Error("Target mismatch.");const _=C.importerResult.taf_1555,S=C.importerResult.taf_4444;if(_.kind==="error"||S.kind==="error")throw new Error("Imported files with errors shouldn't even reach here.");return{...k,kind:"single",layerData:{kind:"raw-colors-pair",imageResource1555:_.result.resource,imageResource4444:S.result.resource}}});if(t!==void 0){let C=x[0];C={...C,unknown2:t.unknown2,unknown3:t.unknown3},n(C);return}let b;if(e==="subframes")b={type:e,subframes:x};else{const C=x.map(y=>({duration:2,frameData:y}));b={type:e,frames:C}}n(b)},[t,e,r,n]),d=R.useCallback(h=>{if(o!==void 0)return;if(h.length===0){i();return}t!==void 0&&h.length>1&&(h=[h[0]]),a("Decoding files...");const x=h.map(b=>Mc.decodeImage(b,gx));Promise.all(x).then(b=>{if(c(b),b.length===1){const C=b[0];C.result.kind==="ok"&&f([{file:C.file,result:C.result.result}])}}).catch(b=>{console.error(b)}).finally(()=>a(void 0))},[t,o,i]);return o?l.jsx(Ht,{children:l.jsx(kt,{children:o})}):s===void 0?l.jsx(F3,{isReplacing:t!==void 0,onAbort:i,onNext:d,availableDecoders:gx}):u===void 0?l.jsx(A3,{decodedFiles:s,onNext:f,onAbort:i}):l.jsx(L3,{target:r,okDecodedFiles:u,onNext:p,onAbort:i})}function B3({type:e,onAbort:t,onEnded:n}){const r=Y.useAddFramesToActiveEntry(),i=Y.useAddSubframesToActiveFrame(),o=Y.useConvertActiveFrameToMultiFrame(),a=R.useCallback(s=>{if(s.type==="frames")r(s.frames);else{const c=o(!0);i(s.subframes),c&&alert("The current Frame was automatically converted to a multi-layered Frame.")}n()},[n,r,i,o]);return l.jsx(Cu,{target:{kind:"taf-pair"},type:e,onFinish:a,onAbort:t})}function $3({type:e,onAbort:t,onEnded:n}){const r=ko.useSubFormat(),i=Y.useAddFramesToActiveEntry(),o=Y.useAddSubframesToActiveFrame(),a=Y.useConvertActiveFrameToMultiFrame(),s=R.useCallback(c=>{if(c.type==="frames")i(c.frames);else{const u=a(!0);o(c.subframes),u&&alert("The current Frame was automatically converted to a multi-layered Frame.")}n()},[n,i,o,a]);return l.jsx(Cu,{target:{kind:"taf-solo",subFormat:r},type:e,onFinish:s,onAbort:t})}function U3({type:e,onAbort:t,onEnded:n}){const r=Y.useFormat();return r==="gaf"?l.jsx(I3,{type:e,onEnded:n,onAbort:t}):r==="taf-solo"?l.jsx($3,{type:e,onEnded:n,onAbort:t}):l.jsx(B3,{type:e,onEnded:n,onAbort:t})}function z3({type:e,close:t}){const n=Y.useActiveEntryIndex(),r=Y.useActiveFrameIndex();return n===null?l.jsx("div",{className:"p-4",children:"No entry selected."}):e==="subframes"&&r===null?l.jsx("div",{className:"p-4",children:"No frame selected."}):l.jsx("div",{style:{minWidth:600},children:l.jsx(U3,{type:e,onAbort:t,onEnded:t})})}function Eh({target:e}){return l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"mb-1",children:["Replacing image data of ",e.subframeIndex!==void 0?"subframe":"frame"," at position:"]}),l.jsxs("div",{className:`inline-flex items-center space-x-1.5 font-mono bg-slate-200 px-1.5 py-0.5\r
          rounded`,children:[l.jsxs("span",{children:["Entry #",e.entryIndex+1]}),l.jsx("span",{children:l.jsx(ie.ArrowRight,{size:14})}),l.jsxs("span",{children:["Frame #",e.frameIndex+1]}),e.subframeIndex!==void 0&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:l.jsx(ie.ArrowRight,{size:14})}),l.jsxs("span",{children:["Subframe #",e.subframeIndex+1]})]})]})]})}function G3({target:e,frameData:t,onAbort:n,onEnded:r}){const[i,o]=R.useState(!0),a=Tr.useCurrentPalette(),s=Tr.useSetCurrentPalette(),c=Y.useReplaceFrameImageData(),u=Y.useReplaceSubframeImageData(),f=R.useCallback(p=>{const{entryIndex:d,frameIndex:h,subframeIndex:x}=e;x===void 0?c(d,h,p):u(d,h,x,p),r()},[e,r,c,u]);return i?l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"mb-4",children:l.jsx(Eh,{target:e})}),l.jsxs("div",{className:"flex justify-between space-x-2",children:[l.jsx(oe,{color:"default",onClick:n,children:"Cancel"}),l.jsx(oe,{color:"success",onClick:()=>o(!1),children:"Next"})]})]}):l.jsx("div",{style:{minWidth:600},children:l.jsx(Uk,{replacing:t,currentPalette:a,setCurrentPalette:s,onFinish:f,onAbort:n})})}const qk="px-2 py-1 border border-gray-600",tl=qk,nl=qk;function H3({frameData:e,dimensionMismatch:t,onNext:n}){return l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"text-center font-semibold mb-2",children:"Failed to replace image."}),l.jsxs("div",{className:"mb-4",style:{maxWidth:600},children:["When replacing the image data of an individual subformat (1555 or 4444), the dimensions"," ","of the new image must match the dimensions of the old image."]}),l.jsx("div",{className:"flex flex-col items-center mb-4",children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{}),l.jsx("th",{className:nl,children:"Width"}),l.jsx("th",{className:nl,children:"Height"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("th",{className:nl,children:"Old"}),l.jsx("td",{className:tl,children:e.width}),l.jsx("td",{className:tl,children:e.height})]}),l.jsxs("tr",{children:[l.jsx("th",{className:nl,children:"New"}),l.jsx("td",{className:tl,children:t.width}),l.jsx("td",{className:tl,children:t.height})]})]})]})}),l.jsx("div",{className:"flex justify-center",children:l.jsx(oe,{onClick:n,children:"Close"})})]})}function W3({target:e,onNext:t,onAbort:n}){const[r,i]=R.useState();return l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"mb-2",children:l.jsx(Eh,{target:e})}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-sm font-bold mb-0.5",children:"Select which image data you want to replace:"}),l.jsxs("div",{className:"text-xs font-semibold mb-1",children:["Note that when replacing individual image data (1555 or 4444) the dimensions of the"," ","new image must match the dimensions of the old image.",l.jsx("br",{}),"This is because the image data for both subformats (1555 and 4444) must always be the same.",l.jsx("br",{}),`Of course, you don't have to worry about this if you select the "Both" option.`]}),l.jsxs("ul",{className:"pl-2",children:[l.jsx("li",{className:"py-1",children:l.jsxs("label",{className:"flex items-center space-x-1.5",children:[l.jsx("input",{type:"radio",name:"target",checked:r==="taf_1555",onChange:()=>i("taf_1555")}),l.jsx("span",{children:"1555 image data"})]})}),l.jsx("li",{className:"py-1",children:l.jsxs("label",{className:"flex items-center space-x-1.5",children:[l.jsx("input",{type:"radio",name:"target",checked:r==="taf_4444",onChange:()=>i("taf_4444")}),l.jsx("span",{children:"4444 image data"})]})}),l.jsx("li",{className:"py-1",children:l.jsxs("label",{className:"flex items-center space-x-1.5",children:[l.jsx("input",{type:"radio",name:"target",checked:r==="both",onChange:()=>i("both")}),l.jsx("span",{children:"Both"})]})})]})]}),l.jsxs("div",{className:"flex justify-between space-x-2",children:[l.jsx(oe,{color:"default",onClick:n,children:"Cancel"}),l.jsx(oe,{color:"success",disabled:r===void 0,onClick:()=>{r!==void 0&&t(r)},children:"Next"})]})]})}function V3({target:e,frameData:t,onAbort:n,onEnded:r}){const[i,o]=R.useState(),[a,s]=R.useState(),c=Y.useReplaceFrameImageData(),u=Y.useReplaceSubframeImageData(),f=R.useCallback(d=>{if(i!=="both"){if(d.width!==t.width||d.height!==t.height){s({width:d.width,height:d.height});return}const C=d.layerData;let y;i==="taf_1555"?y={kind:"raw-colors-pair",imageResource1555:C.imageResource,imageResource4444:t.layerData.imageResource4444}:y={kind:"raw-colors-pair",imageResource1555:t.layerData.imageResource1555,imageResource4444:C.imageResource},d={...d,layerData:y}}const{entryIndex:h,frameIndex:x,subframeIndex:b}=e;b===void 0?c(h,x,d):u(h,x,b,d),r()},[e,i,t,r,c,u]);if(a!==void 0)return l.jsx(H3,{frameData:t,dimensionMismatch:a,onNext:n});if(i===void 0)return l.jsx(W3,{target:e,onNext:o,onAbort:n});const p=i==="both"?{kind:"taf-pair"}:{kind:"taf-solo",subFormat:i};return l.jsx("div",{style:{minWidth:600},children:l.jsx(Cu,{replacing:t,target:p,onFinish:f,onAbort:n})})}function K3({target:e,frameData:t,onAbort:n,onEnded:r}){const[i,o]=R.useState(!0),a=ko.useSubFormat(),s=Y.useReplaceFrameImageData(),c=Y.useReplaceSubframeImageData(),u=R.useCallback(f=>{const{entryIndex:p,frameIndex:d,subframeIndex:h}=e;h===void 0?s(p,d,f):c(p,d,h,f),r()},[e,r,s,c]);return i?l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"mb-4",children:l.jsx(Eh,{target:e})}),l.jsxs("div",{className:"flex justify-between space-x-2",children:[l.jsx(oe,{color:"default",onClick:n,children:"Cancel"}),l.jsx(oe,{color:"success",onClick:()=>o(!1),children:"Next"})]})]}):l.jsx("div",{style:{minWidth:600},children:l.jsx(Cu,{replacing:t,target:{kind:"taf-solo",subFormat:a},onFinish:u,onAbort:n})})}function Yk({target:e,frameData:t,onAbort:n,onEnded:r}){const i=Y.useFormat();return i==="gaf"?l.jsx(G3,{target:e,frameData:t,onAbort:n,onEnded:r}):i==="taf-solo"?l.jsx(K3,{target:e,frameData:t,onAbort:n,onEnded:r}):l.jsx(V3,{target:e,frameData:t,onAbort:n,onEnded:r})}function q3({close:e}){const t=Y.useActiveEntryIndex();return t===null?l.jsx("div",{className:"p-4",children:"No entry selected."}):l.jsx(Y3,{close:e,entryIndex:t})}function Y3({close:e,entryIndex:t}){const n=Y.useActiveFrameIndex(),r=Y.useActiveFrame();return n===null||r===null?l.jsx("div",{className:"p-4",children:"No frame selected."}):r.frameData.kind==="single"?l.jsx(Yk,{target:{entryIndex:t,frameIndex:n},frameData:r.frameData,onAbort:e,onEnded:e}):l.jsx(Z3,{close:e,entryIndex:t,frameIndex:n})}function Z3({close:e,entryIndex:t,frameIndex:n}){const r=Y.useActiveSubframeIndex(),i=Y.useActiveSubframe();return r===null||i===null?l.jsx("div",{className:"p-4",children:"No subframe selected."}):l.jsx(Yk,{target:{entryIndex:t,frameIndex:n,subframeIndex:r},frameData:i,onAbort:e,onEnded:e})}function jh({label:e,submitLabel:t,cancelLabel:n,min:r,max:i,isFloat:o,defaultValue:a,resolve:s}){const c=R.useRef(null),[u,f]=R.useState(null),p=R.useCallback(()=>{var x;f(null);let d=(x=c.current)==null?void 0:x.value.trim();if(d===void 0||d==="")return;const h=o?parseFloat(d):parseInt(d);if(Number.isNaN(h)){f("Value is not a number");return}if(r!==void 0&&h<r){f(`Value cannot be smaller than: ${r}`);return}if(i!==void 0&&h>i){f(`Value cannot be greater than: ${i}`);return}s(h)},[s,o,r,i]);return l.jsxs("div",{className:"flex flex-col p-4",children:[l.jsx("div",{className:"mb-2",children:e}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Rw,{inputRef:c,type:"number",defaultValue:a,autoFocus:!0}),l.jsx(oe,{color:"success",onClick:p,children:t??"Submit"}),l.jsx(oe,{color:"default",onClick:()=>s(null),children:n??"Cancel"})]}),l.jsx("div",{className:`${u===null?"invisible":""}`,children:l.jsx("span",{className:"text-red-600 text-xs",children:u??"(No errors)"})})]})}function xx({target:e,field:t,close:n}){const r=Y.useModifyActiveFrameData(),i=Y.useModifyActiveSubframeData(),o=e==="active-frame"?r:i;return l.jsx("div",{children:l.jsx(jh,{label:t==="unknown2"?"Unknown2":"Unknown3",resolve:a=>{a!==null&&o({[t]:a}),n()}})})}function X3({applyToAll:e,close:t}){const n=Y.useModifyActiveFrameDuration(),r=Y.useModifyActiveSequenceFrameDuration();return l.jsx("div",{children:l.jsx(jh,{label:`Frame Duration ${e?"(all frames)":"(active frame)"}`,min:0,resolve:i=>{i!==null&&(e?r(i):n(i)),t()}})})}function Q3({close:e}){const[t,n]=R.useState(!0),r=R.useContext(ww);return R.useEffect(()=>{setTimeout(()=>n(!1),450)},[]),l.jsxs(Pt,{children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"mb-1",children:"Are you sure want to create a new project?"}),l.jsxs("div",{className:"font-semibold",children:["All unsaved progress will be permanently ",l.jsx("span",{className:"text-red-500",children:"LOST"}),"."]})]}),l.jsxs("div",{className:"flex justify-center space-x-4",children:[l.jsx(oe,{color:"danger",disabled:t,onClick:r.resetWorkspace,children:"New project"}),l.jsx(oe,{color:"default",onClick:e,children:"Cancel"})]})]})}const gt=()=>{},fn=R.createContext({createNewProject:gt,openAnyFile:gt,exportResult:gt,importImages:gt,convertToMulti:gt,convertToSingle:gt,deleteFrame:gt,deleteSubframe:gt,changeFrameDuration:gt,createEntry:gt,renameActiveEntry:gt,deleteActiveEntry:gt,replaceActiveFrameData:gt,changeFrameDataUnknown2:gt,changeFrameDataUnknown3:gt});function J3({children:e}){const t=R.useContext(ir),y={createNewProject:()=>{const g=window.open(window.location.href,"_blank");if(g!==null){g.focus();return}const{close:k}=t.pushModal({title:"Create a new project",body:l.jsx(Q3,{close:()=>k()})})},openAnyFile:()=>{alert("TODO")},exportResult:()=>{const{close:g}=t.pushModal({title:"Export Wizard",disableBackgroundClose:!0,body:l.jsx(gI,{close:()=>g()})})},importImages:g=>{const{close:k}=t.pushModal({title:"Import Images Wizard",disableBackgroundClose:!0,body:l.jsx(z3,{type:g,close:()=>k()})})},convertToMulti:()=>{const{close:g}=t.pushModal({title:"Convert Selected Frame to Multi-layered",body:l.jsx(Yj,{close:()=>g()})})},convertToSingle:()=>{const{close:g}=t.pushModal({title:"Convert Selected Frame to Single-layered",body:l.jsx(Zj,{close:()=>g()})})},deleteFrame:()=>{const{close:g}=t.pushModal({title:"Delete Selected Frame",body:l.jsx(Xj,{close:()=>g()})})},deleteSubframe:()=>{const{close:g}=t.pushModal({title:"Delete Selected Subframe",body:l.jsx(Qj,{close:()=>g()})})},changeFrameDuration:g=>{const k=g?"Change frame duration of every Frame of the active Sequence":"Change frame duration of the active Frame",{close:_}=t.pushModal({title:k,body:l.jsx(X3,{applyToAll:g,close:()=>_()})})},createEntry:()=>{const{close:g}=t.pushModal({title:"Create Sequence",body:l.jsx(Jj,{close:()=>g()})})},renameActiveEntry:g=>{const{close:k}=t.pushModal({title:"Rename Sequence",body:l.jsx(tC,{close:()=>k()})})},deleteActiveEntry:()=>{const{close:g}=t.pushModal({title:"Delete Sequence",body:l.jsx(eC,{close:()=>g()})})},replaceActiveFrameData:()=>{const{close:g}=t.pushModal({title:"Replace Active Image Data",body:l.jsx(q3,{close:()=>g()}),disableBackgroundClose:!0})},changeFrameDataUnknown2:g=>{const{close:k}=t.pushModal({title:"Change Unknown2",body:l.jsx(xx,{target:g,field:"unknown2",close:()=>k()})})},changeFrameDataUnknown3:g=>{const{close:k}=t.pushModal({title:"Change Unknown3",body:l.jsx(xx,{target:g,field:"unknown3",close:()=>k()})})}};return l.jsx(fn.Provider,{value:y,children:e})}const Gp=R.createContext(null);function ss({file:e,setFile:t,disabled:n,accept:r,onRemove:i}){return l.jsxs("div",{className:"flex justify-center items-center space-x-1",children:[l.jsx("div",{className:"grow",children:l.jsx(up,{currentFile:e,onChoose:t,className:R.useCallback(tP,[]),disabled:n,accept:r})}),i&&e!==void 0&&l.jsx("div",{className:`flex justify-center items-center leading-none ${e===void 0?"invisible":""}`,children:l.jsx(zk,{icon:ie.Delete,size:30,onClick:i,disabled:e===void 0})})]})}const eP="min-w-[260px] flex justify-center items-center bg-slate-200 border border-dashed p-4";function tP(e){let t=eP;return e.hasFile?t+=" font-semibold border-emerald-500 text-emerald-600":t+=" font-normal border-slate-400 text-slate-500",e.disabled?t+=" opacity-50":t+=" cursor-pointer hover:bg-blue-100 hover:text-sky-500 transition-colors",t}function Ch({format:e,error:t,close:n}){const r=e==="gaf"?"GAF":"TAF";let i,o,a,s;if(t.kind==="error-reading-gaf")i=`Failed to parse the file provided. Are you sure this is a valid ${r} file?`,t.message!==void 0&&(o=t.message),a=yx(t.error);else if(t.kind==="invalid-format")if(i="Invalid file format.",t.detectedFormat.mainFormat==="gaf")o=`Expected a ${r} file but got a GAF file.`;else if(e==="gaf")o="Expected a GAF file but got a TAF file.";else if(e==="taf-pair"){const c=t.detectedFormat.subFormat==="taf_1555"?"_4444":"_1555",u=t.detectedFormat.subFormat==="taf_1555"?"_1555":"_4444";o=`Expected a ${c} file but got a ${u} file.`}else o=`Didn't expect a ${t.detectedFormat.subFormat??t.detectedFormat.mainFormat} file.`;else t.kind==="tafs-out-of-sync"?(i="The TAFs provided are not compatible with each other.",o=t.error.message,s=l.jsx(nP,{error:t.error})):(i=t.message??"Unknown error.",a=yx(t.error));return l.jsx(Pt,{children:l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("div",{className:"text-lg font-semibold",children:i}),o!==void 0&&l.jsx("div",{children:o}),a!==void 0&&l.jsx("div",{className:`text-sm text-slate-700 bg-slate-100 border border-slate-200 font-mono\r
              px-1 py-0.5`,style:{maxWidth:"50vw"},children:a}),s]})})}function yx(e){if(e!==null&&typeof e=="object"&&"message"in e&&typeof e.message=="string")return e.message}const rl="px-1.5 py-0.5 font-mono",il="px-1.5 py-0.5 font-semibold text-right";function nP({error:e}){return l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"text-center mb-4",children:"Here's where the difference occurred:"}),l.jsx("table",{children:l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("th",{className:il,children:"Path:"}),l.jsx("td",{className:rl,children:e.path&&l.jsx("div",{className:"flex flex-wrap items-center -mb-1",style:{maxWidth:"50vw"},children:e.path.map((t,n,r)=>l.jsxs("div",{className:"flex items-center text-sm mb-1",children:[l.jsxs("div",{className:"bg-slate-100 border border-slate-300 px-1.5 py-0.5 rounded mr-1.5",children:[l.jsx("span",{children:t.name})," ",l.jsxs("span",{title:"1-indexed",children:["#",t.pos+1]})]}),n<r.length-1&&l.jsx("div",{className:"mr-1.5",children:l.jsx(ie.ArrowRight,{className:"text-slate-300",size:18})})]},n))})})]}),l.jsxs("tr",{children:[l.jsx("th",{className:il,children:"Property:"}),l.jsx("td",{className:rl,children:e.valueName})]}),l.jsxs("tr",{children:[l.jsx("th",{className:il,children:"Value 1555:"}),l.jsx("td",{className:rl,children:e.value1555})]}),l.jsxs("tr",{children:[l.jsx("th",{className:il,children:"Value 4444:"}),l.jsx("td",{className:rl,children:e.value4444})]})]})})]})}var ui;(e=>{function t(s){return"0x"+s.toString(16).toUpperCase()}e.hex=t;function n(s){const c=s.split(".");return c[c.length-1]}e.getFileExtension=n;function r(s,c){return o(s)??i(c)}e.detectFormatFromResultOrFileName=r;function i(s){const c=s.split("."),u=c[0],f=c[c.length-1];return f==="gaf"?{mainFormat:"gaf"}:f!=="taf"?null:u.endsWith("_1555")?{mainFormat:"taf",subFormat:"taf_1555"}:u.endsWith("_4444")?{mainFormat:"taf",subFormat:"taf_4444"}:null}e.detectFormatFromFileName=i;function o(s){for(const c of s.entries)for(const u of c.frames){const f=a(u.frameData);if(f!==null)return f}return null}e.detectFormatFromResult=o;function a(s){if(s.kind==="single")return s.layerData.kind==="palette-idx"?{mainFormat:"gaf"}:{mainFormat:"taf",subFormat:s.layerData.colorData.format==="argb1555"?"taf_1555":"taf_4444"};for(const c of s.layers){const u=a(c);if(u!==null)return u}return null}})(ui||(ui={}));class Zk{makeEntries(t){return t.map(n=>({key:Symbol(),name:n.name,unknown1:n.unknown1,unknown2:n.unknown2,frames:this.makeFrames(n.frames)}))}makeFrames(t){return t.map(n=>{const r=n.frameData;return{key:Symbol(),duration:n.duration,frameData:r.kind==="single"?this.makeFrameDataSingle(r):this.makeFrameDataMulti(r)}})}makeFrameDataSingle(t){const n=gn.makeBaseFrameData(t);return{...n,kind:"single",layerData:this.makeLayerData(t.layerData,n)}}makeFrameDataMulti(t){return{...gn.makeBaseFrameData(t),kind:"multi",layers:t.layers.map(n=>this.makeFrameDataSingle(n))}}}class rP extends Zk{constructor(t,n){super(),this.palette=t,this.imageCompiler=n}makeVirtualGaf(t){return{entries:this.makeEntries(t.entries)}}makeLayerData(t,{width:n,height:r,transparencyIndex:i}){const o=Dt.createColorData(n,r,i,t.indices,this.palette),a=this.imageCompiler.compileImage(n,r,o);return{kind:"palette-idx",compress:t.decompressed,imageResource:{kind:"paletted",paletteIndices:t.indices,compiledImage:a}}}}class iP{compareObjs(t,n,r){const i=t[r],o=n[r];return i===o?null:{valueName:r+"",value1555:i+"",value4444:o+""}}compareEntries(t,n){const r=this.compareObjs(t,n,"name");if(r!==null)return{kind:"err",error:r};const i=this.compareObjs(t,n,"unknown1");if(i!==null)return{kind:"err",error:i};const o=this.compareObjs(t,n,"unknown2");return o!==null?{kind:"err",error:o}:{kind:"ok",result:null}}compareFrames(t,n){const r=this.compareObjs(t,n,"duration");return r!==null?{kind:"err",error:r}:{kind:"ok",result:null}}compareBaseFrameDatas(t,n){const r=["width","height","xOffset","yOffset","transparencyIndex","unknown2","unknown3"];for(const i of r){const o=this.compareObjs(t,n,i);if(o!==null)return{kind:"err",error:o}}return{kind:"ok",result:null}}}class oP{constructor(t){Ho(this,"comparator");this.imageCompiler=t,this.comparator=new iP}makeVirtualGaf(t,n){const r=this.makeEntries(t.entries,n.entries);return r.kind==="err"?r:{kind:"ok",result:{virtualGaf:{entries:r.result}}}}makeEntries(t,n){if(t.length!==n.length)return{kind:"err",error:{valueName:"Number of sequences",value1555:t.length,value4444:n.length}};const r=[];for(let i=0;i<t.length;i++){const o=t[i],a=n[i],s=[{name:"Entry",pos:i}],c=this.comparator.compareEntries(o,a);if(c.kind==="err")return{kind:"err",error:{...c.error,path:s}};const u=this.makeFrames(o.frames,a.frames,s);if(u.kind==="err")return u;r.push({name:o.name,unknown1:o.unknown1,unknown2:a.unknown2,frames:u.result})}return{kind:"ok",result:r}}makeFrames(t,n,r){if(t.length!==n.length)return{kind:"err",error:{valueName:"Number of frames",value1555:t.length,value4444:n.length,path:r}};const i=[];for(let o=0;o<t.length;o++){const a=t[o],s=n[o],c=[...r,{name:"Frame",pos:o}],u=this.comparator.compareFrames(a,s);if(u.kind==="err")return{kind:"err",error:{...u.error,path:c}};const f=this.makeFrameData(a.frameData,s.frameData,c);if(f.kind==="err")return f;i.push({duration:a.duration,frameData:f.result})}return{kind:"ok",result:i}}makeFrameData(t,n,r){return t.kind==="single"?n.kind!=="single"?{kind:"err",error:{valueName:"Kind of frameData",value1555:"Single",value4444:"Multi",path:r}}:this.makeFrameDataSingle(t,n,r):n.kind!=="multi"?{kind:"err",error:{valueName:"Kind of frameData",value1555:"Multi",value4444:"Single",path:r}}:this.makeFrameDataMulti(t,n,r)}makeFrameDataSingle(t,n,r){const i=this.comparator.compareBaseFrameDatas(t,n);if(i.kind==="err")return{kind:"err",error:{...i.error,path:r}};t.layerData,n.layerData;const o=this.compileImageResource(t,"argb1555"),a=this.compileImageResource(n,"argb4444");return{kind:"ok",result:{...gn.makeBaseFrameData(t),kind:"single",layerData:{kind:"raw-colors-pair",imageResource1555:o,imageResource4444:a}}}}makeFrameDataMulti(t,n,r){const i=this.comparator.compareBaseFrameDatas(t,n);if(i.kind==="err")return{kind:"err",error:{...i.error,path:r}};if(t.layers.length!==n.layers.length)return{kind:"err",error:{valueName:"Number of subframes",value1555:t.layers.length,value4444:n.layers.length,path:r}};const o=[];for(let s=0;s<t.layers.length;s++){const c=t.layers[s],u=n.layers[s],f=[...r,{name:"Subframe",pos:s}],p=this.makeFrameDataSingle(c,u,f);if(p.kind==="err")return p;o.push(p.result)}return{kind:"ok",result:{...gn.makeBaseFrameData(t),kind:"multi",layers:o}}}compileImageResource(t,n){const r=t.layerData.colorData,{width:i,height:o}=t;if(!gn.isFormat(r,n))throw new Error(`Invalid color data format. Expected: "${n}". Got: "${r.format}".`);return{kind:"colored",compiledImage:gn.compileTafImage(r,i,o,this.imageCompiler),colorData:r}}}class aP extends Zk{constructor(t){super(),this.imageCompiler=t}makeVirtualGaf(t){return{entries:this.makeEntries(t.entries)}}makeLayerData(t,{width:n,height:r}){const i=t.colorData;return{kind:"raw-colors",imageResource:{kind:"colored",compiledImage:gn.compileTafImage(t.colorData,n,r,this.imageCompiler),colorData:i}}}}var ki;(e=>{const t=new Oo;function n(u){return{kind:"success",configWrapper:{format:"gaf",config:{initialGaf:{kind:"blank",format:"gaf",compiledGaf:null,virtualGaf:{entries:[]}},initialPalette:u}}}}e.initBlankGaf=n;function r(){return{kind:"success",configWrapper:{format:"taf-pair",config:{initialGaf:{kind:"blank",format:"taf-pair",compiledGafs:null,virtualGaf:{entries:[]}}}}}}e.initBlankTafPair=r;async function i(u,f){const p=await u.arrayBuffer(),d=new Uint8Array(p);let h;try{h=await c(d)}catch(g){return{kind:"error-reading-gaf",error:g}}const x=ui.detectFormatFromResultOrFileName(h.gaf,u.name);if(x!==null&&x.mainFormat!=="gaf")return{kind:"invalid-format",detectedFormat:x};const C=new rP(f.palette,t).makeVirtualGaf(h.gaf);return{kind:"success",configWrapper:{format:"gaf",config:{initialGaf:{kind:"from-file-single",fileName:u.name,fileData:d,originalGaf:h,format:"gaf",virtualGaf:C,compiledGaf:h.gaf},initialPalette:f}}}}e.initFromFileGaf=i;async function o(u,f){const p=await u.arrayBuffer(),d=new Uint8Array(p);let h;try{h=await c(d)}catch(k){return{kind:"error-reading-gaf",error:k}}const x=ui.detectFormatFromResultOrFileName(h.gaf,u.name);let b;if(x!==null){if(x.mainFormat!=="taf")return{kind:"invalid-format",detectedFormat:x};if(f!==void 0&&x.subFormat!==f)return{kind:"invalid-format",detectedFormat:x};b=x.subFormat}else{if(f===void 0)return{kind:"error-other",message:"Couldn't detect whether the file provided is a _1555 or _4444 taf file."};b=f}const y=new aP(t).makeVirtualGaf(h.gaf);return{kind:"success",configWrapper:{format:"taf-solo",config:{initialGaf:{kind:"from-file-single",fileName:u.name,fileData:d,originalGaf:h,format:"taf-solo",virtualGaf:y,compiledGaf:h.gaf},subFormat:b}}}}e.initFromFileTafSolo=o;async function a(u,f){const p=await s(u,"taf_1555");if(p.kind==="err")return p.error;const d=await s(f,"taf_4444");if(d.kind==="err")return d.error;const{fileData:h,gafResult:x}=p.result,{fileData:b,gafResult:C}=d.result,g=new oP(t).makeVirtualGaf(x.gaf,C.gaf);if(g.kind==="err")return{kind:"tafs-out-of-sync",error:g.error};const k=g.result.virtualGaf;return{kind:"success",configWrapper:{format:"taf-pair",config:{initialGaf:{kind:"from-file-pair",data1555:{fileName:u.name,fileData:h,originalGaf:x},data4444:{fileName:f.name,fileData:b,originalGaf:C},format:"taf-pair",virtualGaf:k,compiledGafs:{taf1555:x.gaf,taf4444:C.gaf}}}}}}e.initFromFileTafPair=a;async function s(u,f){const p=await u.arrayBuffer(),d=new Uint8Array(p);let h;try{h=await c(d)}catch(b){return{kind:"err",error:{kind:"error-reading-gaf",which:f,message:`Error reading the ${f} file.`,error:b}}}const x=ui.detectFormatFromResultOrFileName(h.gaf,u.name);return x!==null&&(x.mainFormat!=="taf"||x.subFormat!==f)?{kind:"err",error:{kind:"invalid-format",which:f,detectedFormat:x}}:{kind:"ok",result:{fileData:d,gafResult:h}}}async function c(u){try{return yt.Reader.readFromBuffer(u)}catch(f){throw console.error(f),f}}})(ki||(ki={}));function sP({isLoading:e,onInit:t,close:n}){const[r,i]=R.useState(!1),o=R.useContext(ir),a=R.useCallback(c=>{if(e)return;ki.initFromFileTafSolo(c,void 0).then(f=>{if(f.kind==="success"){t(f.configWrapper);return}const{close:p}=o.pushModal({title:"Error when initializing individual TAF",titleColor:"error",body:l.jsx(Ch,{format:"taf-solo",error:f,close:()=>p()})})}).catch(f=>{console.error(f),alert("Errored when loading taf.")})},[e,t,o]),s=r?l.jsx("div",{children:l.jsx(ss,{setFile:a,disabled:e,accept:".taf"})}):l.jsx(oe,{color:"danger",onClick:()=>i(!0),children:"I understand"});return l.jsx(Pt,{children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("div",{className:"self-stretch flex justify-center mb-2",children:l.jsx(ie.Warning,{className:"text-red-400",size:64})}),l.jsxs("div",{className:"mb-4 text-center",children:[l.jsx("p",{children:"Warning! Avoid using this option unless you know what you are doing."}),l.jsxs("p",{children:["Editing an individual TAF on its own might cause it to become ",l.jsx("b",{children:"out of sync"})," with its pair,",l.jsx("br",{}),"which would potentially render it unusable."]})]}),l.jsxs("div",{className:"flex justify-center space-x-2",children:[s,l.jsx(oe,{onClick:n,children:"Cancel"})]})]})})}function lP({isLoading:e,onInit:t,paletteStore:n}){const[r,i]=R.useState(!1),o=R.useContext(ir),a=R.useCallback(()=>{const u=ki.initBlankGaf(n.default);t(u.configWrapper)},[t,n]),s=R.useCallback(()=>{const u=ki.initBlankTafPair();t(u.configWrapper)},[t]),c=R.useCallback(()=>{if(e)return;const{close:u}=o.pushModal({title:"Loading individual TAF",body:l.jsx(sP,{isLoading:e,onInit:t,close:()=>u()})})},[o,e,t]);return l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"text-xs",children:l.jsx(He,{label:r?"Hide advanced":"Show advanced",onClick:()=>i(!r)})}),r&&l.jsxs("div",{className:"mt-0.5 border border-gray-400 rounded-sm text-xs",children:[l.jsx("div",{className:"bg-gray-400 text-center px-2 py-1 border-b border-gray-400",children:l.jsx("span",{className:"text-white font-semibold",children:"Advanced Options"})}),l.jsxs("div",{className:"flex flex-col items-start space-y-2 px-2 py-2",children:[l.jsx(He,{label:"Create empty GAF",onClick:a}),l.jsx(He,{label:"Create empty TAFs",onClick:s}),l.jsx(He,{label:"Load invidual TAF",onClick:c})]})]})]})}function cP(){return l.jsx("div",{className:"text-xs",children:l.jsx(He,{label:"Download for offline use",onClick:()=>alert("Coming soon!")})})}function uP(){return l.jsxs("div",{className:"flex flex-col p-4",children:[l.jsx("div",{className:"text-6xl text-slate-400 mb-1",children:"Gaf Studio Web"}),l.jsxs("div",{className:"text-right text-xs text-slate-400 font-bold",children:["v",yu.version]})]})}function fP(){return l.jsxs("div",{className:"flex justify-center m-6 relative",children:[l.jsx("div",{className:"border-r border-dotted border-slate-500"}),l.jsx("div",{className:"absolute inset-0 flex flex-col justify-center items-center",children:l.jsx("span",{className:`bg-gray-300 text-slate-400 leading-none font-semibold pt-1 pb-1.5\r
            select-none`,children:"OR"})})]})}function Xk(){return l.jsx("div",{className:"text-center text-slate-400 my-4",children:l.jsx(ie.ArrowDown,{})})}function Qk({children:e}){return l.jsx("div",{className:"text-3xl mb-2 text-slate-500 font-bold",children:e})}function Jk(){return l.jsx("div",{className:"text-center text-slate-400 my-4",children:l.jsx(ie.Plus,{})})}function Oc({label:e,status:t}){const n=t==="ok"?"text-green-600":t==="err"?"text-red-600":"text-slate-400",r=t==="ok"?ie.CircleCheck:t==="err"?ie.CircleX:ie.CircleDot;return l.jsxs("div",{className:`${n} flex items-center font-semibold text-lg mb-2`,children:[l.jsx(r,{className:"mr-1.5",size:24}),l.jsx("span",{children:e})]})}function e_({children:e}){return l.jsx("div",{className:"text-slate-500 text-sm mb-4",children:e})}function dP({preSelectables:e,currentValue:t,setCurrentValue:n,isValid:r,isLoading:i}){return l.jsx(bu,{options:e.map(o=>({id:o.key,label:o.label})),value:t,onChange:n,disabled:!r||i})}function pP({isLoading:e,setIsLoading:t,paletteStore:n,palMode:r,setPalMode:i,currentPal:o,setCurrentPal:a}){const[s,c]=R.useState(n.preSelectables[0]),[u,f]=R.useState(),p=R.useCallback(x=>{if(e)return;const b=n.preSelectables.find(C=>C.key===x);c(b),t(!0),n.loadPreSelectable(x).then(C=>{a({kind:"ok",result:C})}).catch(C=>{console.error(C),a({kind:"err",error:`Error when trying to load pre-selectable palette: ${b.key}`})}).finally(()=>t(!1))},[e,t,n,a]),d=R.useCallback(x=>{t(!0),Dt.loadFromPcxFile(x).then(b=>{const C=Dt.compilePreviewImage(b);f(x),i("user-file"),a({kind:"ok",result:{kind:"custom-file",originFile:x,palette:b,previewImage:C}})}).catch(b=>{console.error(b),a({kind:"err",error:`Error when trying to load palette from file: ${x.name}`})}).finally(()=>t(!1))},[a,t,i]),h=R.useCallback(()=>{i("pre-selectable"),f(void 0),a({kind:"ok",result:n.default}),c(n.preSelectables[0])},[n,a,i]);return l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-center text-xs text-slate-600 font-semibold mb-0.5",children:"Built-in palettes"}),l.jsx(dP,{preSelectables:n.preSelectables,currentValue:s.key,setCurrentValue:p,isValid:r==="pre-selectable",isLoading:e})]}),l.jsx("div",{className:"text-center text-slate-500 text-sm",children:"or"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-center text-xs text-slate-600 font-semibold mb-0.5",children:"Select .pcx file"}),l.jsx(ss,{file:u,setFile:d,disabled:e,accept:".pcx",onRemove:h})]})]})}function mP({isLoading:e,setIsLoading:t,onInit:n,paletteStore:r}){const[i,o]=R.useState(),[a,s]=R.useState("pre-selectable"),[c,u]=R.useState({kind:"ok",result:r.default}),f=R.useContext(ir),p=R.useCallback(()=>{e||i===void 0||c===void 0||c.kind!=="ok"||(t(!0),ki.initFromFileGaf(i,c.result).then(h=>{if(h.kind==="success"){n(h.configWrapper);return}const{close:x}=f.pushModal({title:"Error when initializing GAF",titleColor:"error",body:l.jsx(Ch,{format:"gaf",error:h,close:()=>x()})});t(!1)}).catch(h=>{console.error(h),alert("Errored when loading gaf.")}))},[i,c,n,e,t,f]);let d="empty";return c!==void 0&&(d=c.kind),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(Qk,{children:"GAF Mode"}),l.jsx(e_,{children:"Select a GAF file and the palette that it will use."}),l.jsx(Oc,{label:"Choose .gaf file",status:i===void 0?"empty":"ok"}),l.jsx(ss,{file:i,setFile:o,accept:".gaf"}),l.jsx(Jk,{}),l.jsx(Oc,{label:"Choose palette",status:d}),l.jsx(pP,{isLoading:e,setIsLoading:t,paletteStore:r,palMode:a,setPalMode:s,currentPal:c,setCurrentPal:u}),l.jsx(Xk,{}),l.jsx(oe,{disabled:e||i===void 0||d!=="ok",onClick:p,children:"Import"})]})}function hP({isLoading:e,setIsLoading:t,onInit:n}){const[r,i]=R.useState(),[o,a]=R.useState(),[s,c]=R.useState(!1),[u,f]=R.useState(!1),p=R.useContext(ir),d=R.useCallback(()=>{e||r===void 0||o===void 0||(c(!1),f(!1),ki.initFromFileTafPair(r,o).then(b=>{if(b.kind==="success"){n(b.configWrapper);return}const{close:C}=p.pushModal({title:"Error when initializing TAF Pair",titleColor:"error",body:l.jsx(Ch,{format:"taf-pair",error:b,close:()=>C()})});"which"in b&&b.which!==void 0&&(b.which==="taf_1555"&&c(!0),b.which==="taf_4444"&&f(!0)),t(!1)}).catch(b=>{console.error(b),alert("Errored when loading tafs.")}))},[e,r,o,n,p,t]),h=r===void 0?"empty":s?"err":"ok",x=o===void 0?"empty":u?"err":"ok";return l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(Qk,{children:"TAF Mode"}),l.jsx(e_,{children:"Select a pair of matching TAF files."}),l.jsx(Oc,{label:"Choose _1555.taf file",status:h}),l.jsx(ss,{file:r,setFile:b=>{c(!1),i(b)},accept:".taf"}),l.jsx(Jk,{}),l.jsx(Oc,{label:"Choose _4444.taf file",status:x}),l.jsx(ss,{file:o,setFile:b=>{f(!1),a(b)},accept:".taf"}),l.jsx(Xk,{}),l.jsx(oe,{disabled:e||r===void 0||o===void 0,onClick:d,children:"Import"})]})}function t_({children:e}){return l.jsx("div",{className:`w-screen h-screen overflow-hidden flex flex-col justify-start items-stretch\r
        bg-white text-slate-800`,children:e})}function vP({onInit:e}){const[t,n]=R.useState(!1),[r,i]=R.useState(!1),o=R.useContext(Gp);return o===null?"No palette store provided.":l.jsx(t_,{children:l.jsx("div",{className:"grow flex flex-col overflow-auto bg-gray-300 p-4",children:l.jsxs("div",{className:"flex flex-col justify-center items-center",children:[l.jsx("div",{className:"mb-2",children:l.jsx(uP,{})}),l.jsxs("div",{className:"grid mb-10",style:{gridTemplateColumns:"1fr auto 1fr"},children:[l.jsx("div",{className:"m-10",style:{minWidth:"20vw"},children:l.jsx(mP,{isLoading:t||r,setIsLoading:n,onInit:e,paletteStore:o})}),l.jsx(fP,{}),l.jsx("div",{className:"m-10",style:{minWidth:"20vw"},children:l.jsx(hP,{isLoading:t||r,setIsLoading:i,onInit:e})})]}),l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsx(lP,{isLoading:t||r,onInit:e,paletteStore:o}),l.jsx(cP,{})]})]})})})}function ls({value:e,setValue:t,min:n,max:r}){const i=R.useCallback(()=>{if(t===void 0)return;if(e===null){r!==void 0&&t(r);return}const a=e-1;n!==void 0&&a<n||t(a)},[n,r,e,t]),o=R.useCallback(()=>{if(t===void 0)return;if(e===null){n!==void 0&&t(n);return}const a=e+1;r!==void 0&&a>r||t(a)},[n,r,e,t]);return l.jsxs("div",{className:"inline-flex items-center space-x-0.5",children:[l.jsx(yi,{icon:"-",onClick:t?i:void 0}),l.jsx(Zw,{value:e,setValue:t,min:n,max:r}),l.jsx(yi,{icon:"+",onClick:t?o:void 0})]})}function gP(){const e=Y.useShallowActiveEntryProps(),t=Y.useActiveFrameIndex(),n=Y.useSetActiveFrameIndex();if(e===null)return l.jsx("div",{className:"text-center text-gray-400 bg-white p-2",children:"(No sequence selected)"});const r=e.framesLength>0;return l.jsxs("div",{className:`grow flex flex-col items-center overflow-y-auto overflow-x-hidden bg-white\r
        space-y-2 px-4 py-2`,children:[l.jsxs("div",{className:"flex flex-col text-center",children:[l.jsx("div",{className:"font-bold text-gray-700",children:"Sequence selected:"}),l.jsx("div",{className:"whitespace-nowrap overflow-auto font-mono",children:e.name})]}),l.jsx("div",{className:"self-center border-b border-dotted border-slate-500 w-1/2"}),l.jsxs("div",{className:"flex flex-col space-y-1",children:[l.jsxs("div",{className:"flex items-baseline",children:[l.jsx("div",{children:"Unknown1:"}),l.jsxs("div",{className:"grow font-mono",children:["",e.unknown1," (",ui.hex(e.unknown1),")"]})]}),l.jsxs("div",{className:"flex items-baseline",children:[l.jsx("div",{children:"Unknown2:"}),l.jsxs("div",{className:"grow font-mono",children:["",e.unknown2," (",ui.hex(e.unknown2),")"]})]})]}),l.jsx("div",{className:"self-center border-b border-dotted border-slate-500 w-1/2"}),r&&l.jsxs("div",{className:"flex items-center space-x-2 border-dashed border-gray-300 rounded-sm",children:[l.jsx("div",{className:"truncate",children:"Selected frame:"}),l.jsxs("div",{className:"flex items-center whitespace-nowrap",children:[l.jsx(ls,{value:t!==null?t+1:null,setValue:i=>n(i-1),min:1,max:e.framesLength}),l.jsxs("span",{className:"font-mono",children:["/",e.framesLength]})]})]})]})}const Wr="w-1/2 text-left px-1 py-1 text-gray-700 whitespace-nowrap",Vr="w-1/2 text-left px-1 py-1 font-mono";function n_({frameData:e,isSubframe:t,isGaf:n,modify:r,collapsed:i,onToggle:o}){const{changeFrameDataUnknown2:a,changeFrameDataUnknown3:s}=R.useContext(fn),c=tt(d=>d.enableUnknownEditing),u=d=>{r({xOffset:d,yOffset:e.yOffset})},f=d=>{r({xOffset:e.xOffset,yOffset:d})},p=i!==void 0&&i?"hidden":"";return l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsxs("div",{className:"text-base text-center font-bold text-gray-700",children:[t?"Subframe Data":"Frame Data",i!==void 0&&o!==void 0&&l.jsx("div",{className:"text-xs",children:l.jsx(He,{label:i?"Expand":"Collapse",onClick:o})})]}),l.jsx("table",{className:p,children:l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("th",{className:Wr,children:"Width:"}),l.jsx("td",{className:Vr,children:e.width})]}),l.jsxs("tr",{children:[l.jsx("th",{className:Wr,children:"Height:"}),l.jsx("td",{className:Vr,children:e.height})]}),l.jsxs("tr",{children:[l.jsx("th",{className:Wr,children:"X offset:"}),l.jsx("td",{className:Vr,children:l.jsx(ls,{value:e.xOffset,setValue:u,min:nn.MIN_I32,max:nn.MAX_I32})})]}),l.jsxs("tr",{children:[l.jsx("th",{className:Wr,children:"Y offset:"}),l.jsx("td",{className:Vr,children:l.jsx(ls,{value:e.yOffset,setValue:f,min:nn.MIN_I32,max:nn.MAX_I32})})]}),l.jsxs("tr",{children:[l.jsx("th",{className:Wr,children:"Unknown2:"}),l.jsx("td",{className:Vr,children:l.jsxs("div",{className:"flex items-center space-x-1.5",children:[l.jsx("span",{children:e.unknown2}),c&&l.jsx(yi,{icon:l.jsx(ie.Edit,{size:14}),onClick:()=>{a(t?"active-subframe":"active-frame")}})]})})]}),l.jsxs("tr",{children:[l.jsx("th",{className:Wr,children:"Unknown3:"}),l.jsx("td",{className:Vr,children:l.jsxs("div",{className:"flex items-center space-x-1.5",children:[l.jsx("span",{children:e.unknown3}),c&&l.jsx(yi,{icon:l.jsx(ie.Edit,{size:14}),onClick:()=>{s(t?"active-subframe":"active-frame")}})]})})]}),n&&l.jsxs("tr",{children:[l.jsx("th",{className:Wr,title:"Transparency Index",children:"Transp. idx:"}),l.jsx("td",{className:Vr,children:e.transparencyIndex})]})]})})]})}function xP(){const e=Y.useGafFormat(),t=Y.useShallowActiveFrameDataProps(),n=Y.useModifyActiveFrameData(),r=tt(c=>c.showMultiFrameFrameData),i=tt(c=>c.actions.setShowMultiFrameFrameData);if(t===null)throw new Error("Can't use this component when there's no active frame.");const o=t.kind,a=o==="single"?void 0:!r,s=o==="single"?void 0:()=>i(!r);return l.jsx(n_,{frameData:t,isSubframe:!1,isGaf:e==="gaf",modify:n,collapsed:a,onToggle:s})}function yP(){const e=Y.useActiveFrameDuration(),{changeFrameDuration:t}=R.useContext(fn);if(e===null)throw new Error("Can't use this component when there's no active frame.");return l.jsxs("div",{className:"flex justify-center items-center mx-2",children:[l.jsxs("div",{className:"self-center flex items-baseline mr-1.5",children:[l.jsx("div",{children:"Frame duration:"}),l.jsxs("div",{className:"grow font-mono",children:["",e]})]}),l.jsx(yi,{icon:l.jsx(ie.Edit,{size:14}),onClick:()=>t(!1)})]})}function wP(){const e=Y.useActiveFrameLayersLength(),t=Y.useActiveSubframeIndex(),n=Y.useSetActiveSubframeIndex(),r=e>0;return l.jsxs("div",{className:"mt-2 flex items-center space-x-2 border-dashed border-gray-300 rounded-sm",children:[l.jsx("div",{className:"truncate",children:"Selected subframe:"}),r?l.jsxs("div",{className:"flex items-center whitespace-nowrap",children:[l.jsx(ls,{value:t!==null?t+1:null,setValue:i=>n(i-1),min:1,max:e}),l.jsxs("span",{className:"font-mono",children:["/",e]})]}):l.jsx("div",{className:"whitespace-nowrap text-gray-400",children:"No subframes"})]})}function bP(){const e=Y.useActiveFrameIndex(),t=Y.useHasActiveFrameMulti();return e===null?l.jsx("div",{className:"grow text-center text-gray-400 bg-white p-2",children:"(No frame selected)"}):l.jsxs("div",{className:`grow flex flex-col items-center overflow-y-auto overflow-x-hidden bg-white\r
        space-y-2 px-4 py-2`,children:[l.jsx(yP,{}),l.jsx("div",{className:"self-center border-b border-dotted border-slate-500 w-1/2"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx(xP,{}),t&&l.jsx(wP,{})]})]})}function kP(){const e=Y.useGafFormat(),t=Y.useShallowActiveSubframeDataProps(),n=Y.useModifyActiveSubframeData();return t===null?l.jsx("div",{className:"grow text-center text-gray-400 bg-white p-2",children:"(No subframe selected)"}):l.jsx("div",{className:"grow flex flex-col overflow-y-auto overflow-x-hidden bg-white px-4 py-2",children:l.jsx(n_,{frameData:t,isSubframe:!0,isGaf:e==="gaf",modify:n})})}function Dl({children:e,expanded:t,setExpanded:n}){const r=t?"border-slate-400":"border-slate-300";return l.jsxs("button",{className:`flex items-center border ${r} p-1 bg-gradient-to-br from-slate-50 to-slate-200 text-slate-600 hover:border-slate-400 hover:text-slate-700 transition-colors`,onClick:()=>n(!t),children:[t?l.jsx(ie.CaretDown,{className:"invisible"}):l.jsx(ie.CaretUp,{className:"invisible"}),l.jsx("div",{className:"grow font-bold truncate text-sm",children:e}),t?l.jsx(ie.CaretDown,{}):l.jsx(ie.CaretUp,{})]})}function ks({children:e}){return l.jsx("div",{className:"h-full flex flex-col overflow-hidden bg-slate-200 border-8 border-slate-200 box-border",children:e})}function _P(){const[e,t]=R.useState(!0),[n,r]=R.useState(!0),[i,o]=R.useState(!0),a=Y.useHasActiveEntry(),s=Y.useHasActiveFrameMulti();return l.jsx(ks,{children:l.jsx("div",{className:"grow flex flex-col overflow-hidden",children:l.jsxs("div",{className:"h-full grow flex flex-col overflow-hidden text-sm space-y-2",children:[l.jsxs("div",{className:"flex flex-col overflow-hidden",children:[l.jsx(Dl,{expanded:e,setExpanded:t,children:"Sequence Control"}),e&&l.jsx(gP,{})]}),l.jsxs("div",{className:"flex flex-col overflow-hidden",children:[l.jsx(Dl,{expanded:n,setExpanded:r,children:"Frame Control"}),a&&n&&l.jsx(bP,{})]}),s&&l.jsxs("div",{className:"flex flex-col overflow-hidden",children:[l.jsx(Dl,{expanded:i,setExpanded:o,children:"Subframe Control"}),i&&l.jsx(kP,{})]})]})})})}var Ye={BASE_URL:"/gaf-studio-web",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let SP=0;function Ml(e,t){const n=`atom${++SP}`,r={toString:()=>n};return typeof e=="function"?r.read=e:(r.init=e,r.read=EP,r.write=jP),t&&(r.write=t),r}function EP(e){return e(this)}function jP(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}const Qf=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,Jf=e=>"init"in e,ed=e=>!!e.write,Lc=new WeakMap,CP=(e,t)=>{Lc.set(e,t),e.catch(()=>{}).finally(()=>Lc.delete(e))},wx=(e,t)=>{const n=Lc.get(e);n&&(Lc.delete(e),n(t))},bx=(e,t)=>{e.status="fulfilled",e.value=t},kx=(e,t)=>{e.status="rejected",e.reason=t},IP=e=>typeof(e==null?void 0:e.then)=="function",ra=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),_x=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),Oi=e=>!!e&&"v"in e&&e.v instanceof Promise,AP=(e,t)=>"v"in e&&"v"in t&&e.v.orig&&e.v.orig===t.v.orig,ol=e=>{if("e"in e)throw e.e;return e.v},r_=()=>{const e=new WeakMap,t=new WeakMap,n=[],r=new WeakMap;let i,o;(Ye?"production":void 0)!=="production"&&(i=new Set,o=new Set);const a=j=>e.get(j),s=(j,F)=>{F.d.forEach((A,L)=>{var $;if(!r.has(L)){const O=a(L);($=n[n.length-1])==null||$.add(L),r.set(L,[O,new Set]),O&&s(L,O)}r.get(L)[1].add(j)})},c=(j,F)=>{var A;(Ye?"production":void 0)!=="production"&&Object.freeze(F);const L=a(j);if(e.set(j,F),r.has(j)||((A=n[n.length-1])==null||A.add(j),r.set(j,[L,new Set]),s(j,F)),Oi(L)){const $="v"in F?F.v instanceof Promise?F.v:Promise.resolve(F.v):Promise.reject(F.e);L.v!==$&&wx(L.v,$)}},u=(j,F,A,L)=>{const $=new Map(L?F.d:null);let O=!1;A.forEach((P,M)=>{!P&&Qf(j,M)&&(P=F),P?($.set(M,P),F.d.get(M)!==P&&(O=!0)):(Ye?"production":void 0)!=="production"&&console.warn("[Bug] atom state not found")}),(O||F.d.size!==$.size)&&(F.d=$)},f=(j,F,A,L)=>{const $=a(j),O={d:($==null?void 0:$.d)||new Map,v:F};if(A&&u(j,O,A,L),ra($,O)&&$.d===O.d)return $;if(Oi($)&&Oi(O)&&AP($,O)){if($.d===O.d)return $;O.v=$.v}return c(j,O),O},p=(j,F,A,L)=>{if(IP(F)){let $;const O=()=>{const M=a(j);if(!Oi(M)||M.v!==P)return;const V=f(j,P,A);t.has(j)&&M.d!==V.d&&S(j,V,M.d)},P=new Promise((M,V)=>{let G=!1;F.then(I=>{G||(G=!0,bx(P,I),M(I),O())},I=>{G||(G=!0,kx(P,I),V(I),O())}),$=I=>{G||(G=!0,I.then(U=>bx(P,U),U=>kx(P,U)),M(I))}});return P.orig=F,P.status="pending",CP(P,M=>{M&&$(M),L==null||L()}),f(j,P,A,!0)}return f(j,F,A)},d=(j,F,A)=>{const L=a(j),$={d:(L==null?void 0:L.d)||new Map,e:F};return A&&u(j,$,A),_x(L,$)&&L.d===$.d?L:(c(j,$),$)},h=(j,F)=>{const A=a(j);if(!F&&A&&(t.has(j)||Array.from(A.d).every(([G,I])=>{if(G===j)return!0;const U=h(G);return U===I||ra(U,I)})))return A;const L=new Map;let $=!0;const O=G=>{if(Qf(j,G)){const U=a(G);if(U)return L.set(G,U),ol(U);if(Jf(G))return L.set(G,void 0),G.init;throw new Error("no atom init")}const I=h(G);return L.set(G,I),ol(I)};let P,M;const V={get signal(){return P||(P=new AbortController),P.signal},get setSelf(){return(Ye?"production":void 0)!=="production"&&!ed(j)&&console.warn("setSelf function cannot be used with read-only atom"),!M&&ed(j)&&(M=(...G)=>{if((Ye?"production":void 0)!=="production"&&$&&console.warn("setSelf function cannot be called in sync"),!$)return y(j,...G)}),M}};try{const G=j.read(O,V);return p(j,G,L,()=>P==null?void 0:P.abort())}catch(G){return d(j,G,L)}finally{$=!1}},x=j=>ol(h(j)),b=j=>{const F=P=>{var M,V;const G=new Set((M=t.get(P))==null?void 0:M.t);return(V=r.get(P))==null||V[1].forEach(I=>{G.add(I)}),G},A=new Array,L=new Set,$=P=>{if(!L.has(P)){L.add(P);for(const M of F(P))P!==M&&$(M);A.push(P)}};$(j);const O=new Set([j]);for(let P=A.length-1;P>=0;--P){const M=A[P],V=a(M);if(!V)continue;let G=!1;for(const I of V.d.keys())if(I!==M&&O.has(I)){G=!0;break}if(G){const I=h(M,!0);ra(V,I)||O.add(M)}}},C=(j,...F)=>{const A=O=>ol(h(O)),L=(O,...P)=>{const M=n.length>0;M||n.push(new Set([O]));let V;if(Qf(j,O)){if(!Jf(O))throw new Error("atom not writable");const G=a(O),I=p(O,P[0]);ra(G,I)||b(O)}else V=C(O,...P);if(!M){const G=N(n.pop());(Ye?"production":void 0)!=="production"&&i.forEach(I=>I({type:"async-write",flushed:G}))}return V};return j.write(A,L,...F)},y=(j,...F)=>{n.push(new Set([j]));const A=C(j,...F),L=N(n.pop());return(Ye?"production":void 0)!=="production"&&i.forEach($=>$({type:"write",flushed:L})),A},g=(j,F,A)=>{var L;const $=t.get(j);if($)return F&&$.t.add(F),$;const O=A||[];(L=a(j))==null||L.d.forEach((M,V)=>{V!==j&&g(V,j,O)}),h(j);const P={t:new Set(F&&[F]),l:new Set};if(t.set(j,P),(Ye?"production":void 0)!=="production"&&o.add(j),ed(j)&&j.onMount){const{onMount:M}=j;O.push(()=>{const V=M((...G)=>y(j,...G));V&&(P.u=V)})}return A||O.forEach(M=>M()),P},k=(j,F)=>!F.l.size&&(!F.t.size||F.t.size===1&&F.t.has(j)),_=(j,F)=>{if(!k(j,F))return;const A=F.u;A&&A(),t.delete(j),(Ye?"production":void 0)!=="production"&&o.delete(j);const L=a(j);L?(Oi(L)&&wx(L.v),L.d.forEach(($,O)=>{if(O!==j){const P=t.get(O);P&&(P.t.delete(j),_(O,P))}})):(Ye?"production":void 0)!=="production"&&console.warn("[Bug] could not find atom state to unmount",j)},S=(j,F,A)=>{const L=new Set(F.d.keys()),$=new Set;A==null||A.forEach((O,P)=>{if(L.has(P)){L.delete(P);return}$.add(P);const M=t.get(P);M&&M.t.delete(j)}),L.forEach(O=>{g(O,j)}),$.forEach(O=>{const P=t.get(O);P&&_(O,P)})},N=j=>{let F;(Ye?"production":void 0)!=="production"&&(F=new Set);const A=[],L=$=>{var O;if(!r.has($))return;const[P,M]=r.get($);r.delete($),A.push([$,P]),M.forEach(L),(O=a($))==null||O.d.forEach((V,G)=>L(G))};if(j.forEach(L),A.forEach(([$,O])=>{const P=a($);if(!P){(Ye?"production":void 0)!=="production"&&console.warn("[Bug] no atom state to flush");return}if(P!==O){const M=t.get($);M&&P.d!==(O==null?void 0:O.d)&&S($,P,O==null?void 0:O.d),M&&!(!Oi(O)&&(ra(O,P)||_x(O,P)))&&(M.l.forEach(V=>V()),(Ye?"production":void 0)!=="production"&&F.add($))}}),(Ye?"production":void 0)!=="production")return F},T=(j,F)=>{const A=g(j),L=N([j]),$=A.l;return $.add(F),(Ye?"production":void 0)!=="production"&&i.forEach(O=>O({type:"sub",flushed:L})),()=>{$.delete(F),_(j,A),(Ye?"production":void 0)!=="production"&&i.forEach(O=>O({type:"unsub"}))}};return(Ye?"production":void 0)!=="production"?{get:x,set:y,sub:T,dev_subscribe_store:(j,F)=>{if(F!==2)throw new Error("The current StoreListener revision is 2.");return i.add(j),()=>{i.delete(j)}},dev_get_mounted_atoms:()=>o.values(),dev_get_atom_state:j=>e.get(j),dev_get_mounted:j=>t.get(j),dev_restore_atoms:j=>{n.push(new Set);for(const[A,L]of j)Jf(A)&&(p(A,L),b(A));const F=N(n.pop());i.forEach(A=>A({type:"restore",flushed:F}))}}:{get:x,set:y,sub:T}};let ia;const NP=()=>(ia||(ia=r_(),(Ye?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=ia),globalThis.__JOTAI_DEFAULT_STORE__!==ia&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),ia);var FP={BASE_URL:"/gaf-studio-web",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const i_=B.createContext(void 0),o_=e=>{const t=B.useContext(i_);return(e==null?void 0:e.store)||t||NP()},RP=({children:e,store:t})=>{const n=B.useRef();return!t&&!n.current&&(n.current=r_()),B.createElement(i_.Provider,{value:t||n.current},e)},TP=e=>typeof(e==null?void 0:e.then)=="function",PP=R.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function Iu(e,t){const n=o_(t),[[r,i,o],a]=B.useReducer(u=>{const f=n.get(e);return Object.is(u[0],f)&&u[1]===n&&u[2]===e?u:[f,n,e]},void 0,()=>[n.get(e),n,e]);let s=r;(i!==n||o!==e)&&(a(),s=n.get(e));const c=t==null?void 0:t.delay;return B.useEffect(()=>{const u=n.sub(e,()=>{if(typeof c=="number"){setTimeout(a,c);return}a()});return a(),u},[n,e,c]),B.useDebugValue(s),TP(s)?PP(s):s}function Au(e,t){const n=o_(t);return B.useCallback((...i)=>{if((FP?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...i)},[n,e])}function DP(e,t){return[Iu(e,t),Au(e,t)]}var Hp;(e=>{function t(n){const r=Ml(n),i=Ml([]);return[Ml(s=>s(r),(s,c,u)=>{const f=s(r);c(r,u);const p=s(r);s(i).forEach(d=>{d(s,c,p,f)})}),s=>{const c=Au(i);B.useEffect(()=>(c(u=>[...u,s]),()=>c(u=>{const f=u.indexOf(s);return[...u.slice(0,f),...u.slice(f+1)]})),[c,s])}]}e.atomWithListeners=t})(Hp||(Hp={}));var Pr;(e=>{[e.pan,e.usePanListener]=Hp.atomWithListeners([0,0]),e.lastPanReset=Ml(0)})(Pr||(Pr={}));function MP(){const e=pt(r=>r.background),[t,n]=Iu(Pr.pan);return l.jsx("div",{className:"absolute inset-0",style:{background:e,backgroundPositionX:t,backgroundPositionY:n}})}function OP(){const e=tt(n=>n.activePairSubFormat),t=tt(n=>n.actions.setActivePairSubFormat);return l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("div",{className:"self-center text-xs text-slate-500 font-semibold",children:"View:"}),l.jsx(Sx,{subFormat:"taf_1555",isActive:e==="taf_1555",onClick:()=>t("taf_1555")}),l.jsx(Sx,{subFormat:"taf_4444",isActive:e==="taf_4444",onClick:()=>t("taf_4444")})]})}function Sx({subFormat:e,isActive:t,onClick:n}){let r=e==="taf_1555"?"border-emerald-400 from-emerald-300 to-emerald-400 text-emerald-800":"border-cyan-400 from-cyan-300 to-cyan-400 text-cyan-800";return t||(r+=" opacity-50 hover:opacity-70 transition-opacity"),l.jsxs("button",{className:`p-1 flex items-stretch text-xs font-bold bg-gradient-to-b border transition-colors ${r}`,onClick:i=>{i.stopPropagation(),n()},children:[l.jsx("input",{className:"cursor-pointer mr-1",type:"radio",checked:t,onChange:()=>{}}),l.jsx("div",{className:"grow flex justify-center items-center",children:e==="taf_1555"?"1555":"4444"})]})}function LP(){const{entryIndex:e,frameIndex:t,subframeIndex:n}=Y.useCursor(),r=Y.useActiveFrame(),i=tt(u=>u.activePairSubFormat);if(e===null||t===null||r===null)return;let o,a=r.frameData;a.kind==="single"?o=a.layerData:n!==null&&(o=a.layers[n].layerData);const s=o===void 0?"text-sky-600 opacity-30 cursor-not-allowed":"text-sky-600 hover:bg-slate-50",c=n===null?`frame_${e+1}_${t+1}.png`:`frame_${e+1}_${t+1}_${n+1}.png`;return l.jsxs("button",{className:`${s} flex items-center px-1.5 py-1 text-xs font-semibold rounded-tl rounded-tr`,onClick:()=>{if(o===void 0)return;let u;o.kind==="palette-idx"||o.kind==="raw-colors"?u=o.imageResource.compiledImage:u=(i==="taf_1555"?o.imageResource1555:o.imageResource4444).compiledImage,fc.saveImageDataAsPng(u,c)},children:[l.jsx(ie.ExportImage,{className:"mr-1",size:16}),"Export"]})}function BP({close:e}){const t=pt(r=>r.background),n=pt(r=>r.actions.setBackground);return l.jsxs(Pt,{children:[l.jsx("div",{className:"flex flex-wrap -m-2.5 mb-4",children:vc.map((r,i)=>{const o=t===r,a=o?"outline outline-4 outline-blue-500":"hover:outline outline-4 outline-blue-400 cursor-pointer";return l.jsx("div",{className:`${a} flex justify-center items-center rounded-lg p-1 m-2`,onClick:()=>{o||n(r)},children:l.jsx("div",{className:"border border-slate-300 rounded-lg",style:{width:100,height:100,background:r}})},i)})}),l.jsx("div",{className:"flex justify-center",children:l.jsx(oe,{onClick:e,children:"OK"})})]})}function nr(e){return a_(e)?(e.nodeName||"").toLowerCase():"#document"}function Wt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function or(e){var t;return(t=(a_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function a_(e){return e instanceof Node||e instanceof Wt(e).Node}function Me(e){return e instanceof Element||e instanceof Wt(e).Element}function vt(e){return e instanceof HTMLElement||e instanceof Wt(e).HTMLElement}function Wp(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Wt(e).ShadowRoot}function _s(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Kt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function $P(e){return["table","td","th"].includes(nr(e))}function Ih(e){const t=Ah(),n=Kt(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function UP(e){let t=_i(e);for(;vt(t)&&!No(t);){if(Ih(t))return t;t=_i(t)}return null}function Ah(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function No(e){return["html","body","#document"].includes(nr(e))}function Kt(e){return Wt(e).getComputedStyle(e)}function Nu(e){return Me(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function _i(e){if(nr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Wp(e)&&e.host||or(e);return Wp(t)?t.host:t}function s_(e){const t=_i(e);return No(t)?e.ownerDocument?e.ownerDocument.body:e.body:vt(t)&&_s(t)?t:s_(t)}function Nr(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=s_(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=Wt(i);return o?t.concat(a,a.visualViewport||[],_s(i)?i:[],a.frameElement&&n?Nr(a.frameElement):[]):t.concat(i,Nr(i,[],n))}function mr(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Je(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Wp(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function l_(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function c_(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function u_(e){return e.mozInputSource===0&&e.isTrusted?!0:Vp()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function f_(e){return GP()?!1:!Vp()&&e.width===0&&e.height===0||Vp()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function d_(){return/apple/i.test(navigator.vendor)}function Vp(){const e=/android/i;return e.test(l_())||e.test(c_())}function zP(){return l_().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function GP(){return c_().includes("jsdom/")}function Bc(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function HP(e){return"nativeEvent"in e}function WP(e){return e.matches("html,body")}function It(e){return(e==null?void 0:e.ownerDocument)||document}function td(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Qr(e){return"composedPath"in e?e.composedPath()[0]:e.target}const VP="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function p_(e){return vt(e)&&e.matches(VP)}function ot(e){e.preventDefault(),e.stopPropagation()}function m_(e){return e?e.getAttribute("role")==="combobox"&&p_(e):!1}const $c=Math.min,fi=Math.max,Uc=Math.round,no=Math.floor,Dr=e=>({x:e,y:e}),KP={left:"right",right:"left",bottom:"top",top:"bottom"},qP={start:"end",end:"start"};function Ex(e,t,n){return fi(e,$c(t,n))}function Fu(e,t){return typeof e=="function"?e(t):e}function Si(e){return e.split("-")[0]}function Ru(e){return e.split("-")[1]}function h_(e){return e==="x"?"y":"x"}function v_(e){return e==="y"?"height":"width"}function Tu(e){return["top","bottom"].includes(Si(e))?"y":"x"}function g_(e){return h_(Tu(e))}function YP(e,t,n){n===void 0&&(n=!1);const r=Ru(e),i=g_(e),o=v_(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=zc(a)),[a,zc(a)]}function ZP(e){const t=zc(e);return[Kp(e),t,Kp(t)]}function Kp(e){return e.replace(/start|end/g,t=>qP[t])}function XP(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}function QP(e,t,n,r){const i=Ru(e);let o=XP(Si(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(Kp)))),o}function zc(e){return e.replace(/left|right|bottom|top/g,t=>KP[t])}function JP(e){return{top:0,right:0,bottom:0,left:0,...e}}function eD(e){return typeof e!="number"?JP(e):{top:e,right:e,bottom:e,left:e}}function Gc(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function jx(e,t,n){let{reference:r,floating:i}=e;const o=Tu(t),a=g_(t),s=v_(a),c=Si(t),u=o==="y",f=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,d=r[s]/2-i[s]/2;let h;switch(c){case"top":h={x:f,y:r.y-i.height};break;case"bottom":h={x:f,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:p};break;case"left":h={x:r.x-i.width,y:p};break;default:h={x:r.x,y:r.y}}switch(Ru(t)){case"start":h[a]-=d*(n&&u?-1:1);break;case"end":h[a]+=d*(n&&u?-1:1);break}return h}const tD=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:p}=jx(u,r,c),d=r,h={},x=0;for(let b=0;b<s.length;b++){const{name:C,fn:y}=s[b],{x:g,y:k,data:_,reset:S}=await y({x:f,y:p,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:u,platform:a,elements:{reference:e,floating:t}});f=g??f,p=k??p,h={...h,[C]:{...h[C],..._}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(u=S.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:f,y:p}=jx(u,d,c)),b=-1)}return{x:f,y:p,placement:d,strategy:i,middlewareData:h}};async function x_(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:d=!1,padding:h=0}=Fu(t,e),x=eD(h),C=s[d?p==="floating"?"reference":"floating":p],y=Gc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(C)))==null||n?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:f,strategy:c})),g=p==="floating"?{...a.floating,x:r,y:i}:a.reference,k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),_=await(o.isElement==null?void 0:o.isElement(k))?await(o.getScale==null?void 0:o.getScale(k))||{x:1,y:1}:{x:1,y:1},S=Gc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:g,offsetParent:k,strategy:c}):g);return{top:(y.top-S.top+x.top)/_.y,bottom:(S.bottom-y.bottom+x.bottom)/_.y,left:(y.left-S.left+x.left)/_.x,right:(S.right-y.right+x.right)/_.x}}const nD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:b=!0,...C}=Fu(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=Si(i),g=Si(s)===s,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=d||(g||!b?[zc(s)]:ZP(s));!d&&x!=="none"&&_.push(...QP(s,b,x,k));const S=[s,..._],N=await x_(t,C),T=[];let j=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&T.push(N[y]),p){const $=YP(i,a,k);T.push(N[$[0]],N[$[1]])}if(j=[...j,{placement:i,overflows:T}],!T.every($=>$<=0)){var F,A;const $=(((F=o.flip)==null?void 0:F.index)||0)+1,O=S[$];if(O)return{data:{index:$,overflows:j},reset:{placement:O}};let P=(A=j.filter(M=>M.overflows[0]<=0).sort((M,V)=>M.overflows[1]-V.overflows[1])[0])==null?void 0:A.placement;if(!P)switch(h){case"bestFit":{var L;const M=(L=j.map(V=>[V.placement,V.overflows.filter(G=>G>0).reduce((G,I)=>G+I,0)]).sort((V,G)=>V[1]-G[1])[0])==null?void 0:L[0];M&&(P=M);break}case"initialPlacement":P=s;break}if(i!==P)return{reset:{placement:P}}}return{}}}};async function rD(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Si(n),s=Ru(n),c=Tu(n)==="y",u=["left","top"].includes(a)?-1:1,f=o&&c?-1:1,p=Fu(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return s&&typeof x=="number"&&(h=s==="end"?x*-1:x),c?{x:h*f,y:d*u}:{x:d*u,y:h*f}}const iD=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,c=await rD(t,e);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:a}}}}},oD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:C=>{let{x:y,y:g}=C;return{x:y,y:g}}},...c}=Fu(e,t),u={x:n,y:r},f=await x_(t,c),p=Tu(Si(i)),d=h_(p);let h=u[d],x=u[p];if(o){const C=d==="y"?"top":"left",y=d==="y"?"bottom":"right",g=h+f[C],k=h-f[y];h=Ex(g,h,k)}if(a){const C=p==="y"?"top":"left",y=p==="y"?"bottom":"right",g=x+f[C],k=x-f[y];x=Ex(g,x,k)}const b=s.fn({...t,[d]:h,[p]:x});return{...b,data:{x:b.x-n,y:b.y-r}}}}};function y_(e){const t=Kt(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=vt(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=Uc(n)!==o||Uc(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function Nh(e){return Me(e)?e:e.contextElement}function po(e){const t=Nh(e);if(!vt(t))return Dr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=y_(t);let a=(o?Uc(n.width):n.width)/r,s=(o?Uc(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const aD=Dr(0);function w_(e){const t=Wt(e);return!Ah()||!t.visualViewport?aD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sD(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Wt(e)?!1:t}function Ei(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Nh(e);let a=Dr(1);t&&(r?Me(r)&&(a=po(r)):a=po(e));const s=sD(o,n,r)?w_(o):Dr(0);let c=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,f=i.width/a.x,p=i.height/a.y;if(o){const d=Wt(o),h=r&&Me(r)?Wt(r):r;let x=d,b=x.frameElement;for(;b&&r&&h!==x;){const C=po(b),y=b.getBoundingClientRect(),g=Kt(b),k=y.left+(b.clientLeft+parseFloat(g.paddingLeft))*C.x,_=y.top+(b.clientTop+parseFloat(g.paddingTop))*C.y;c*=C.x,u*=C.y,f*=C.x,p*=C.y,c+=k,u+=_,x=Wt(b),b=x.frameElement}}return Gc({width:f,height:p,x:c,y:u})}const lD=[":popover-open",":modal"];function b_(e){return lD.some(t=>{try{return e.matches(t)}catch{return!1}})}function cD(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=or(r),s=t?b_(t.floating):!1;if(r===a||s&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Dr(1);const f=Dr(0),p=vt(r);if((p||!p&&!o)&&((nr(r)!=="body"||_s(a))&&(c=Nu(r)),vt(r))){const d=Ei(r);u=po(r),f.x=d.x+r.clientLeft,f.y=d.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x,y:n.y*u.y-c.scrollTop*u.y+f.y}}function uD(e){return Array.from(e.getClientRects())}function k_(e){return Ei(or(e)).left+Nu(e).scrollLeft}function fD(e){const t=or(e),n=Nu(e),r=e.ownerDocument.body,i=fi(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=fi(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+k_(e);const s=-n.scrollTop;return Kt(r).direction==="rtl"&&(a+=fi(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}function dD(e,t){const n=Wt(e),r=or(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,c=0;if(i){o=i.width,a=i.height;const u=Ah();(!u||u&&t==="fixed")&&(s=i.offsetLeft,c=i.offsetTop)}return{width:o,height:a,x:s,y:c}}function pD(e,t){const n=Ei(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=vt(e)?po(e):Dr(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,c=i*o.x,u=r*o.y;return{width:a,height:s,x:c,y:u}}function Cx(e,t,n){let r;if(t==="viewport")r=dD(e,n);else if(t==="document")r=fD(or(e));else if(Me(t))r=pD(t,n);else{const i=w_(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Gc(r)}function __(e,t){const n=_i(e);return n===t||!Me(n)||No(n)?!1:Kt(n).position==="fixed"||__(n,t)}function mD(e,t){const n=t.get(e);if(n)return n;let r=Nr(e,[],!1).filter(s=>Me(s)&&nr(s)!=="body"),i=null;const o=Kt(e).position==="fixed";let a=o?_i(e):e;for(;Me(a)&&!No(a);){const s=Kt(a),c=Ih(a);!c&&s.position==="fixed"&&(i=null),(o?!c&&!i:!c&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||_s(a)&&!c&&__(e,a))?r=r.filter(f=>f!==a):i=s,a=_i(a)}return t.set(e,r),r}function hD(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?mD(t,this._c):[].concat(n),r],s=a[0],c=a.reduce((u,f)=>{const p=Cx(t,f,i);return u.top=fi(p.top,u.top),u.right=$c(p.right,u.right),u.bottom=$c(p.bottom,u.bottom),u.left=fi(p.left,u.left),u},Cx(t,s,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function vD(e){const{width:t,height:n}=y_(e);return{width:t,height:n}}function gD(e,t,n){const r=vt(t),i=or(t),o=n==="fixed",a=Ei(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const c=Dr(0);if(r||!r&&!o)if((nr(t)!=="body"||_s(i))&&(s=Nu(t)),r){const p=Ei(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&(c.x=k_(i));const u=a.left+s.scrollLeft-c.x,f=a.top+s.scrollTop-c.y;return{x:u,y:f,width:a.width,height:a.height}}function Ix(e,t){return!vt(e)||Kt(e).position==="fixed"?null:t?t(e):e.offsetParent}function S_(e,t){const n=Wt(e);if(!vt(e)||b_(e))return n;let r=Ix(e,t);for(;r&&$P(r)&&Kt(r).position==="static";)r=Ix(r,t);return r&&(nr(r)==="html"||nr(r)==="body"&&Kt(r).position==="static"&&!Ih(r))?n:r||UP(e)||n}const xD=async function(e){const t=this.getOffsetParent||S_,n=this.getDimensions;return{reference:gD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function yD(e){return Kt(e).direction==="rtl"}const wD={convertOffsetParentRelativeRectToViewportRelativeRect:cD,getDocumentElement:or,getClippingRect:hD,getOffsetParent:S_,getElementRects:xD,getClientRects:uD,getDimensions:vD,getScale:po,isElement:Me,isRTL:yD};function bD(e,t){let n=null,r;const i=or(e);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),o();const{left:u,top:f,width:p,height:d}=e.getBoundingClientRect();if(s||t(),!p||!d)return;const h=no(f),x=no(i.clientWidth-(u+p)),b=no(i.clientHeight-(f+d)),C=no(u),g={rootMargin:-h+"px "+-x+"px "+-b+"px "+-C+"px",threshold:fi(0,$c(1,c))||1};let k=!0;function _(S){const N=S[0].intersectionRatio;if(N!==c){if(!k)return a();N?a(!1,N):r=setTimeout(()=>{a(!1,1e-7)},100)}k=!1}try{n=new IntersectionObserver(_,{...g,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,g)}n.observe(e)}return a(!0),o}function kD(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Nh(e),f=i||o?[...u?Nr(u):[],...Nr(t)]:[];f.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const p=u&&s?bD(u,n):null;let d=-1,h=null;a&&(h=new ResizeObserver(y=>{let[g]=y;g&&g.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var k;(k=h)==null||k.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let x,b=c?Ei(e):null;c&&C();function C(){const y=Ei(e);b&&(y.x!==b.x||y.y!==b.y||y.width!==b.width||y.height!==b.height)&&n(),b=y,x=requestAnimationFrame(C)}return n(),()=>{var y;f.forEach(g=>{i&&g.removeEventListener("scroll",n),o&&g.removeEventListener("resize",n)}),p==null||p(),(y=h)==null||y.disconnect(),h=null,c&&cancelAnimationFrame(x)}}const _D=oD,SD=nD,ED=(e,t,n)=>{const r=new Map,i={platform:wD,...n},o={...i.platform,_c:r};return tD(e,t,{...i,platform:o})};var Ol=typeof document<"u"?B.useLayoutEffect:B.useEffect;function Hc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Hc(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Hc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function E_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ax(e,t){const n=E_(e);return Math.round(t*n)/n}function Nx(e){const t=B.useRef(e);return Ol(()=>{t.current=e}),t}function jD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:c,open:u}=e,[f,p]=B.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=B.useState(r);Hc(d,r)||h(r);const[x,b]=B.useState(null),[C,y]=B.useState(null),g=B.useCallback(G=>{G!==N.current&&(N.current=G,b(G))},[]),k=B.useCallback(G=>{G!==T.current&&(T.current=G,y(G))},[]),_=o||x,S=a||C,N=B.useRef(null),T=B.useRef(null),j=B.useRef(f),F=c!=null,A=Nx(c),L=Nx(i),$=B.useCallback(()=>{if(!N.current||!T.current)return;const G={placement:t,strategy:n,middleware:d};L.current&&(G.platform=L.current),ED(N.current,T.current,G).then(I=>{const U={...I,isPositioned:!0};O.current&&!Hc(j.current,U)&&(j.current=U,du.flushSync(()=>{p(U)}))})},[d,t,n,L]);Ol(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,p(G=>({...G,isPositioned:!1})))},[u]);const O=B.useRef(!1);Ol(()=>(O.current=!0,()=>{O.current=!1}),[]),Ol(()=>{if(_&&(N.current=_),S&&(T.current=S),_&&S){if(A.current)return A.current(_,S,$);$()}},[_,S,$,A,F]);const P=B.useMemo(()=>({reference:N,floating:T,setReference:g,setFloating:k}),[g,k]),M=B.useMemo(()=>({reference:_,floating:S}),[_,S]),V=B.useMemo(()=>{const G={position:n,left:0,top:0};if(!M.floating)return G;const I=Ax(M.floating,f.x),U=Ax(M.floating,f.y);return s?{...G,transform:"translate("+I+"px, "+U+"px)",...E_(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:U}},[n,s,M.floating,f.x,f.y]);return B.useMemo(()=>({...f,update:$,refs:P,elements:M,floatingStyles:V}),[f,$,P,M,V])}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var CD=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],qp=CD.join(","),j_=typeof Element>"u",cs=j_?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Wc=!j_&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Vc=function e(t,n){var r;n===void 0&&(n=!0);var i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),o=i===""||i==="true",a=o||n&&t&&e(t.parentNode);return a},ID=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},AD=function(t,n,r){if(Vc(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(qp));return n&&cs.call(t,qp)&&i.unshift(t),i=i.filter(r),i},ND=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var a=o.shift();if(!Vc(a,!1))if(a.tagName==="SLOT"){var s=a.assignedElements(),c=s.length?s:a.children,u=e(c,!0,r);r.flatten?i.push.apply(i,u):i.push({scopeParent:a,candidates:u})}else{var f=cs.call(a,qp);f&&r.filter(a)&&(n||!t.includes(a))&&i.push(a);var p=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),d=!Vc(p,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(p&&d){var h=e(p===!0?a.children:p.children,!0,r);r.flatten?i.push.apply(i,h):i.push({scopeParent:a,candidates:h})}else o.unshift.apply(o,a.children)}}return i},C_=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},I_=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||ID(t))&&!C_(t)?0:t.tabIndex},FD=function(t,n){var r=I_(t);return r<0&&n&&!C_(t)?0:r},RD=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},A_=function(t){return t.tagName==="INPUT"},TD=function(t){return A_(t)&&t.type==="hidden"},PD=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},DD=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},MD=function(t){if(!t.name)return!0;var n=t.form||Wc(t),r=function(s){return n.querySelectorAll('input[type="radio"][name="'+s+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=DD(i,t.form);return!o||o===t},OD=function(t){return A_(t)&&t.type==="radio"},LD=function(t){return OD(t)&&!MD(t)},BD=function(t){var n,r=t&&Wc(t),i=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==t){var a,s,c;for(o=!!((a=i)!==null&&a!==void 0&&(s=a.ownerDocument)!==null&&s!==void 0&&s.contains(i)||t!=null&&(c=t.ownerDocument)!==null&&c!==void 0&&c.contains(t));!o&&i;){var u,f,p;r=Wc(i),i=(u=r)===null||u===void 0?void 0:u.host,o=!!((f=i)!==null&&f!==void 0&&(p=f.ownerDocument)!==null&&p!==void 0&&p.contains(i))}}return o},Fx=function(t){var n=t.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},$D=function(t,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var o=cs.call(t,"details>summary:first-of-type"),a=o?t.parentElement:t;if(cs.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var s=t;t;){var c=t.parentElement,u=Wc(t);if(c&&!c.shadowRoot&&i(c)===!0)return Fx(t);t.assignedSlot?t=t.assignedSlot:!c&&u!==t.ownerDocument?t=u.host:t=c}t=s}if(BD(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Fx(t);return!1},UD=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return cs.call(n,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}n=n.parentElement}return!1},zD=function(t,n){return!(n.disabled||Vc(n)||TD(n)||$D(n,t)||PD(n)||UD(n))},Rx=function(t,n){return!(LD(n)||I_(n)<0||!zD(t,n))},GD=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},HD=function e(t){var n=[],r=[];return t.forEach(function(i,o){var a=!!i.scopeParent,s=a?i.scopeParent:i,c=FD(s,a),u=a?e(i.candidates):s;c===0?a?n.push.apply(n,u):n.push(s):r.push({documentOrder:o,tabIndex:c,item:i,isScope:a,content:u})}),r.sort(RD).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},Fh=function(t,n){n=n||{};var r;return n.getShadowRoot?r=ND([t],n.includeContainer,{filter:Rx.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:GD}):r=AD(t,n.includeContainer,Rx.bind(null,n)),HD(r)};function N_(e){return B.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const WD=hy.useInsertionEffect,VD=WD||(e=>e());function Nn(e){const t=B.useRef(()=>{});return VD(()=>{t.current=e}),B.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}const Rh="ArrowUp",Ss="ArrowDown",Fo="ArrowLeft",Go="ArrowRight";function al(e,t,n){return Math.floor(e/t)!==n}function Na(e,t){return t<0||t>=e.current.length}function nd(e,t){return ut(e,{disabledIndices:t})}function Tx(e,t){return ut(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ut(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:o=1}=t===void 0?{}:t;const a=e.current,s=i?u=>i.includes(u):u=>{const f=a[u];return f==null||f.hasAttribute("disabled")||f.getAttribute("aria-disabled")==="true"};let c=n;do c+=r?-o:o;while(c>=0&&c<=a.length-1&&s(c));return c}function KD(e,t){let{event:n,orientation:r,loop:i,cols:o,disabledIndices:a,minIndex:s,maxIndex:c,prevIndex:u,stopEvent:f=!1}=t,p=u;if(n.key===Rh){if(f&&ot(n),u===-1)p=c;else if(p=ut(e,{startingIndex:p,amount:o,decrement:!0,disabledIndices:a}),i&&(u-o<s||p<0)){const d=u%o,h=c%o,x=c-(h-d);h===d?p=c:p=h>d?x:x-o}Na(e,p)&&(p=u)}if(n.key===Ss&&(f&&ot(n),u===-1?p=s:(p=ut(e,{startingIndex:u,amount:o,disabledIndices:a}),i&&u+o>c&&(p=ut(e,{startingIndex:u%o-o,amount:o,disabledIndices:a}))),Na(e,p)&&(p=u)),r==="both"){const d=no(u/o);n.key===Go&&(f&&ot(n),u%o!==o-1?(p=ut(e,{startingIndex:u,disabledIndices:a}),i&&al(p,o,d)&&(p=ut(e,{startingIndex:u-u%o-1,disabledIndices:a}))):i&&(p=ut(e,{startingIndex:u-u%o-1,disabledIndices:a})),al(p,o,d)&&(p=u)),n.key===Fo&&(f&&ot(n),u%o!==0?(p=ut(e,{startingIndex:u,disabledIndices:a,decrement:!0}),i&&al(p,o,d)&&(p=ut(e,{startingIndex:u+(o-u%o),decrement:!0,disabledIndices:a}))):i&&(p=ut(e,{startingIndex:u+(o-u%o),decrement:!0,disabledIndices:a})),al(p,o,d)&&(p=u));const h=no(c/o)===d;Na(e,p)&&(i&&h?p=n.key===Fo?c:ut(e,{startingIndex:u-u%o-1,disabledIndices:a}):p=u)}return p}function qD(e,t,n){const r=[];let i=0;return e.forEach((o,a)=>{let{width:s,height:c}=o,u=!1;for(n&&(i=0);!u;){const f=[];for(let p=0;p<s;p++)for(let d=0;d<c;d++)f.push(i+p+d*t);i%t+s<=t&&f.every(p=>r[p]==null)?(f.forEach(p=>{r[p]=a}),u=!0):i++}}),[...r]}function YD(e,t,n,r,i){if(e===-1)return-1;const o=n.indexOf(e);switch(i){case"tl":return o;case"tr":return o+t[e].width-1;case"bl":return o+(t[e].height-1)*r;case"br":return n.lastIndexOf(e)}}function ZD(e,t){return t.flatMap((n,r)=>e.includes(n)?[r]:[])}let Px=0;function Gn(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=t;r&&cancelAnimationFrame(Px);const o=()=>e==null?void 0:e.focus({preventScroll:n});i?o():Px=requestAnimationFrame(o)}var Ee=typeof document<"u"?B.useLayoutEffect:B.useEffect;function XD(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}function QD(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e.entries())if(r!==t.get(n))return!1;return!0}const F_=B.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function JD(e){let{children:t,elementsRef:n,labelsRef:r}=e;const[i,o]=B.useState(()=>new Map),a=B.useCallback(c=>{o(u=>new Map(u).set(c,null))},[]),s=B.useCallback(c=>{o(u=>{const f=new Map(u);return f.delete(c),f})},[]);return Ee(()=>{const c=new Map(i);Array.from(c.keys()).sort(XD).forEach((f,p)=>{c.set(f,p)}),QD(i,c)||o(c)},[i]),B.createElement(F_.Provider,{value:B.useMemo(()=>({register:a,unregister:s,map:i,elementsRef:n,labelsRef:r}),[a,s,i,n,r])},t)}function R_(e){let{label:t}=e===void 0?{}:e;const[n,r]=B.useState(null),i=B.useRef(null),{register:o,unregister:a,map:s,elementsRef:c,labelsRef:u}=B.useContext(F_),f=B.useCallback(p=>{if(i.current=p,n!==null&&(c.current[n]=p,u)){var d;const h=t!==void 0;u.current[n]=h?t:(d=p==null?void 0:p.textContent)!=null?d:null}},[n,c,u,t]);return Ee(()=>{const p=i.current;if(p)return o(p),()=>{a(p)}},[o,a]),Ee(()=>{const p=i.current?s.get(i.current):null;p!=null&&r(p)},[s]),B.useMemo(()=>({ref:f,index:n??-1}),[n,f])}function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kc.apply(this,arguments)}let rd=!1,eM=0;const Dx=()=>"floating-ui-"+eM++;function tM(){const[e,t]=B.useState(()=>rd?Dx():void 0);return Ee(()=>{e==null&&t(Dx())},[]),B.useEffect(()=>{rd||(rd=!0)},[]),e}const nM=hy.useId,Pu=nM||tM;function T_(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const P_=B.createContext(null),D_=B.createContext(null),zr=()=>{var e;return((e=B.useContext(P_))==null?void 0:e.id)||null},Gr=()=>B.useContext(D_);function rM(e){const t=Pu(),n=Gr(),r=zr(),i=e||r;return Ee(()=>{const o={id:t,parentId:i};return n==null||n.addNode(o),()=>{n==null||n.removeNode(o)}},[n,t,i]),t}function iM(e){let{children:t,id:n}=e;const r=zr();return B.createElement(P_.Provider,{value:B.useMemo(()=>({id:n,parentId:r}),[n,r])},t)}function oM(e){let{children:t}=e;const n=B.useRef([]),r=B.useCallback(a=>{n.current=[...n.current,a]},[]),i=B.useCallback(a=>{n.current=n.current.filter(s=>s!==a)},[]),o=B.useState(()=>T_())[0];return B.createElement(D_.Provider,{value:B.useMemo(()=>({nodesRef:n,addNode:r,removeNode:i,events:o}),[r,i,o])},t)}function Ro(e){return"data-floating-ui-"+e}function On(e){const t=B.useRef(e);return Ee(()=>{t.current=e}),t}const Mx=Ro("safe-polygon");function id(e,t,n){return n&&!Bc(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function aM(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:o,elements:{domReference:a,floating:s},refs:c}=e,{enabled:u=!0,delay:f=0,handleClose:p=null,mouseOnly:d=!1,restMs:h=0,move:x=!0}=t,b=Gr(),C=zr(),y=On(p),g=On(f),k=B.useRef(),_=B.useRef(),S=B.useRef(),N=B.useRef(),T=B.useRef(!0),j=B.useRef(!1),F=B.useRef(()=>{}),A=B.useCallback(()=>{var P;const M=(P=i.current.openEvent)==null?void 0:P.type;return(M==null?void 0:M.includes("mouse"))&&M!=="mousedown"},[i]);B.useEffect(()=>{if(!u)return;function P(M){let{open:V}=M;V||(clearTimeout(_.current),clearTimeout(N.current),T.current=!0)}return o.on("openchange",P),()=>{o.off("openchange",P)}},[u,o]),B.useEffect(()=>{if(!u||!y.current||!n)return;function P(V){A()&&r(!1,V,"hover")}const M=It(s).documentElement;return M.addEventListener("mouseleave",P),()=>{M.removeEventListener("mouseleave",P)}},[s,n,r,u,y,A]);const L=B.useCallback(function(P,M,V){M===void 0&&(M=!0),V===void 0&&(V="hover");const G=id(g.current,"close",k.current);G&&!S.current?(clearTimeout(_.current),_.current=setTimeout(()=>r(!1,P,V),G)):M&&(clearTimeout(_.current),r(!1,P,V))},[g,r]),$=B.useCallback(()=>{F.current(),S.current=void 0},[]),O=B.useCallback(()=>{if(j.current){const P=It(c.floating.current).body;P.style.pointerEvents="",P.removeAttribute(Mx),j.current=!1}},[c]);return B.useEffect(()=>{if(!u)return;function P(){return i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1}function M(I){if(clearTimeout(_.current),T.current=!1,d&&!Bc(k.current)||h>0&&id(g.current,"open")===0)return;const U=id(g.current,"open",k.current);U?_.current=setTimeout(()=>{r(!0,I,"hover")},U):r(!0,I,"hover")}function V(I){if(P())return;F.current();const U=It(s);if(clearTimeout(N.current),y.current){n||clearTimeout(_.current),S.current=y.current({...e,tree:b,x:I.clientX,y:I.clientY,onClose(){O(),$(),L(I,!0,"safe-polygon")}});const q=S.current;U.addEventListener("mousemove",q),F.current=()=>{U.removeEventListener("mousemove",q)};return}(k.current==="touch"?!Je(s,I.relatedTarget):!0)&&L(I)}function G(I){P()||y.current==null||y.current({...e,tree:b,x:I.clientX,y:I.clientY,onClose(){O(),$(),L(I)}})(I)}if(Me(a)){const I=a;return n&&I.addEventListener("mouseleave",G),s==null||s.addEventListener("mouseleave",G),x&&I.addEventListener("mousemove",M,{once:!0}),I.addEventListener("mouseenter",M),I.addEventListener("mouseleave",V),()=>{n&&I.removeEventListener("mouseleave",G),s==null||s.removeEventListener("mouseleave",G),x&&I.removeEventListener("mousemove",M),I.removeEventListener("mouseenter",M),I.removeEventListener("mouseleave",V)}}},[a,s,u,e,d,h,x,L,$,O,r,n,b,g,y,i]),Ee(()=>{var P;if(u&&n&&(P=y.current)!=null&&P.__options.blockPointerEvents&&A()){const V=It(s).body;if(V.setAttribute(Mx,""),V.style.pointerEvents="none",j.current=!0,Me(a)&&s){var M;const G=a,I=b==null||(M=b.nodesRef.current.find(U=>U.id===C))==null||(M=M.context)==null?void 0:M.elements.floating;return I&&(I.style.pointerEvents=""),G.style.pointerEvents="auto",s.style.pointerEvents="auto",()=>{G.style.pointerEvents="",s.style.pointerEvents=""}}}},[u,n,C,s,a,b,y,A]),Ee(()=>{n||(k.current=void 0,$(),O())},[n,$,O]),B.useEffect(()=>()=>{$(),clearTimeout(_.current),clearTimeout(N.current),O()},[u,a,$,O]),B.useMemo(()=>{if(!u)return{};function P(M){k.current=M.pointerType}return{reference:{onPointerDown:P,onPointerEnter:P,onMouseMove(M){n||h===0||(clearTimeout(N.current),N.current=setTimeout(()=>{T.current||r(!0,M.nativeEvent,"hover")},h))}},floating:{onMouseEnter(){clearTimeout(_.current)},onMouseLeave(M){L(M.nativeEvent,!1)}}}},[u,h,n,r,L])}function sM(e,t){var n;let r=[],i=(n=e.find(o=>o.id===t))==null?void 0:n.parentId;for(;i;){const o=e.find(a=>a.id===i);i=o==null?void 0:o.parentId,o&&(r=r.concat(o))}return r}function di(e,t){let n=e.filter(i=>{var o;return i.parentId===t&&((o=i.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=e.filter(i=>{var o;return(o=r)==null?void 0:o.some(a=>{var s;return i.parentId===a.id&&((s=i.context)==null?void 0:s.open)})}),n=n.concat(r);return n}function lM(e,t){let n,r=-1;function i(o,a){a>r&&(n=o,r=a),di(e,o).forEach(c=>{i(c.id,a+1)})}return i(t,0),e.find(o=>o.id===n)}let Li=new WeakMap,sl=new WeakSet,ll={},od=0;const cM=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,M_=e=>e&&(e.host||M_(e.parentNode)),uM=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=M_(n);return e.contains(r)?r:null}).filter(n=>n!=null);function fM(e,t,n,r){const i="data-floating-ui-inert",o=r?"inert":n?"aria-hidden":null,a=uM(t,e),s=new Set,c=new Set(a),u=[];ll[i]||(ll[i]=new WeakMap);const f=ll[i];a.forEach(p),d(t),s.clear();function p(h){!h||s.has(h)||(s.add(h),h.parentNode&&p(h.parentNode))}function d(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,x=>{if(s.has(x))d(x);else{const b=o?x.getAttribute(o):null,C=b!==null&&b!=="false",y=(Li.get(x)||0)+1,g=(f.get(x)||0)+1;Li.set(x,y),f.set(x,g),u.push(x),y===1&&C&&sl.add(x),g===1&&x.setAttribute(i,""),!C&&o&&x.setAttribute(o,"true")}})}return od++,()=>{u.forEach(h=>{const x=(Li.get(h)||0)-1,b=(f.get(h)||0)-1;Li.set(h,x),f.set(h,b),x||(!sl.has(h)&&o&&h.removeAttribute(o),sl.delete(h)),b||h.removeAttribute(i)}),od--,od||(Li=new WeakMap,Li=new WeakMap,sl=new WeakSet,ll={})}}function Ox(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=It(e[0]).body;return fM(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const Th=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function O_(e,t){const n=Fh(e,Th());t==="prev"&&n.reverse();const r=n.indexOf(mr(It(e)));return n.slice(r+1)[0]}function L_(){return O_(document.body,"next")}function B_(){return O_(document.body,"prev")}function Fa(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Je(n,r)}function dM(e){Fh(e,Th()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function pM(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Ph={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let mM;function Lx(e){e.key==="Tab"&&(e.target,clearTimeout(mM))}const qc=B.forwardRef(function(t,n){const[r,i]=B.useState();Ee(()=>(d_()&&i("button"),document.addEventListener("keydown",Lx),()=>{document.removeEventListener("keydown",Lx)}),[]);const o={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Ro("focus-guard")]:"",style:Ph};return B.createElement("span",Kc({},t,o))}),$_=B.createContext(null),Bx=Ro("portal");function hM(e){let{id:t,root:n}=e===void 0?{}:e;const[r,i]=B.useState(null),o=Pu(),a=U_(),s=B.useRef(null);return Ee(()=>()=>{r==null||r.remove(),queueMicrotask(()=>{s.current=null})},[r]),Ee(()=>{if(s.current)return;const c=t?document.getElementById(t):null;if(!c)return;const u=document.createElement("div");u.id=o,u.setAttribute(Bx,""),c.appendChild(u),s.current=u,i(u)},[t,o]),Ee(()=>{if(s.current)return;let c=n||(a==null?void 0:a.portalNode);c&&!Me(c)&&(c=c.current),c=c||document.body;let u=null;t&&(u=document.createElement("div"),u.id=t,c.appendChild(u));const f=document.createElement("div");f.id=o,f.setAttribute(Bx,""),c=u||c,c.appendChild(f),s.current=f,i(f)},[t,n,o,a]),r}function vM(e){let{children:t,id:n,root:r=null,preserveTabOrder:i=!0}=e;const o=hM({id:n,root:r}),[a,s]=B.useState(null),c=B.useRef(null),u=B.useRef(null),f=B.useRef(null),p=B.useRef(null),d=!!a&&!a.modal&&a.open&&i&&!!(r||o);return B.useEffect(()=>{if(!o||!i||a!=null&&a.modal)return;function h(x){o&&Fa(x)&&(x.type==="focusin"?pM:dM)(o)}return o.addEventListener("focusin",h,!0),o.addEventListener("focusout",h,!0),()=>{o.removeEventListener("focusin",h,!0),o.removeEventListener("focusout",h,!0)}},[o,i,a==null?void 0:a.modal]),B.createElement($_.Provider,{value:B.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:c,afterOutsideRef:u,beforeInsideRef:f,afterInsideRef:p,portalNode:o,setFocusManagerState:s}),[i,o])},d&&o&&B.createElement(qc,{"data-type":"outside",ref:c,onFocus:h=>{if(Fa(h,o)){var x;(x=f.current)==null||x.focus()}else{const b=B_()||(a==null?void 0:a.refs.domReference.current);b==null||b.focus()}}}),d&&o&&B.createElement("span",{"aria-owns":o.id,style:Ph}),o&&du.createPortal(t,o),d&&o&&B.createElement(qc,{"data-type":"outside",ref:u,onFocus:h=>{if(Fa(h,o)){var x;(x=p.current)==null||x.focus()}else{const b=L_()||(a==null?void 0:a.refs.domReference.current);b==null||b.focus(),a!=null&&a.closeOnFocusOut&&(a==null||a.onOpenChange(!1,h.nativeEvent))}}}))}const U_=()=>B.useContext($_),$x=20;let Zr=[];function ad(e){Zr=Zr.filter(t=>t.isConnected),e&&nr(e)!=="body"&&(Zr.push(e),Zr.length>$x&&(Zr=Zr.slice(-$x)))}function Ux(){return Zr.slice().reverse().find(e=>e.isConnected)}const gM=B.forwardRef(function(t,n){return B.createElement("button",Kc({},t,{type:"button",ref:n,tabIndex:-1,style:Ph}))});function xM(e){const{context:t,children:n,disabled:r=!1,order:i=["content"],guards:o=!0,initialFocus:a=0,returnFocus:s=!0,modal:c=!0,visuallyHiddenDismiss:u=!1,closeOnFocusOut:f=!0}=e,{open:p,refs:d,nodeId:h,onOpenChange:x,events:b,dataRef:C,elements:{domReference:y,floating:g}}=t,k=typeof a=="number"&&a<0,_=m_(y)&&k,S=cM()?o:!0,N=On(i),T=On(a),j=On(s),F=Gr(),A=U_(),L=B.useRef(null),$=B.useRef(null),O=B.useRef(!1),P=B.useRef(!1),M=A!=null,V=B.useCallback(function(H){return H===void 0&&(H=g),H?Fh(H,Th()):[]},[g]),G=B.useCallback(H=>{const q=V(H);return N.current.map(Z=>y&&Z==="reference"?y:g&&Z==="floating"?g:q).filter(Boolean).flat()},[y,g,N,V]);B.useEffect(()=>{if(r||!c)return;function H(Z){if(Z.key==="Tab"){Je(g,mr(It(g)))&&V().length===0&&!_&&ot(Z);const te=G(),re=Qr(Z);N.current[0]==="reference"&&re===y&&(ot(Z),Z.shiftKey?Gn(te[te.length-1]):Gn(te[1])),N.current[1]==="floating"&&re===g&&Z.shiftKey&&(ot(Z),Gn(te[0]))}}const q=It(g);return q.addEventListener("keydown",H),()=>{q.removeEventListener("keydown",H)}},[r,y,g,c,N,_,V,G]),B.useEffect(()=>{if(r||!f)return;function H(){P.current=!0,setTimeout(()=>{P.current=!1})}function q(Z){const te=Z.relatedTarget;queueMicrotask(()=>{const re=!(Je(y,te)||Je(g,te)||Je(te,g)||Je(A==null?void 0:A.portalNode,te)||te!=null&&te.hasAttribute(Ro("focus-guard"))||F&&(di(F.nodesRef.current,h).find(ae=>{var pe,ve;return Je((pe=ae.context)==null?void 0:pe.elements.floating,te)||Je((ve=ae.context)==null?void 0:ve.elements.domReference,te)})||sM(F.nodesRef.current,h).find(ae=>{var pe,ve;return((pe=ae.context)==null?void 0:pe.elements.floating)===te||((ve=ae.context)==null?void 0:ve.elements.domReference)===te})));te&&re&&!P.current&&te!==Ux()&&(O.current=!0,x(!1,Z))})}if(g&&vt(y))return y.addEventListener("focusout",q),y.addEventListener("pointerdown",H),!c&&g.addEventListener("focusout",q),()=>{y.removeEventListener("focusout",q),y.removeEventListener("pointerdown",H),!c&&g.removeEventListener("focusout",q)}},[r,y,g,c,h,F,A,x,f]),B.useEffect(()=>{var H;if(r)return;const q=Array.from((A==null||(H=A.portalNode)==null?void 0:H.querySelectorAll("["+Ro("portal")+"]"))||[]);if(g){const Z=[g,...q,L.current,$.current,N.current.includes("reference")||_?y:null].filter(re=>re!=null),te=c||_?Ox(Z,S,!S):Ox(Z);return()=>{te()}}},[r,y,g,c,N,A,_,S]),Ee(()=>{if(r||!g)return;const H=It(g),q=mr(H);queueMicrotask(()=>{const Z=G(g),te=T.current,re=(typeof te=="number"?Z[te]:te.current)||g,ae=Je(g,q);!k&&!ae&&p&&Gn(re,{preventScroll:re===g})})},[r,p,g,k,G,T]),Ee(()=>{if(r||!g)return;let H=!1;const q=It(g),Z=mr(q),te=C.current;ad(Z);function re(ae){let{reason:pe,event:ve,nested:ce}=ae;pe==="escape-key"&&d.domReference.current&&ad(d.domReference.current),pe==="hover"&&ve.type==="mouseleave"&&(O.current=!0),pe==="outside-press"&&(ce?(O.current=!1,H=!0):O.current=!(u_(ve)||f_(ve)))}return b.on("openchange",re),()=>{b.off("openchange",re);const ae=mr(q),pe=Je(g,ae)||F&&di(F.nodesRef.current,h).some(xe=>{var Ke;return Je((Ke=xe.context)==null?void 0:Ke.elements.floating,ae)});(pe||te.openEvent&&["click","mousedown"].includes(te.openEvent.type))&&d.domReference.current&&ad(d.domReference.current);const ce=Ux();j.current&&!O.current&&vt(ce)&&(!(ce!==ae&&ae!==q.body)||pe)&&Gn(ce,{cancelPrevious:!1,preventScroll:H})}},[r,g,j,C,d,b,F,h]),Ee(()=>{if(!(r||!A))return A.setFocusManagerState({modal:c,closeOnFocusOut:f,open:p,onOpenChange:x,refs:d}),()=>{A.setFocusManagerState(null)}},[r,A,c,p,x,d,f]),Ee(()=>{if(r||!g||typeof MutationObserver!="function"||k)return;const H=()=>{const Z=g.getAttribute("tabindex");N.current.includes("floating")||mr(It(g))!==d.domReference.current&&V().length===0?Z!=="0"&&g.setAttribute("tabindex","0"):Z!=="-1"&&g.setAttribute("tabindex","-1")};H();const q=new MutationObserver(H);return q.observe(g,{childList:!0,subtree:!0,attributes:!0}),()=>{q.disconnect()}},[r,g,d,N,V,k]);function I(H){return r||!u||!c?null:B.createElement(gM,{ref:H==="start"?L:$,onClick:q=>x(!1,q.nativeEvent)},typeof u=="string"?u:"Dismiss")}const U=!r&&S&&(M||c);return B.createElement(B.Fragment,null,U&&B.createElement(qc,{"data-type":"inside",ref:A==null?void 0:A.beforeInsideRef,onFocus:H=>{if(c){const Z=G();Gn(i[0]==="reference"?Z[0]:Z[Z.length-1])}else if(A!=null&&A.preserveTabOrder&&A.portalNode)if(O.current=!1,Fa(H,A.portalNode)){const Z=L_()||y;Z==null||Z.focus()}else{var q;(q=A.beforeOutsideRef.current)==null||q.focus()}}}),!_&&I("start"),n,I("end"),U&&B.createElement(qc,{"data-type":"inside",ref:A==null?void 0:A.afterInsideRef,onFocus:H=>{if(c)Gn(G()[0]);else if(A!=null&&A.preserveTabOrder&&A.portalNode)if(f&&(O.current=!0),Fa(H,A.portalNode)){const Z=B_()||y;Z==null||Z.focus()}else{var q;(q=A.afterOutsideRef.current)==null||q.focus()}}}))}function zx(e){return vt(e.target)&&e.target.tagName==="BUTTON"}function Gx(e){return p_(e)}function yM(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:o}}=e,{enabled:a=!0,event:s="click",toggle:c=!0,ignoreMouse:u=!1,keyboardHandlers:f=!0}=t,p=B.useRef(),d=B.useRef(!1);return B.useMemo(()=>a?{reference:{onPointerDown(h){p.current=h.pointerType},onMouseDown(h){h.button===0&&(Bc(p.current,!0)&&u||s!=="click"&&(n&&c&&(!i.current.openEvent||i.current.openEvent.type==="mousedown")?r(!1,h.nativeEvent,"click"):(h.preventDefault(),r(!0,h.nativeEvent,"click"))))},onClick(h){if(s==="mousedown"&&p.current){p.current=void 0;return}Bc(p.current,!0)&&u||(n&&c&&(!i.current.openEvent||i.current.openEvent.type==="click")?r(!1,h.nativeEvent,"click"):r(!0,h.nativeEvent,"click"))},onKeyDown(h){p.current=void 0,!(h.defaultPrevented||!f||zx(h))&&(h.key===" "&&!Gx(o)&&(h.preventDefault(),d.current=!0),h.key==="Enter"&&r(!(n&&c),h.nativeEvent,"click"))},onKeyUp(h){h.defaultPrevented||!f||zx(h)||Gx(o)||h.key===" "&&d.current&&(d.current=!1,r(!(n&&c),h.nativeEvent,"click"))}}}:{},[a,i,s,u,f,o,c,n,r])}const wM={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},bM={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Hx=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function kM(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,nodeId:i,elements:{reference:o,domReference:a,floating:s},dataRef:c}=e,{enabled:u=!0,escapeKey:f=!0,outsidePress:p=!0,outsidePressEvent:d="pointerdown",referencePress:h=!1,referencePressEvent:x="pointerdown",ancestorScroll:b=!1,bubbles:C,capture:y}=t,g=Gr(),k=Nn(typeof p=="function"?p:()=>!1),_=typeof p=="function"?k:p,S=B.useRef(!1),N=B.useRef(!1),{escapeKey:T,outsidePress:j}=Hx(C),{escapeKey:F,outsidePress:A}=Hx(y),L=Nn(M=>{if(!n||!u||!f||M.key!=="Escape")return;const V=g?di(g.nodesRef.current,i):[];if(!T&&(M.stopPropagation(),V.length>0)){let G=!0;if(V.forEach(I=>{var U;if((U=I.context)!=null&&U.open&&!I.context.dataRef.current.__escapeKeyBubbles){G=!1;return}}),!G)return}r(!1,HP(M)?M.nativeEvent:M,"escape-key")}),$=Nn(M=>{var V;const G=()=>{var I;L(M),(I=Qr(M))==null||I.removeEventListener("keydown",G)};(V=Qr(M))==null||V.addEventListener("keydown",G)}),O=Nn(M=>{const V=S.current;S.current=!1;const G=N.current;if(N.current=!1,d==="click"&&G||V||typeof _=="function"&&!_(M))return;const I=Qr(M),U="["+Ro("inert")+"]",H=It(s).querySelectorAll(U);let q=Me(I)?I:null;for(;q&&!No(q);){const re=_i(q);if(No(re)||!Me(re))break;q=re}if(H.length&&Me(I)&&!WP(I)&&!Je(I,s)&&Array.from(H).every(re=>!Je(q,re)))return;if(vt(I)&&s){const re=I.clientWidth>0&&I.scrollWidth>I.clientWidth,ae=I.clientHeight>0&&I.scrollHeight>I.clientHeight;let pe=ae&&M.offsetX>I.clientWidth;if(ae&&Kt(I).direction==="rtl"&&(pe=M.offsetX<=I.offsetWidth-I.clientWidth),pe||re&&M.offsetY>I.clientHeight)return}const Z=g&&di(g.nodesRef.current,i).some(re=>{var ae;return td(M,(ae=re.context)==null?void 0:ae.elements.floating)});if(td(M,s)||td(M,a)||Z)return;const te=g?di(g.nodesRef.current,i):[];if(te.length>0){let re=!0;if(te.forEach(ae=>{var pe;if((pe=ae.context)!=null&&pe.open&&!ae.context.dataRef.current.__outsidePressBubbles){re=!1;return}}),!re)return}r(!1,M,"outside-press")}),P=Nn(M=>{var V;const G=()=>{var I;O(M),(I=Qr(M))==null||I.removeEventListener(d,G)};(V=Qr(M))==null||V.addEventListener(d,G)});return B.useEffect(()=>{if(!n||!u)return;c.current.__escapeKeyBubbles=T,c.current.__outsidePressBubbles=j;function M(I){r(!1,I,"ancestor-scroll")}const V=It(s);f&&V.addEventListener("keydown",F?$:L,F),_&&V.addEventListener(d,A?P:O,A);let G=[];return b&&(Me(a)&&(G=Nr(a)),Me(s)&&(G=G.concat(Nr(s))),!Me(o)&&o&&o.contextElement&&(G=G.concat(Nr(o.contextElement)))),G=G.filter(I=>{var U;return I!==((U=V.defaultView)==null?void 0:U.visualViewport)}),G.forEach(I=>{I.addEventListener("scroll",M,{passive:!0})}),()=>{f&&V.removeEventListener("keydown",F?$:L,F),_&&V.removeEventListener(d,A?P:O,A),G.forEach(I=>{I.removeEventListener("scroll",M)})}},[c,s,a,o,f,_,d,n,r,b,u,T,j,L,F,$,O,A,P]),B.useEffect(()=>{S.current=!1},[_,d]),B.useMemo(()=>u?{reference:{onKeyDown:L,[wM[x]]:M=>{h&&r(!1,M.nativeEvent,"reference-press")}},floating:{onKeyDown:L,onMouseDown(){N.current=!0},onMouseUp(){N.current=!0},[bM[d]]:()=>{S.current=!0}}}:{},[u,h,d,x,r,L])}function _M(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:i}=e,[o,a]=B.useState(null),s=((t=e.elements)==null?void 0:t.reference)||o,c=jD(e),u=Gr(),f=zr()!=null,p=Nn((S,N,T)=>{S&&(h.current.openEvent=N),x.emit("openchange",{open:S,event:N,reason:T,nested:f}),r==null||r(S,N,T)}),d=B.useRef(null),h=B.useRef({}),x=B.useState(()=>T_())[0],b=Pu(),C=B.useCallback(S=>{const N=Me(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),contextElement:S}:S;c.refs.setReference(N)},[c.refs]),y=B.useCallback(S=>{(Me(S)||S===null)&&(d.current=S,a(S)),(Me(c.refs.reference.current)||c.refs.reference.current===null||S!==null&&!Me(S))&&c.refs.setReference(S)},[c.refs]),g=B.useMemo(()=>({...c.refs,setReference:y,setPositionReference:C,domReference:d}),[c.refs,y,C]),k=B.useMemo(()=>({...c.elements,domReference:s}),[c.elements,s]),_=B.useMemo(()=>({...c,refs:g,elements:k,dataRef:h,nodeId:i,floatingId:b,events:x,open:n,onOpenChange:p}),[c,i,b,x,n,p,g,k]);return Ee(()=>{const S=u==null?void 0:u.nodesRef.current.find(N=>N.id===i);S&&(S.context=_)}),B.useMemo(()=>({...c,context:_,refs:g,elements:k}),[c,g,k,_])}const Wx="active",Vx="selected";function sd(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[Wx]:a,[Vx]:s,...c}=e;o=c}return{...n==="floating"&&{tabIndex:-1},...o,...t.map(a=>{const s=a?a[n]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((a,s)=>(s&&Object.entries(s).forEach(c=>{let[u,f]=c;if(!(i&&[Wx,Vx].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof f=="function"){var p;(p=r.get(u))==null||p.push(f),a[u]=function(){for(var d,h=arguments.length,x=new Array(h),b=0;b<h;b++)x[b]=arguments[b];return(d=r.get(u))==null?void 0:d.map(C=>C(...x)).find(C=>C!==void 0)}}}else a[u]=f}),a),{})}}function SM(e){e===void 0&&(e=[]);const t=e,n=B.useCallback(o=>sd(o,e,"reference"),t),r=B.useCallback(o=>sd(o,e,"floating"),t),i=B.useCallback(o=>sd(o,e,"item"),e.map(o=>o==null?void 0:o.item));return B.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])}let Kx=!1;function Du(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function qx(e,t){return Du(t,e===Rh||e===Ss,e===Fo||e===Go)}function ld(e,t,n){return Du(t,e===Ss,n?e===Fo:e===Go)||e==="Enter"||e===" "||e===""}function EM(e,t,n){return Du(t,n?e===Fo:e===Go,e===Ss)}function Yx(e,t,n){return Du(t,n?e===Go:e===Fo,e===Rh)}function jM(e,t){const{open:n,onOpenChange:r,refs:i,elements:{domReference:o,floating:a}}=e,{listRef:s,activeIndex:c,onNavigate:u=()=>{},enabled:f=!0,selectedIndex:p=null,allowEscape:d=!1,loop:h=!1,nested:x=!1,rtl:b=!1,virtual:C=!1,focusItemOnOpen:y="auto",focusItemOnHover:g=!0,openOnArrowKeyDown:k=!0,disabledIndices:_=void 0,orientation:S="vertical",cols:N=1,scrollItemIntoView:T=!0,virtualItemRef:j,itemSizes:F,dense:A=!1}=t,L=zr(),$=Gr(),O=Nn(u),P=B.useRef(y),M=B.useRef(p??-1),V=B.useRef(null),G=B.useRef(!0),I=B.useRef(O),U=B.useRef(!!a),H=B.useRef(!1),q=B.useRef(!1),Z=On(_),te=On(n),re=On(T),[ae,pe]=B.useState(),[ve,ce]=B.useState(),xe=Nn(function(se,Ne,we){we===void 0&&(we=!1);const be=se.current[Ne.current];be&&(C?(pe(be.id),$==null||$.events.emit("virtualfocus",be),j&&(j.current=be)):Gn(be,{preventScroll:!0,sync:zP()&&d_()?Kx||H.current:!1}),requestAnimationFrame(()=>{const W=re.current;W&&be&&(we||!G.current)&&(be.scrollIntoView==null||be.scrollIntoView(typeof W=="boolean"?{block:"nearest",inline:"nearest"}:W))}))});Ee(()=>{document.createElement("div").focus({get preventScroll(){return Kx=!0,!1}})},[]),Ee(()=>{f&&(n&&a?P.current&&p!=null&&(q.current=!0,M.current=p,O(p)):U.current&&(M.current=-1,I.current(null)))},[f,n,a,p,O]),Ee(()=>{if(f&&n&&a)if(c==null){if(H.current=!1,p!=null)return;if(U.current&&(M.current=-1,xe(s,M)),!U.current&&P.current&&(V.current!=null||P.current===!0&&V.current==null)){let se=0;const Ne=()=>{s.current[0]==null?(se<2&&(se?requestAnimationFrame:queueMicrotask)(Ne),se++):(M.current=V.current==null||ld(V.current,S,b)||x?nd(s,Z.current):Tx(s,Z.current),V.current=null,O(M.current))};Ne()}}else Na(s,c)||(M.current=c,xe(s,M,q.current),q.current=!1)},[f,n,a,c,p,x,s,S,b,O,xe,Z]),Ee(()=>{var se;if(!f||a||!$||C||!U.current)return;const Ne=$.nodesRef.current,we=(se=Ne.find(ee=>ee.id===L))==null||(se=se.context)==null?void 0:se.elements.floating,be=mr(It(a)),W=Ne.some(ee=>ee.context&&Je(ee.context.elements.floating,be));we&&!W&&G.current&&we.focus({preventScroll:!0})},[f,a,$,L,C]),Ee(()=>{if(!f||!$||!C||L)return;function se(Ne){ce(Ne.id),j&&(j.current=Ne)}return $.events.on("virtualfocus",se),()=>{$.events.off("virtualfocus",se)}},[f,$,C,L,j]),Ee(()=>{I.current=O,U.current=!!a}),Ee(()=>{n||(V.current=null)},[n]);const Ke=c!=null,jt=B.useMemo(()=>{function se(we){if(!n)return;const be=s.current.indexOf(we);be!==-1&&O(be)}return{onFocus(we){let{currentTarget:be}=we;se(be)},onClick:we=>{let{currentTarget:be}=we;return be.focus({preventScroll:!0})},...g&&{onMouseMove(we){let{currentTarget:be}=we;se(be)},onPointerLeave(we){let{pointerType:be}=we;!G.current||be==="touch"||(M.current=-1,xe(s,M),O(null),C||Gn(i.floating.current,{preventScroll:!0}))}}}},[n,i,xe,g,s,O,C]);return B.useMemo(()=>{if(!f)return{};const se=Z.current;function Ne(Q){if(G.current=!1,H.current=!0,!te.current&&Q.currentTarget===i.floating.current)return;if(x&&Yx(Q.key,S,b)){ot(Q),r(!1,Q.nativeEvent,"list-navigation"),vt(o)&&!C&&o.focus();return}const Ce=M.current,ke=nd(s,se),qe=Tx(s,se);if(Q.key==="Home"&&(ot(Q),M.current=ke,O(M.current)),Q.key==="End"&&(ot(Q),M.current=qe,O(M.current)),N>1){const Se=F||Array.from({length:s.current.length},()=>({width:1,height:1})),Mt=qD(Se,N,A),Fi=Mt.findIndex(Zt=>Zt!=null&&!(se!=null&&se.includes(Zt))),Ot=Mt.reduce((Zt,w,m)=>w!=null&&!(se!=null&&se.includes(w))?m:Zt,-1);if(M.current=Mt[KD({current:Mt.map(Zt=>Zt!=null?s.current[Zt]:null)},{event:Q,orientation:S,loop:h,cols:N,disabledIndices:ZD([...se||[],void 0],Mt),minIndex:Fi,maxIndex:Ot,prevIndex:YD(M.current,Se,Mt,N,Q.key===Ss?"bl":Q.key===Go?"tr":"tl"),stopEvent:!0})],O(M.current),S==="both")return}if(qx(Q.key,S)){if(ot(Q),n&&!C&&mr(Q.currentTarget.ownerDocument)===Q.currentTarget){M.current=ld(Q.key,S,b)?ke:qe,O(M.current);return}ld(Q.key,S,b)?h?M.current=Ce>=qe?d&&Ce!==s.current.length?-1:ke:ut(s,{startingIndex:Ce,disabledIndices:se}):M.current=Math.min(qe,ut(s,{startingIndex:Ce,disabledIndices:se})):h?M.current=Ce<=ke?d&&Ce!==-1?s.current.length:qe:ut(s,{startingIndex:Ce,decrement:!0,disabledIndices:se}):M.current=Math.max(ke,ut(s,{startingIndex:Ce,decrement:!0,disabledIndices:se})),Na(s,M.current)?O(null):O(M.current)}}function we(Q){y==="auto"&&u_(Q.nativeEvent)&&(P.current=!0)}function be(Q){P.current=y,y==="auto"&&f_(Q.nativeEvent)&&(P.current=!0)}const W=C&&n&&Ke&&{"aria-activedescendant":ve||ae},ee=s.current.find(Q=>(Q==null?void 0:Q.id)===ae);return{reference:{...W,onKeyDown(Q){G.current=!1;const Ce=Q.key.indexOf("Arrow")===0,ke=EM(Q.key,S,b),qe=Yx(Q.key,S,b),Se=qx(Q.key,S),Mt=(x?ke:Se)||Q.key==="Enter"||Q.key.trim()==="";if(C&&n){const w=$==null?void 0:$.nodesRef.current.find(v=>v.parentId==null),m=$&&w?lM($.nodesRef.current,w.id):null;if(Ce&&m&&j){const v=new KeyboardEvent("keydown",{key:Q.key,bubbles:!0});if(ke||qe){var Fi,Ot;const E=((Fi=m.context)==null?void 0:Fi.elements.domReference)===Q.currentTarget,D=qe&&!E?(Ot=m.context)==null?void 0:Ot.elements.domReference:ke?ee:null;D&&(ot(Q),D.dispatchEvent(v),ce(void 0))}if(Se&&m.context&&m.context.open&&m.parentId&&Q.currentTarget!==m.context.elements.domReference){var Zt;ot(Q),(Zt=m.context.elements.domReference)==null||Zt.dispatchEvent(v);return}}return Ne(Q)}if(!(!n&&!k&&Ce)){if(Mt&&(V.current=x&&Se?null:Q.key),x){ke&&(ot(Q),n?(M.current=nd(s,se),O(M.current)):r(!0,Q.nativeEvent,"list-navigation"));return}Se&&(p!=null&&(M.current=p),ot(Q),!n&&k?r(!0,Q.nativeEvent,"list-navigation"):Ne(Q),n&&O(M.current))}},onFocus(){n&&O(null)},onPointerDown:be,onMouseDown:we,onClick:we},floating:{"aria-orientation":S==="both"?void 0:S,...!m_(o)&&W,onKeyDown:Ne,onPointerMove(){G.current=!0}},item:jt}},[o,i,ae,ve,Z,te,s,f,S,b,C,n,Ke,x,p,k,d,N,h,y,O,r,jt,$,j,F,A])}const CM=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function IM(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:i}=e,{enabled:o=!0,role:a="dialog"}=t,s=(n=CM.get(a))!=null?n:a,c=Pu(),f=zr()!=null;return B.useMemo(()=>{if(!o)return{};const p={id:i,...s&&{role:s}};return s==="tooltip"||a==="label"?{reference:{["aria-"+(a==="label"?"labelledby":"describedby")]:r?i:void 0},floating:p}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":s==="alertdialog"?"dialog":s,"aria-controls":r?i:void 0,...s==="listbox"&&{role:"combobox"},...s==="menu"&&{id:c},...s==="menu"&&f&&{role:"menuitem"},...a==="select"&&{"aria-autocomplete":"none"},...a==="combobox"&&{"aria-autocomplete":"list"}},floating:{...p,...s==="menu"&&{"aria-labelledby":c}},item(d){let{active:h,selected:x}=d;const b={role:"option",...h&&{id:i+"-option"}};switch(a){case"select":return{...b,"aria-selected":h&&x};case"combobox":return{...b,...h&&{"aria-selected":!0}}}return{}}}},[o,a,s,r,i,c,f])}function AM(e,t){var n;const{open:r,dataRef:i}=e,{listRef:o,activeIndex:a,onMatch:s,onTypingChange:c,enabled:u=!0,findMatch:f=null,resetMs:p=750,ignoreKeys:d=[],selectedIndex:h=null}=t,x=B.useRef(),b=B.useRef(""),C=B.useRef((n=h??a)!=null?n:-1),y=B.useRef(null),g=Nn(s),k=Nn(c),_=On(f),S=On(d);return Ee(()=>{r&&(clearTimeout(x.current),y.current=null,b.current="")},[r]),Ee(()=>{if(r&&b.current===""){var N;C.current=(N=h??a)!=null?N:-1}},[r,h,a]),B.useMemo(()=>{if(!u)return{};function N(F){F?i.current.typing||(i.current.typing=F,k(F)):i.current.typing&&(i.current.typing=F,k(F))}function T(F,A,L){const $=_.current?_.current(A,L):A.find(O=>(O==null?void 0:O.toLocaleLowerCase().indexOf(L.toLocaleLowerCase()))===0);return $?F.indexOf($):-1}function j(F){const A=o.current;if(b.current.length>0&&b.current[0]!==" "&&(T(A,A,b.current)===-1?N(!1):F.key===" "&&ot(F)),A==null||S.current.includes(F.key)||F.key.length!==1||F.ctrlKey||F.metaKey||F.altKey)return;r&&F.key!==" "&&(ot(F),N(!0)),A.every(P=>{var M,V;return P?((M=P[0])==null?void 0:M.toLocaleLowerCase())!==((V=P[1])==null?void 0:V.toLocaleLowerCase()):!0})&&b.current===F.key&&(b.current="",C.current=y.current),b.current+=F.key,clearTimeout(x.current),x.current=setTimeout(()=>{b.current="",C.current=y.current,N(!1)},p);const $=C.current,O=T(A,[...A.slice(($||0)+1),...A.slice(0,($||0)+1)],b.current);O!==-1?(g(O),y.current=O):F.key!==" "&&(b.current="",N(!1))}return{reference:{onKeyDown:j},floating:{onKeyDown:j,onKeyUp(F){F.key===" "&&N(!1)}}}},[u,r,i,o,p,S,_,g,k])}function Zx(e,t){const[n,r]=e;let i=!1;const o=t.length;for(let a=0,s=o-1;a<o;s=a++){const[c,u]=t[a]||[0,0],[f,p]=t[s]||[0,0];u>=r!=p>=r&&n<=(f-c)*(r-u)/(p-u)+c&&(i=!i)}return i}function NM(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function FM(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let i,o=!1,a=null,s=null,c=performance.now();function u(p,d){const h=performance.now(),x=h-c;if(a===null||s===null||x===0)return a=p,s=d,c=h,null;const b=p-a,C=d-s,g=Math.sqrt(b*b+C*C)/x;return a=p,s=d,c=h,g}const f=p=>{let{x:d,y:h,placement:x,elements:b,onClose:C,nodeId:y,tree:g}=p;return function(_){function S(){clearTimeout(i),C()}if(clearTimeout(i),!b.domReference||!b.floating||x==null||d==null||h==null)return;const{clientX:N,clientY:T}=_,j=[N,T],F=Qr(_),A=_.type==="mouseleave",L=Je(b.floating,F),$=Je(b.domReference,F),O=b.domReference.getBoundingClientRect(),P=b.floating.getBoundingClientRect(),M=x.split("-")[0],V=d>P.right-P.width/2,G=h>P.bottom-P.height/2,I=NM(j,O),U=P.width>O.width,H=P.height>O.height,q=(U?O:P).left,Z=(U?O:P).right,te=(H?O:P).top,re=(H?O:P).bottom;if(L&&(o=!0,!A))return;if($&&(o=!1),$&&!A){o=!0;return}if(A&&Me(_.relatedTarget)&&Je(b.floating,_.relatedTarget)||g&&di(g.nodesRef.current,y).some(ve=>{let{context:ce}=ve;return ce==null?void 0:ce.open}))return;if(M==="top"&&h>=O.bottom-1||M==="bottom"&&h<=O.top+1||M==="left"&&d>=O.right-1||M==="right"&&d<=O.left+1)return S();let ae=[];switch(M){case"top":ae=[[q,O.top+1],[q,P.bottom-1],[Z,P.bottom-1],[Z,O.top+1]];break;case"bottom":ae=[[q,P.top+1],[q,O.bottom-1],[Z,O.bottom-1],[Z,P.top+1]];break;case"left":ae=[[P.right-1,re],[P.right-1,te],[O.left+1,te],[O.left+1,re]];break;case"right":ae=[[O.right-1,re],[O.right-1,te],[P.left+1,te],[P.left+1,re]];break}function pe(ve){let[ce,xe]=ve;switch(M){case"top":{const Ke=[U?ce+t/2:V?ce+t*4:ce-t*4,xe+t+1],jt=[U?ce-t/2:V?ce+t*4:ce-t*4,xe+t+1],se=[[P.left,V||U?P.bottom-t:P.top],[P.right,V?U?P.bottom-t:P.top:P.bottom-t]];return[Ke,jt,...se]}case"bottom":{const Ke=[U?ce+t/2:V?ce+t*4:ce-t*4,xe-t],jt=[U?ce-t/2:V?ce+t*4:ce-t*4,xe-t],se=[[P.left,V||U?P.top+t:P.bottom],[P.right,V?U?P.top+t:P.bottom:P.top+t]];return[Ke,jt,...se]}case"left":{const Ke=[ce+t+1,H?xe+t/2:G?xe+t*4:xe-t*4],jt=[ce+t+1,H?xe-t/2:G?xe+t*4:xe-t*4];return[...[[G||H?P.right-t:P.left,P.top],[G?H?P.right-t:P.left:P.right-t,P.bottom]],Ke,jt]}case"right":{const Ke=[ce-t,H?xe+t/2:G?xe+t*4:xe-t*4],jt=[ce-t,H?xe-t/2:G?xe+t*4:xe-t*4],se=[[G||H?P.left+t:P.right,P.top],[G?H?P.left+t:P.right:P.left+t,P.bottom]];return[Ke,jt,...se]}}}if(!Zx([N,T],ae)){if(o&&!I)return S();if(!A&&r){const ve=u(_.clientX,_.clientY);if(ve!==null&&ve<.1)return S()}Zx([N,T],pe([d,h]))?!o&&r&&(i=window.setTimeout(S,40)):S()}}};return f.__options={blockPointerEvents:n},f}const RM="_RootMenu_grrn6_11",TM="_Menu_grrn6_41",PM="_MenuItem_grrn6_63",Ra={RootMenu:RM,Menu:TM,MenuItem:PM},Yp=B.createContext({getItemProps:()=>({}),activeIndex:null,setActiveIndex:()=>{},setHasFocusInside:()=>{},isOpen:!1}),Xx=B.forwardRef(({children:e,label:t,icon:n,...r},i)=>{const[o,a]=B.useState(!1),[s,c]=B.useState(!1),[u,f]=B.useState(null),p=B.useRef([]),d=B.useRef([]),h=B.useContext(Yp),x=Gr(),b=rM(),C=zr(),y=R_(),g=C!=null,{floatingStyles:k,refs:_,context:S}=_M({nodeId:b,open:o,onOpenChange:a,placement:g?"right-start":"bottom-start",middleware:[iD({mainAxis:g?0:4,alignmentAxis:g?-4:0}),SD(),_D()],whileElementsMounted:kD}),N=aM(S,{enabled:g,delay:{open:75},handleClose:FM({blockPointerEvents:!0})}),T=yM(S,{event:"mousedown",toggle:!g,ignoreMouse:g}),j=IM(S,{role:"menu"}),F=kM(S,{bubbles:!0}),A=jM(S,{listRef:p,activeIndex:u,nested:g,onNavigate:f}),L=AM(S,{listRef:d,onMatch:o?f:void 0,activeIndex:u}),{getReferenceProps:$,getFloatingProps:O,getItemProps:P}=SM([N,T,j,F,A,L]);return B.useEffect(()=>{if(!x)return;function M(){a(!1)}function V(G){G.nodeId!==b&&G.parentId===C&&a(!1)}return x.events.on("click",M),x.events.on("menuopen",V),()=>{x.events.off("click",M),x.events.off("menuopen",V)}},[x,b,C]),B.useEffect(()=>{o&&x&&x.events.emit("menuopen",{parentId:C,nodeId:b})},[x,o,b,C]),l.jsxs(iM,{id:b,children:[l.jsxs("button",{ref:N_([_.setReference,y.ref,i]),tabIndex:g?h.activeIndex===y.index?0:-1:void 0,role:g?"menuitem":void 0,"data-open":o?"":void 0,"data-nested":g?"":void 0,"data-focus-inside":s?"":void 0,className:r.className??(g?Ra.MenuItem:Ra.RootMenu),...$(h.getItemProps({...r,onFocus(M){var V;(V=r.onFocus)==null||V.call(r,M),c(!1),h.setHasFocusInside(!0)}})),children:[n&&l.jsx(n,{className:"mr-1",size:18}),l.jsx("span",{className:"grow",children:t}),g&&l.jsx("span",{className:"j","aria-hidden":!0,style:{marginLeft:10,fontSize:10},children:""})]}),l.jsx(Yp.Provider,{value:{activeIndex:u,setActiveIndex:f,getItemProps:P,setHasFocusInside:c,isOpen:o},children:l.jsx(JD,{elementsRef:p,labelsRef:d,children:o&&l.jsx(vM,{children:l.jsx(xM,{context:S,modal:!1,initialFocus:g?-1:0,returnFocus:!g,children:l.jsx("div",{ref:_.setFloating,className:Ra.Menu,style:k,...O(),children:e})})})})})]})}),dt=B.forwardRef(({label:e,preContent:t,disabled:n,...r},i)=>{const o=B.useContext(Yp),a=R_({label:n?null:e}),s=Gr(),c=a.index===o.activeIndex;return l.jsxs("button",{...r,ref:N_([a.ref,i]),type:"button",role:"menuitem",className:Ra.MenuItem,tabIndex:c?0:-1,disabled:n,...o.getItemProps({onClick(u){var f;(f=r.onClick)==null||f.call(r,u),s==null||s.events.emit("click")},onFocus(u){var f;(f=r.onFocus)==null||f.call(r,u),o.setHasFocusInside(!0)}}),children:[t,e]})}),bn=B.forwardRef((e,t)=>zr()===null?l.jsx(oM,{children:l.jsx(Xx,{...e,ref:t})}):l.jsx(Xx,{...e,ref:t}));function Es(){return l.jsx("button",{className:Ra.MenuItem,disabled:!0,children:l.jsx("div",{className:"border-b border-slate-200 w-full my-1",style:{height:1}})})}function cl({label:e,checked:t,onChange:n,disabled:r}){const i=l.jsx("div",{className:"mr-1.5",children:l.jsx("input",{className:"cursor-pointer",type:"checkbox",checked:t,onChange:()=>{},disabled:r})});return l.jsx(dt,{label:e,disabled:r,preContent:i,onClick:()=>{r||n(!t)}})}function Bi({label:e,checked:t,onChange:n,disabled:r}){const i=l.jsx("div",{className:"mr-1.5",children:l.jsx("input",{className:"cursor-pointer",type:"radio",checked:t,onChange:()=>{},disabled:r})});return l.jsx(dt,{label:e,disabled:r,preContent:i,onClick:()=>{r||n(!t)}})}function DM(){console.log("Rendering OptionButton");const e=R.useContext(ir),t=R.useContext(fn),n=R.useCallback(async()=>{const{close:o}=e.pushModal({title:"Change Background",body:l.jsx(BP,{close:()=>o()})})},[e]),r=pt(o=>o.mainCanvasLayerVisibility),i=pt(o=>o.actions.setMainCanvasLayerVisibility);return l.jsxs(bn,{label:"Options",icon:ie.Options,className:`inline-flex items-center bg-slate-400 text-slate-100 px-1.5 py-1\r
        rounded-tl rounded-tr hover:bg-slate-500 hover:text-white text-xs font-bold`,children:[l.jsx(dt,{label:"Change background",onClick:n}),l.jsx(cl,{label:"Show grid",checked:r.GRID,onChange:o=>i({...r,GRID:o})}),l.jsx(cl,{label:"Show crosshair",checked:r.CROSS,onChange:o=>i({...r,CROSS:o})}),l.jsx(cl,{label:"Show offset bounds",checked:r.BOUNDS,onChange:o=>i({...r,BOUNDS:o})}),l.jsx(cl,{label:"Show origin bounds",checked:r.O_BOUNDS,onChange:o=>i({...r,O_BOUNDS:o})}),l.jsx(Es,{}),l.jsx(dt,{label:"Replace image data",onClick:()=>t.replaceActiveFrameData()})]})}function MM(){const[[e,t],n]=DP(Pr.pan),r=Au(Pr.lastPanReset),{numberPrompt:i}=R.useContext(hs),o=async()=>{const s=await i({title:"Set camera X",label:"Value",defaultValue:e});s!==null&&(n([s,t]),r(c=>c+1))},a=async()=>{const s=await i({title:"Set camera Y",label:"Value",defaultValue:t});s!==null&&(n([e,s]),r(c=>c+1))};return l.jsx("div",{className:"h-full flex items-center justify-center text-xs",children:l.jsxs("div",{className:"flex items-center space-x-1 font-mono",children:[l.jsx("span",{className:"font-bold",title:"Middle-click and drag on the image to move camera",children:"Camera:"}),l.jsx("span",{className:"cursor-pointer",onClick:o,children:e}),",",l.jsx("span",{className:"cursor-pointer",onClick:a,children:t}),l.jsx(yi,{icon:l.jsx(ie.Reset,{size:12}),onClick:()=>{n([0,0]),r(s=>s+1)}})]})})}function OM(){const e=Y.useFormat();return l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("div",{className:"flex-1",children:e==="taf-pair"&&l.jsx(OP,{})}),l.jsx("div",{className:"flex-1",children:l.jsx(MM,{})}),l.jsxs("div",{className:"flex-1 flex justify-end space-x-2",children:[l.jsx(LP,{}),l.jsx(DM,{})]})]})}function js({onRender:e}){const t=R.useRef(null),n=Iu(Pr.pan),r=R.useCallback(()=>{if(t.current!==null){const[a,s]=n;e(t.current,a,s)}},[e,n]),i=R.useCallback(a=>{const{width:s,height:c}=a.getBoundingClientRect();a.width=s,a.height=c,r()},[r]);return R.useEffect(()=>{const a=t.current;if(a===null)return;i(a);let s=!0;const c=new ResizeObserver(()=>{if(s){s=!1;return}i(a)});return c.observe(a,{box:"device-pixel-content-box"}),()=>{c.disconnect()}},[i]),R.useMemo(()=>l.jsx("div",{className:"absolute inset-0",children:l.jsx("canvas",{ref:t,className:"w-full h-full",style:{imageRendering:"pixelated"}})}),[])}var To;(e=>{function t(o,a,s,c,u){const f=o.canvas.width,p=o.canvas.height;for(let d=0;d<=Math.floor(f/a);d++){const h=d*a+s%a;o.pixelPerfectLine(h,0,h,p,u)}for(let d=0;d<=Math.floor(p/a);d++){const h=d*a+c%a;o.pixelPerfectLine(0,h,f,h,u)}}e.drawGrid=t;function n(o,a,s,c){const u=o.canvas.width,f=o.canvas.height,p=Math.floor(u/2)+a,d=Math.floor(f/2)+s;o.pixelPerfectLine(p,0,p,f,c),o.pixelPerfectLine(0,d,u,d,c)}e.drawCross=n;function r(o,a,s,c,u,f,p,d){const h=Math.floor(o.canvas.width/2),x=Math.floor(o.canvas.height/2);o.pixelPerfectRectangle(h-c+f,x-u+p,a,s,d)}e.drawBounds=r;function i(o,a,s,c,u,f){const p=Math.floor(o.canvas.width/2),d=Math.floor(o.canvas.height/2);o.pixelPerfectRectangle(p+c,d+u,a,s,f)}e.drawOriginBounds=i})(To||(To={}));let cd;class Cs{constructor(t){Ho(this,"canvas");Ho(this,"ctx");Ho(this,"pixelRatio");if(this.canvas=t,this.ctx=t.getContext("2d"),cd===void 0){const n=window.devicePixelRatio||1,r=this.ctx,i=r.webkitBackingStorePixelRatio??r.mozBackingStorePixelRatio??r.msBackingStorePixelRatio??r.oBackingStorePixelRatio??r.backingStorePixelRatio??1;cd=n/i}this.pixelRatio=cd,this.start()}start(){this.ctx.imageSmoothingEnabled=!1,this.ctx.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}getSharpPixel(t,n){return n%2==0?t:t+this.pixelRatio/2}pixelPerfectLine(t,n,r,i,o){this.ctx.save(),this.ctx.beginPath();const a=1;this.ctx.lineWidth=a*this.pixelRatio,this.ctx.strokeStyle=o,this.ctx.moveTo(this.getSharpPixel(t,a),this.getSharpPixel(n,a)),this.ctx.lineTo(this.getSharpPixel(r,a),this.getSharpPixel(i,a)),this.ctx.stroke(),this.ctx.restore()}pixelPerfectRectangle(t,n,r,i,o){this.ctx.save(),this.ctx.beginPath();const a=1;this.ctx.lineWidth=a*this.pixelRatio,this.ctx.strokeStyle=o,this.ctx.strokeRect(this.getSharpPixel(t,a),this.getSharpPixel(n,a),Math.floor(r),Math.floor(i)),this.ctx.restore()}drawImage(t,n,r){this.ctx.putImageData(t,n,r)}}function LM({frameData:e}){console.log("Rendering BoundsCanvas");const t=pt(i=>i.mainCanvasLayerVisibility.BOUNDS),n=pt(i=>i.boundsStyle);if(!t)return;const r=e.kind==="multi"?e.layers:[e];return l.jsx(js,{onRender:(i,o,a)=>{const s=new Cs(i);r.forEach(c=>{To.drawBounds(s,c.width,c.height,c.xOffset,c.yOffset,o,a,n)})}})}function BM(){console.log("Rendering CrossCanvas");const e=pt(n=>n.mainCanvasLayerVisibility.CROSS),t=pt(n=>n.crossStyle);if(e)return l.jsx(js,{onRender:(n,r,i)=>{const o=new Cs(n);To.drawCross(o,r,i,t)}})}function $M(){console.log("Rendering GridCanvas");const e=pt(r=>r.mainCanvasLayerVisibility.GRID),t=pt(r=>r.gridSpacing),n=pt(r=>r.gridStyle);if(e)return l.jsx(js,{onRender:(r,i,o)=>{const a=new Cs(r);To.drawGrid(a,t,i,o,n)}})}function UM({frameData:e}){console.log("Rendering ImageCanvas");const t=tt(r=>r.activePairSubFormat);return(e.kind==="multi"?e.layers:[e]).map((r,i)=>l.jsx(js,{onRender:(o,a,s)=>{const c=new Cs(o);let u;r.layerData.kind==="raw-colors-pair"?u=t==="taf_1555"?r.layerData.imageResource1555.compiledImage:r.layerData.imageResource4444.compiledImage:u=r.layerData.imageResource.compiledImage,tr.assertEq(r.width,u.width),tr.assertEq(r.height,u.height);const f=Math.floor(c.canvas.width/2),p=Math.floor(c.canvas.height/2);c.drawImage(u,f-r.xOffset+a,p-r.yOffset+s)}},i))}function zM(){console.log("Rendering MouseCanvas");const e=Au(Pr.pan),t=Iu(Pr.lastPanReset),n=R.useRef(null);return R.useEffect(()=>{const r=n.current;if(r===null)return;let i,o=[0,0],a=[0,0],s;const c=d=>{s!==void 0&&cancelAnimationFrame(s),s=requestAnimationFrame(()=>{e(d)})},u=d=>{d.preventDefault(),d.button===1&&(i=[d.clientX,d.clientY])},f=d=>{if(i===void 0)return;const[h,x]=i,[b,C]=o,y=d.clientX-h,g=d.clientY-x;a=[b+y,C+g],c(a)},p=()=>{i=void 0,o=[...a]};return r.addEventListener("mousedown",u),document.body.addEventListener("mousemove",f),document.body.addEventListener("mouseup",p),window.addEventListener("blur",p),()=>{r.removeEventListener("mousedown",u),document.body.removeEventListener("mousemove",f),document.body.removeEventListener("mouseup",p),window.removeEventListener("blur",p),s!==void 0&&cancelAnimationFrame(s)}},[t,e]),l.jsx("div",{ref:n,className:"absolute inset-0"})}function GM({frameData:e}){console.log("Rendering OriginBoundsCanvas");const t=pt(i=>i.mainCanvasLayerVisibility.O_BOUNDS),n=pt(i=>i.originBoundsStyle);if(!t)return;const r=e.kind==="multi"?e.layers:[e];return l.jsx(js,{onRender:(i,o,a)=>{const s=new Cs(i);r.forEach(c=>{To.drawOriginBounds(s,c.width,c.height,o,a,n)})}})}function HM({frameData:e}){const t=R.useMemo(()=>l.jsx($M,{}),[]),n=R.useMemo(()=>l.jsx(UM,{frameData:e}),[e]),r=R.useMemo(()=>l.jsx(BM,{}),[]),i=R.useMemo(()=>l.jsx(LM,{frameData:e}),[e]),o=R.useMemo(()=>l.jsx(GM,{frameData:e}),[e]),a=pt(s=>s.mainCanvasLayerOrder);return l.jsxs("div",{className:"absolute inset-0",children:[[...a].map(s=>l.jsx(R.Fragment,{children:s==="GRID"?t:s==="IMAGE"?n:s==="CROSS"?r:s==="BOUNDS"?i:s==="O_BOUNDS"?o:(()=>{throw new Error(`Unknown layer key: ${s}`)})()},s)),l.jsx(zM,{})]})}function WM({frameData:e}){return l.jsxs("div",{className:"w-full h-full flex flex-col",children:[l.jsx(OM,{}),l.jsx("div",{className:"grow border border-slate-300 overflow-hidden",children:l.jsxs("div",{className:"w-full h-full relative",children:[l.jsx(MP,{}),l.jsx(HM,{frameData:e})]})})]})}function VM(){const e=Y.useActiveFrame(),t=Y.useActiveSubframeIndex();if(e===null)return l.jsx("div",{className:"w-full h-full flex justify-center items-center text-gray-400",children:"No frame selected"});let n=e.frameData;return n.kind==="multi"&&t!==null&&(n=n.layers[t]),l.jsx(WM,{frameData:n})}function z_({type:e,index:t,onClick:n}){const r=R.useRef(null),i=Y.useIsFrameOrSubframeSelectedAt(e,t);R.useEffect(()=>{const u=r.current;!i||u===null||u.scrollIntoView({behavior:"smooth"})},[i]);const o=Y.useSubframesCountAtFrameOrSubframe(e,t),a=i?"border-blue-500":"border-gray-300",s=i?"text-blue-500":"text-gray-400",c=i?"cursor-default":"cursor-pointer";return l.jsxs("div",{ref:r,className:`shrink-0 bg-white border-2 text-xs flex flex-col justify-center items-center overflow-hidden select-none leading-none ${a} ${c} ${s}`,style:{width:th,height:wu},onClick:i?void 0:n,children:[l.jsx("div",{className:"font-bold",style:{marginBottom:1},children:t+1}),o!==null?l.jsxs("div",{children:["x",o]}):l.jsx("div",{className:"invisible",children:"0"})]})}function G_({children:e}){return l.jsx("div",{className:"flex space-x-1.5 overflow-x-auto",children:e})}function H_({children:e,minHeight:t}){return l.jsx("div",{className:"grow flex space-x-1.5",style:{minHeight:t+10},children:e})}function KM(){const e=Y.useHasActiveSubframe()===!1,t=Y.useSetActiveSubframeIndex(),n=()=>t(null),r=e?"border-blue-500":"border-gray-300",i=e?"text-blue-500":"text-gray-400",o=e?"cursor-default":"cursor-pointer";return l.jsx("div",{className:`shrink-0 bg-white border-2 text-xs flex flex-col justify-center items-center overflow-hidden select-none leading-none ${r} ${o} ${i}`,style:{width:th,height:wu},onClick:e?void 0:n,children:l.jsx(ie.CompositeSubframes,{size:20})})}function qM({type:e}){const t=R.useContext(fn);return l.jsx("div",{className:`group shrink-0 border-2 border-gray-300 hover:border-blue-500 text-xs flex\r
        flex-col justify-center items-center overflow-hidden cursor-pointer transition-colors`,style:{width:th,height:wu},onClick:()=>t.importImages(e),children:l.jsx(ie.Plus,{className:"text-gray-400 group-hover:text-blue-500 transition-colors",size:20})})}function W_({type:e,itemLength:t,renderItem:n,showCompositeItem:r}){return l.jsxs(H_,{minHeight:wu,children:[r&&l.jsx(KM,{}),t>0&&l.jsx(G_,{children:Array.from({length:t}).map((i,o)=>n(o))}),l.jsx(qM,{type:e})]})}function ud({frameData:e}){const t=tt(i=>i.activePairSubFormat),r=(e.kind==="multi"?e.layers:[e]).map((i,o)=>{let a;return i.layerData.kind==="raw-colors-pair"?a=t==="taf_1555"?i.layerData.imageResource1555.compiledImage:i.layerData.imageResource4444.compiledImage:a=i.layerData.imageResource.compiledImage,l.jsx("div",{className:"absolute inset-0 flex justify-center items-center overflow-hidden",children:l.jsx(Jm,{image:a,width:i.width,height:i.height,contain:!0,smoothing:!0})},o)});return l.jsx("div",{className:"relative",style:{width:e.width,height:e.height,maxWidth:"100%",maxHeight:"100%"},children:r})}function V_({index:e,frameData:t,isSelected:n,onClick:r}){const i=R.useRef(null);R.useEffect(()=>{const u=i.current;!n||u===null||u.scrollIntoView({behavior:"smooth"})},[n]);const o=n?"border-blue-500":"border-gray-300",a=n?"text-blue-500":"text-gray-400",s=n?"cursor-default":"cursor-pointer";let c;if(t.kind==="single")c=l.jsx(ud,{frameData:t});else if(t.layers.length===0)c=l.jsx(ud,{frameData:t});else{const u=t.layers[0];c=l.jsx(ud,{frameData:u})}return l.jsx("div",{ref:i,className:`shrink-0 bg-white border-2 ${o} ${s}`,style:{width:eh,height:vs},onClick:n?void 0:r,children:l.jsxs("div",{className:"w-full h-full flex flex-col overflow-hidden",children:[l.jsx("div",{className:`${a} font-bold font-mono text-xs text-center px-1 py-0.5`,children:l.jsxs("span",{children:["#",e+1]})}),l.jsx("div",{className:"basis-0 grow overflow-hidden flex justify-center items-center",children:c}),l.jsx("div",{className:`${a} font-bold font-mono text-xs px-1 py-0.5 truncate`,children:t.kind==="multi"?l.jsxs("div",{className:"flex justify-center items-center space-x-1",title:"Multi-layered",children:[l.jsx(ie.MultiLayered,{size:14})," (x",t.layers.length,")"]}):l.jsxs("div",{className:"flex justify-center items-center space-x-1 invisible",title:"Single-layered",children:[l.jsx(ie.SingleLayered,{size:14})," (None)"]})})]})})}function YM({frameIndex:e,setActiveFrameIndex:t}){const n=Y.useFrameDataAt(e),r=Y.useIsFrameSelectedAt(e);return l.jsx(V_,{index:e,frameData:n,isSelected:r,onClick:()=>t(e)})}function ZM({isSelected:e,onClick:t}){const n=e?"border-blue-500":"border-gray-300",r=e?"text-blue-500":"text-slate-400",i=e?"cursor-default":"cursor-pointer";return l.jsx("div",{className:`shrink-0 bg-white border-2 ${n} ${i}`,style:{width:eh,height:vs},onClick:e?void 0:t,children:l.jsx("div",{className:"w-full h-full flex justify-center items-center",children:l.jsx("span",{className:`font-bold font-mono ${r} text-xs text-center`,children:"(composite)"})})})}function XM(){const e=Y.useHasActiveSubframe()===!1,t=Y.useSetActiveSubframeIndex();return l.jsx(ZM,{isSelected:e,onClick:()=>t(null)})}function QM({type:e}){const t=R.useContext(fn);return l.jsx("div",{className:`group shrink-0 border-2 border-gray-300 hover:border-blue-500\r
        cursor-pointer transition-colors`,style:{width:eh,height:vs},onClick:()=>t.importImages(e),children:l.jsx("div",{className:"w-full h-full flex justify-center items-center overflow-hidden",children:l.jsx(ie.Plus,{className:"text-gray-400 group-hover:text-blue-500 transition-colors",size:24})})})}function K_({type:e,itemLength:t,renderItem:n,showCompositeItem:r}){return l.jsxs(H_,{minHeight:vs,children:[r&&l.jsx(XM,{}),t>0&&l.jsx(G_,{children:Array.from({length:t}).map((i,o)=>n(o))}),l.jsx(QM,{type:e})]})}function JM({activeEntryFramesLength:e,setActiveFrameIndex:t}){const n=tt(r=>r.frameListMode);return n==="thumbs"?l.jsx(K_,{type:"frames",itemLength:e,renderItem:r=>l.jsx(YM,{frameIndex:r,setActiveFrameIndex:t},r)}):n==="minimal"?l.jsx(W_,{type:"frames",itemLength:e,renderItem:r=>l.jsx(z_,{type:"frame",index:r,onClick:()=>t(r)},r)}):null}function eO({type:e}){const t=tt(r=>(e==="frames"?r.frameListMode:r.subframeListMode)==="collapsed"),n=tt(r=>e==="frames"?r.actions.setFrameListMode:r.actions.setSubframeListMode);if(t)return l.jsx(He,{label:"Hidden (Show)",onClick:()=>n("thumbs")})}function q_({type:e,children:t}){return l.jsxs("div",{className:"w-full flex flex-col",children:[l.jsxs("div",{className:"flex justify-between~ items-center text-sm space-x-1.5 mb-0.5",children:[l.jsxs("div",{className:"font-bold text-gray-700",children:[e==="frames"?"Frames":"Subframes",":"]}),l.jsx(eO,{type:e})]}),t]})}function tO(){const e=Y.useOptionalActiveEntryFramesLength(),t=Y.useSetActiveFrameIndex();return e===void 0?null:l.jsx(q_,{type:"frames",children:l.jsx(JM,{activeEntryFramesLength:e,setActiveFrameIndex:t})})}function nO({frameIndex:e,subframeIndex:t,setActiveSubframeIndex:n}){const r=Y.useSubframeDataAt(e,t),i=Y.useIsSubframeSelectedAt(t);return l.jsx(V_,{index:t,frameData:r,isSelected:i,onClick:()=>n(t)})}function rO({activeFrameLayersLength:e,activeFrameIndex:t,setActiveSubframeIndex:n}){const r=tt(i=>i.subframeListMode);return r==="thumbs"?l.jsx(K_,{type:"subframes",itemLength:e??0,renderItem:i=>l.jsx(nO,{frameIndex:t,subframeIndex:i,setActiveSubframeIndex:n},i),showCompositeItem:e!==null}):r==="minimal"?l.jsx(W_,{type:"subframes",itemLength:e??0,renderItem:i=>l.jsx(z_,{type:"subframe",index:i,onClick:()=>n(i)},i),showCompositeItem:e!==null}):null}function iO(){const e=Y.useOptionalActiveFrameLayersLength(),t=Y.useActiveFrameIndex(),n=Y.useSetActiveSubframeIndex();return t===null?null:l.jsx(q_,{type:"subframes",children:l.jsx(rO,{activeFrameLayersLength:e,activeFrameIndex:t,setActiveSubframeIndex:n})})}function Qx(){return l.jsx("div",{style:{height:gc,width:gc}})}function oO(){const e=Y.useHasActiveEntry(),t=Y.useHasActiveFrame();return l.jsx(ks,{children:l.jsxs("div",{className:"grow flex flex-col overflow-hidden",children:[l.jsx("div",{className:"flex flex-col",children:l.jsx(tO,{})}),l.jsx(Qx,{}),l.jsx("div",{className:"grow overflow-hidden",children:e&&l.jsx(VM,{})}),l.jsx(Qx,{}),l.jsx("div",{className:"flex flex-col",children:t&&l.jsx(iO,{})})]})})}const ul="px-2 py-1 text-left border~ border-gray-300",fl="px-2 py-1";function aO(){const e=Y.useEntries(),t=Y.useActiveEntryIndex(),n=Y.useSetActiveEntryIndex();return l.jsxs("table",{className:"text-xs text-black",children:[l.jsx("thead",{className:"sticky top-0 bg-white",children:l.jsxs("tr",{children:[l.jsx("th",{className:`${ul}`,children:"#"}),l.jsx("th",{className:`${ul} w-full`,children:"Name"}),l.jsx("th",{className:`${ul}`,children:"Frames"}),l.jsx("th",{className:`${ul}`,children:"Subframes"})]})}),l.jsx("tbody",{children:e.map((r,i)=>{const o=i===t,a=r.frames.reduce((c,u)=>{const f=u.frameData.kind==="multi"?u.frameData.layers.length:0;return c+f},0);let s;return o?s="bg-sky-200":s=i%2===0?"bg-white hover:bg-sky-100":"bg-gray-50 hover:bg-sky-100",l.jsxs("tr",{className:`${s} cursor-pointer`,onClick:()=>{n(i)},children:[l.jsx("td",{className:`${fl}`,children:i+1}),l.jsx("td",{title:r.name,className:`${fl} w-full truncate`,style:{maxWidth:150},children:r.name}),l.jsx("td",{className:`${fl}`,children:r.frames.length}),l.jsx("td",{className:`${fl}`,children:a})]},i)})})]})}function sO(){const e=Y.useEntriesLength();return l.jsx(ks,{children:l.jsxs("div",{className:"grow flex flex-col overflow-hidden bg-white",children:[l.jsxs("div",{className:"text-center text-sm font-bold text-slate-600 py-1",children:["Sequences (",e,")"]}),l.jsx("div",{className:"grow overflow-auto",children:l.jsx("div",{className:"relative",children:l.jsx(aO,{})})})]})})}function lO(){const e=Y.useFormat(),t=e==="gaf"?"border-orange-300 bg-orange-200 text-orange-700":e==="taf-pair"?"border-violet-300 bg-violet-200 text-violet-700":"border-red-300 bg-red-200 text-red-700";return l.jsx(ks,{children:l.jsxs("div",{className:`p-1 text-center text-sm font-bold bg-gradient-to-b border-2 ${t}`,children:[l.jsxs("span",{children:["Current format:"," "]}),l.jsx("span",{children:e==="gaf"?"GAF":e==="taf-pair"?"TAF Pair":l.jsx(cO,{})})]})})}function cO(){return`TAF Solo (${ko.useSubFormat()==="taf_1555"?"1555":"4444"})`}const fd="px-1 py-0.5 text-left",dd="px-1 py-0.5";function uO({currentPalette:e,setCurrentPalette:t}){const[n,r]=R.useState(!1),i=R.useRef(null),o=R.useCallback(async f=>{if(!n){r(!0);try{const p=await Dt.loadFromPcxFile(f),d=Dt.compilePreviewImage(p);t({kind:"custom-file",palette:p,originFile:f,previewImage:d})}catch{}finally{r(!1)}}},[n,r,t]),a=R.useCallback(()=>{i.current!==null&&i.current.click()},[]);let s,c,u;switch(e.kind){case"raw":s="(None)",c=null,u=e.customName??"(Raw bytes)";break;case"custom-file":s=e.originFile.name,c="TODO",u="(Custom file)";break;case"world":s=e.fileName,c="TODO",u=e.world;break;default:throw new Error("")}return l.jsx("table",{className:"text-xs",children:l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("th",{className:`${fd}`,children:"File:"}),l.jsx("td",{className:`${dd}`,children:c===null?l.jsx("span",{children:s}):l.jsx(Kw,{href:c,newTab:!0,children:s})})]}),l.jsxs("tr",{children:[l.jsx("th",{className:`${fd}`,children:"Name:"}),l.jsx("td",{className:`${dd}`,children:u})]}),l.jsxs("tr",{children:[l.jsx("th",{className:`${fd}`,children:"Options:"}),l.jsxs("td",{className:`${dd}`,children:[l.jsx(He,{label:"Change",onClick:a}),l.jsx("input",{ref:i,style:{display:"none"},type:"file",onChange:f=>{f.preventDefault();const p=f.target.files;p&&p.length===1&&o(p[0])},accept:".pcx"})]})]})]})})}function fO(){const e=Tr.useCurrentPalette(),t=Tr.useSetCurrentPalette();return l.jsx("div",{className:"flex flex-col overflow-auto p-1",children:l.jsxs("div",{className:"flex flex-wrap",children:[l.jsx("div",{className:"m-1",children:l.jsx(uO,{currentPalette:e,setCurrentPalette:t})}),l.jsx("div",{className:"m-1",children:l.jsx(qw,{currentPalette:e})})]})})}function dO(){const[e,t]=R.useState(!0);return l.jsxs(ks,{children:[l.jsx(Dl,{expanded:e,setExpanded:t,children:"Workspace Palette"}),e&&l.jsx("div",{className:"grow flex flex-col overflow-hidden bg-white",children:l.jsx(fO,{})})]})}function Zp({dir:e,resizable:t,handleRef:n}){const r=t?`hover:bg-slate-400 ${e==="H"?"cursor-col-resize":"cursor-row-resize"}`:"";return l.jsx("div",{ref:n,className:`${r} flex justify-center items-center bg-slate-300`,style:{minWidth:gc,minHeight:gc},children:t&&l.jsx("div",{className:"bg-white rounded-sm",style:{width:e==="H"?og:ag,height:e==="H"?ag:og}})})}function pO(){const e=Y.useGafFormat()==="gaf";return l.jsxs("div",{className:"grow flex flex-col overflow-hidden",children:[l.jsx("div",{className:"flex flex-col",children:l.jsx(lO,{})}),e&&l.jsxs(l.Fragment,{children:[l.jsx(Zp,{dir:"V"}),l.jsx("div",{className:"flex flex-col",children:l.jsx(dO,{})})]}),l.jsx(Zp,{dir:"V"}),l.jsx("div",{className:"grow flex flex-col overflow-hidden",children:l.jsx(sO,{})})]})}function Jx({dir:e,childA:t,childB:n,dominantChild:r,subordinateChildMinSize:i,subordinateChildMaxSize:o}){const a=R.useRef(null),s=R.useRef(null);R.useEffect(()=>{const u=a.current,f=s.current;if(u===null||f===null)return;let p,d;const h=C=>{C.preventDefault(),p=e==="H"?C.clientX:C.clientY,d=e==="H"?u.clientWidth:u.clientHeight},x=C=>{if(p===void 0||d===void 0)return;const g=r==="B"?1:-1;if(e==="H"){const k=C.clientX-p;u.style.width=d+k*g+"px"}else{const k=C.clientY-p;u.style.height=d+k*g+"px"}},b=()=>{p=void 0};return f.addEventListener("mousedown",h),document.body.addEventListener("mousemove",x),document.body.addEventListener("mouseup",b),window.addEventListener("blur",b),()=>{f.removeEventListener("mousedown",h),document.body.removeEventListener("mousemove",x),document.body.removeEventListener("mouseup",b),window.removeEventListener("blur",b)}},[e,r]);const c=e==="H"?"flex-row":"flex-col";return l.jsxs("div",{className:`${c} h-full flex overflow-hidden`,children:[l.jsx("div",{ref:r!=="A"?a:void 0,className:`${r==="A"?"grow":""} max-w-full flex flex-col overflow-hidden`,style:{minWidth:r!=="A"&&e==="H"?i:void 0,minHeight:r!=="A"&&e==="V"?i:void 0,maxWidth:r!=="A"&&e==="H"?o:void 0,maxHeight:r!=="A"&&e==="V"?o:void 0},children:t}),l.jsx(Zp,{dir:e,resizable:!0,handleRef:s}),l.jsx("div",{ref:r!=="B"?a:void 0,className:`${r==="B"?"grow basis-0":""} max-w-full flex flex-col overflow-hidden`,style:{minWidth:r!=="B"&&e==="H"?i:void 0,minHeight:r!=="B"&&e==="V"?i:void 0,maxWidth:r!=="B"&&e==="H"?o:void 0,maxHeight:r!=="B"&&e==="V"?o:void 0},children:n})]})}function mO(){const e=l.jsx(pO,{}),t=l.jsx(_P,{}),n=l.jsx(oO,{}),r=l.jsx(Jx,{dir:"H",childA:t,childB:n,dominantChild:"B",subordinateChildMinSize:300,subordinateChildMaxSize:"50%"});return l.jsx("div",{className:"h-full flex flex-col",children:l.jsx("div",{className:"grow flex flex-col overflow-hidden",children:l.jsx(Jx,{dir:"H",childA:e,childB:r,dominantChild:"B",subordinateChildMinSize:320,subordinateChildMaxSize:"50%"})})})}const hO=300,vO="50vw";function gO({config:e,close:t}){const n=e.titleColor==="error"?"bg-red-800":"bg-sky-700";return l.jsxs("div",{className:"grow flex flex-col overflow-hidden",style:{minWidth:hO,maxWidth:vO},children:[l.jsxs("div",{className:`${n} flex text-white font-bold rounded-tl-sm rounded-tr-sm`,children:[l.jsx("div",{className:"overflow-hidden grow flex items-center p-2",children:l.jsx("div",{className:"truncate",children:e.title})}),t!==void 0&&l.jsx("button",{className:"flex items-center p-2 hover:bg-[#00000020]",onClick:t,children:l.jsx(ie.Close,{size:20})})]}),l.jsx("div",{className:"overflow-auto bg-white text-slate-700 rounded-bl-sm rounded-br-sm",children:e.body})]})}const xO=100;function yO({children:e,zOffset:t,close:n}){const r=t===0?"bg-[#00000060]":"bg-[#0000004F]";return l.jsx("div",{style:{zIndex:xO+t},className:`absolute inset-0 flex flex-col justify-center items-center max-h-screen overflow-hidden px-4 py-4 ${r}`,onClick:n,children:l.jsx("div",{className:"flex flex-col overflow-hidden shadow",onClick:i=>i.stopPropagation(),children:e})})}function wO({controllerRef:e}){const[t,n]=R.useState([]),r=R.useCallback(s=>{n(c=>c.filter(u=>u.config===s?(u.onClosed(),!1):!0))},[]),i=R.useCallback(s=>{const c=new Promise(u=>{const f={config:s,onClosed:u};n(p=>[...p,f])});return{close:()=>r(s),hasClosed:c}},[r]),o=R.useCallback(()=>{t.length!==0&&n(t.slice(0,-1))},[t]);e.current={pushModal:i,popModal:o};const a=t.map((s,c)=>{const u=s.config,f=()=>r(u);return l.jsx(yO,{zOffset:c,close:u.disableBackgroundClose?void 0:f,children:l.jsx(gO,{config:s.config,close:u.disableXClose?void 0:f})},c)});return du.createPortal(a,document.body)}function bO({label:e,confirmLabel:t,cancelLabel:n,defaultColor:r,enableAlpha:i,resolve:o}){const[a,s]=R.useState(r),c=`rgba(${a.r}, ${a.g}, ${a.b}, ${i?a.a/255:1})`;return l.jsxs("div",{className:"flex flex-col items-center p-4",children:[l.jsx("div",{className:"mb-2 font-semibold",children:e}),l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"mr-4",style:{background:c,width:48,height:48}}),l.jsxs("div",{className:"flex flex-col space-y-1",children:[l.jsx(dl,{sample:"r",color:a,setColor:s}),l.jsx(dl,{sample:"g",color:a,setColor:s}),l.jsx(dl,{sample:"b",color:a,setColor:s}),i&&l.jsx(dl,{sample:"a",color:a,setColor:s})]})]}),l.jsxs("div",{className:"flex justify-center space-x-4",children:[l.jsx(oe,{color:"success",onClick:()=>o(a),children:t??"Confirm"}),l.jsx(oe,{color:"danger",onClick:()=>o(null),children:n??"Cancel"})]})]})}function dl({sample:e,color:t,setColor:n}){const r=t[e];return l.jsxs("div",{className:"flex",children:[l.jsxs("div",{className:"font-mono mr-2",children:[e.toUpperCase(),":"]}),l.jsx(ls,{min:0,max:255,value:r,setValue:i=>{n({...t,[e]:i})}})]})}const kO=e=>t=>{let n=!1;return new Promise(r=>{const{hasClosed:i,close:o}=e.pushModal({disableBackgroundClose:t.disableBackgroundClose,disableXClose:t.disableXClose,title:t.title,body:l.jsx(bO,{label:t.label,confirmLabel:t.confirmLabel,cancelLabel:t.cancelLabel,defaultColor:t.defaultColor,enableAlpha:t.enableAlpha,resolve:a=>{n||(n=!0,r(a),o())}})});i.then(()=>{n||(n=!0,r(null))})})};function _O({resolve:e,text:t,confirmLabel:n,rejectLabel:r,confirmColor:i,rejectColor:o}){return l.jsxs("div",{className:"flex flex-col p-4",children:[l.jsx("div",{className:"mb-4",children:t}),l.jsxs("div",{className:"flex justify-center space-x-4",children:[l.jsx(oe,{color:i??"success",onClick:()=>e(!0),children:n}),l.jsx(oe,{color:o??"danger",onClick:()=>e(!1),children:r})]})]})}const SO=e=>t=>{let n=!1;return new Promise(r=>{const{hasClosed:i,close:o}=e.pushModal({disableBackgroundClose:t.disableBackgroundClose,disableXClose:t.disableXClose,title:t.title,body:l.jsx(_O,{confirmLabel:t.confirmLabel??"Yes",rejectLabel:t.rejectLabel??"No",confirmColor:t.confirmColor,rejectColor:t.rejectColor,text:t.text,resolve:a=>{n||(n=!0,r(a),o())}})});i.then(()=>{n||(n=!0,r(null))})})},EO=e=>t=>{let n=!1;return new Promise(r=>{const{hasClosed:i,close:o}=e.pushModal({disableBackgroundClose:t.disableBackgroundClose,disableXClose:t.disableXClose,title:t.title,body:t.makeModalBody({resolve:(...a)=>{r(...a),o()},close:()=>o()})});i.then(()=>{n||(n=!0,r(null))})})},jO=e=>t=>{let n=!1;return new Promise(r=>{const{hasClosed:i,close:o}=e.pushModal({disableBackgroundClose:t.disableBackgroundClose,disableXClose:t.disableXClose,title:t.title,body:l.jsx(jh,{label:t.label,submitLabel:t.submitLabel,cancelLabel:t.cancelLabel,min:t.min,max:t.max,isFloat:t.isFloat,defaultValue:t.defaultValue,resolve:a=>{n||(n=!0,r(a),o())}})});i.then(()=>{n||(n=!0,r(null))})})};function ey({children:e}){const t=R.useRef(null),n=R.useCallback(o=>t.current!==null?t.current.pushModal(o):{close:()=>{},hasClosed:Promise.resolve()},[]),r=R.useCallback(()=>{t.current!==null&&t.current.popModal()},[]),i=R.useMemo(()=>{const o={pushModal:n,popModal:r};return{confirmPrompt:SO(o),customPrompt:EO(o),numberPrompt:jO(o),colorPrompt:kO(o)}},[n,r]);return l.jsx(l.Fragment,{children:l.jsx(ir.Provider,{value:{pushModal:n,popModal:r},children:l.jsxs(hs.Provider,{value:i,children:[e,l.jsx(wO,{controllerRef:t})]})})})}const ty=["xOffset","yOffset","unknown2","unknown3"],Dh=(e,t,n)=>({cursor:{entryIndex:null,frameIndex:null,subframeIndex:null},commonActions:{setCursor:r=>e({cursor:r}),getEntries:()=>t().abstractActions.getCurrentGaf().virtualGaf.entries,setEntries:r=>{const i=t().abstractActions.getCurrentGaf();t().abstractActions.setCurrentGaf({...i,virtualGaf:{...i.virtualGaf,entries:r}})},setActiveEntryIndex:r=>{if(r===t().cursor.entryIndex)return;const i={entryIndex:r,frameIndex:null,subframeIndex:null};if(r===null){e({cursor:i});return}const o=t().commonActions.getEntries()[r];if(o.frames.length===0){e({cursor:i});return}i.frameIndex=0;const a=o.frames[0];if(a.frameData.kind==="single"||a.frameData.layers.length===0){e({cursor:i});return}i.subframeIndex=0,e({cursor:i})},setActiveFrameIndex:r=>{const{entryIndex:i}=t().cursor;if(i===null)throw new Error("No active entry.");const o={entryIndex:i,frameIndex:r,subframeIndex:null};if(r===null){e({cursor:o});return}const s=t().commonActions.getEntries()[i].frames[r];if(s.frameData.kind==="single"||s.frameData.layers.length===0){e({cursor:o});return}o.subframeIndex=0,e({cursor:o})},setActiveSubframeIndex:r=>{const{entryIndex:i,frameIndex:o}=t().cursor;if(i===null)throw new Error("No active entry.");if(o===null)throw new Error("No active frame.");e({cursor:{entryIndex:i,frameIndex:o,subframeIndex:r}})},getActiveEntry:()=>{const{entryIndex:r}=t().cursor;return r===null?null:t().commonActions.getEntries()[r]},getActiveFrame:()=>{const{frameIndex:r}=t().cursor;return r===null?null:t().commonActions.getActiveEntry().frames[r]},getActiveSubframe:()=>{const{subframeIndex:r}=t().cursor;if(r===null)return null;const i=t().commonActions.getActiveFrame();if(i.frameData.kind==="single")throw new Error("Active frame doesn't have subframes.");return i.frameData.layers[r]},replaceEntry:(r,i)=>{const o=t().commonActions.getEntries(),a=fo.update(o,r,i);t().commonActions.setEntries(a)},replaceFrame:(r,i,o)=>{const a=t().commonActions.getEntries()[r],s={...a,frames:fo.update(a.frames,i,o)};t().commonActions.replaceEntry(r,s)},replaceSubframe:(r,i,o,a)=>{const c=t().commonActions.getEntries()[r].frames[i],u=c.frameData;if(u.kind==="single")throw new Error("Frame doesn't have subframes.");const f={...u,layers:fo.update(u.layers,o,a)},p={...c,frameData:f};t().commonActions.replaceFrame(r,i,p)},replaceFrameImageData:(r,i,o)=>{const c=t().commonActions.getEntries()[r].frames[i];if(c.frameData.kind==="multi")throw new Error("Frame is not single-layered.");const u={...c,frameData:o};t().commonActions.replaceFrame(r,i,u)},replaceSubframeImageData:(r,i,o,a)=>{t().commonActions.replaceSubframe(r,i,o,a)},modifyActiveFrameData:r=>{r=as.select(r,ty);const{entryIndex:i,frameIndex:o}=t().cursor;if(i===null)throw new Error("No active entry.");if(o===null)throw new Error("No active frame.");const s=t().commonActions.getEntries()[i].frames[o],c={...s,frameData:{...s.frameData,...r}};t().commonActions.replaceFrame(i,o,c)},modifyActiveSubframeData:r=>{r=as.select(r,ty);const{entryIndex:i,frameIndex:o,subframeIndex:a}=t().cursor;if(a===null)throw new Error("No active subframe.");const s=t().commonActions.getActiveFrame();if(s.frameData.kind==="single")throw new Error("Active frame doesn't have subframes.");const f={...s.frameData.layers[a],...r};t().commonActions.replaceSubframe(i,o,a,f)},modifyActiveFrameDuration:r=>{const{entryIndex:i,frameIndex:o}=t().cursor;if(i===null)throw new Error("No active entry.");if(o===null)throw new Error("No active frame.");const s={...t().commonActions.getEntries()[i].frames[o],duration:r};t().commonActions.replaceFrame(i,o,s)},modifyActiveSequenceFrameDuration:r=>{const{entryIndex:i}=t().cursor;if(i===null)throw new Error("No active entry.");const o=t().commonActions.getEntries()[i],a={...o,frames:o.frames.map(s=>({...s,duration:r}))};t().commonActions.replaceEntry(i,a)},convertSingleFrameToMultiFrame:(r,i)=>{const s=t().commonActions.getEntries()[r].frames[i];if(s.frameData.kind==="multi")throw new Error("Frame is already multi-layered.");const c={...s.frameData,kind:"multi",layers:[{...s.frameData}]},u={...s,frameData:c};t().commonActions.replaceFrame(r,i,u),t().commonActions.setCursor({entryIndex:r,frameIndex:i,subframeIndex:0})},convertMultiFrameToSingleFrame:(r,i)=>{const s=t().commonActions.getEntries()[r].frames[i];if(s.frameData.kind==="single")throw new Error("Frame is already single-layered.");if(s.frameData.layers.length!==1)throw new Error("Frame must have exactly 1 subframe to be converted to single-layered.");const c=s.frameData.layers[0],u={...s,frameData:c};t().commonActions.replaceFrame(r,i,u),t().commonActions.setCursor({entryIndex:r,frameIndex:i,subframeIndex:null})},convertActiveFrameToMultiFrame:r=>{const i=t().commonActions.getActiveFrame();if(i===null)throw new Error("No active frame.");if(i.frameData.kind==="multi"&&r)return!1;const{entryIndex:a,frameIndex:s}=t().cursor;return t().commonActions.convertSingleFrameToMultiFrame(a,s),!0},convertActiveFrameToSingleFrame:r=>{const i=t().commonActions.getActiveFrame();if(i===null)throw new Error("No active frame.");if(i.frameData.kind==="single"&&r)return!1;const{entryIndex:a,frameIndex:s}=t().cursor;return t().commonActions.convertMultiFrameToSingleFrame(a,s),!0},createEntry:r=>{const i=t().commonActions.getEntries();if(i.some(c=>c.name===r))throw new Error("An entry with this name already exists.");const a={name:r,frames:[],unknown1:yt.Constants.USUAL_ENTRY_UNKNOWN1,unknown2:yt.Constants.USUAL_ENTRY_UNKNOWN2},s=[...i,a];t().commonActions.setEntries(s),t().commonActions.setCursor({entryIndex:s.length-1,frameIndex:null,subframeIndex:null})},renameEntry:(r,i)=>{const o=t().commonActions.getEntries();if(o.some((u,f)=>f!==r&&u.name===i))throw new Error("An entry with this name already exists.");const c={...o[r],name:i};t().commonActions.replaceEntry(r,c)},renameActiveEntry:r=>{const i=t().cursor.entryIndex;if(i===null)throw new Error("No active entry.");t().commonActions.renameEntry(i,r)},deleteEntry:r=>{const o=[...t().commonActions.getEntries()];o.splice(r,1),t().commonActions.setEntries(o),e({cursor:{entryIndex:null,frameIndex:null,subframeIndex:null}})},deleteActiveEntry:()=>{const r=t().cursor.entryIndex;if(r===null)throw new Error("No active entry.");t().commonActions.deleteEntry(r)},addFrames:(r,i)=>{const o=t().commonActions.getEntries()[r],a={...o,frames:[...o.frames,...i]};t().commonActions.replaceEntry(r,a),t().commonActions.setActiveFrameIndex(a.frames.length-1)},addFramesToActiveEntry:r=>{const{entryIndex:i}=t().cursor;t().commonActions.addFrames(i,r)},addSubframes:(r,i,o)=>{const a=t().commonActions.getEntries()[r].frames[i];if(a.frameData.kind==="single")throw new Error("Frame does not have subframes.");const s=[...a.frameData.layers,...o],c={...a,frameData:{...a.frameData,layers:s}};t().commonActions.replaceFrame(r,i,c),t().commonActions.setActiveSubframeIndex(s.length-1)},addSubframesToActiveFrame:r=>{const{entryIndex:i,frameIndex:o}=t().cursor;t().commonActions.addSubframes(i,o,r)},deleteFrame:(r,i)=>{const a=t().commonActions.getEntries()[r],s=[...a.frames];s.splice(i,1);const c={...a,frames:s};t().commonActions.replaceEntry(r,c),t().commonActions.setCursor({entryIndex:r,frameIndex:null,subframeIndex:null})},deleteSubframe:(r,i,o)=>{const c=t().commonActions.getEntries()[r].frames[i];if(c.frameData.kind!=="multi")throw new Error("Frame is not multi-layered.");const u=[...c.frameData.layers];u.splice(o,1);const f={...c,frameData:{...c.frameData,layers:u}};t().commonActions.replaceFrame(r,i,f),t().commonActions.setCursor({entryIndex:r,frameIndex:i,subframeIndex:null})},deleteActiveFrame:()=>{const{entryIndex:r,frameIndex:i}=t().cursor;if(r===null)throw new Error("No entry selected.");if(i===null)throw new Error("No frame selected");t().commonActions.deleteFrame(r,i)},deleteActiveSubframe:()=>{const{entryIndex:r,frameIndex:i,subframeIndex:o}=t().cursor;if(r===null)throw new Error("No entry selected.");if(i===null)throw new Error("No frame selected");if(o===null)throw new Error("No subframe selected");t().commonActions.deleteSubframe(r,i,o)}}});var Xp;(e=>{function t(o,a){return a.map(s=>({...s,frames:s.frames.map(c=>({...c,frameData:c.frameData.kind==="single"?n(o,c.frameData):r(o,c.frameData)}))}))}e.recompileVirtualGafEntries=t;function n(o,a){return{...a,layerData:i(o,a.layerData,a)}}function r(o,a){return{...a,layers:a.layers.map(s=>n(o,s))}}function i(o,a,{width:s,height:c,transparencyIndex:u}){const f=Dt.createColorData(s,c,u,a.imageResource.paletteIndices,o.palette),p=o.imageCompiler.compileImage(s,c,f);return{...a,imageResource:{...a.imageResource,compiledImage:p}}}})(Xp||(Xp={}));const CO=e=>pu((t,n,r)=>{const i=Dh(t,n);return{format:"gaf",gafFormat:"gaf",currentGaf:e.initialGaf,currentPalette:e.initialPalette,cursor:i.cursor,abstractActions:{getCurrentGaf:()=>n().currentGaf,setCurrentGaf:o=>t({currentGaf:o})},commonActions:{...i.commonActions},gafOnlyActions:{setCurrentPalette:o=>{if(n().currentPalette.palette===o.palette)return;const s=performance.now(),c=n().currentGaf;if(c.format!=="gaf")throw new Error(`Expected a GAF format but got: ${c.format}`);const u=Xp.recompileVirtualGafEntries({palette:o.palette,imageCompiler:new Oo},c.virtualGaf.entries),f={...c.virtualGaf,entries:u},p=performance.now()-s;console.log(`Took ${p}ms to create recompile the Virtual Gaf tree.`),t({currentPalette:o,currentGaf:{...c,virtualGaf:f}})}}}}),IO=e=>pu((t,n,r)=>{const i=Dh(t,n);return{format:"taf-solo",gafFormat:"taf",mode:"solo",currentTaf:e.initialGaf,subFormat:e.subFormat,cursor:i.cursor,abstractActions:{getCurrentGaf:()=>n().currentTaf,setCurrentGaf:o=>t({currentTaf:o})},commonActions:{...i.commonActions},tafSoloOnlyActions:{}}}),AO=yu.baseUrl+"/palettes/",ny=[{key:"ara_textures.pcx",label:"Aramon Units"},{key:"aramon_features.pcx",label:"Aramon Features"},{key:"tar_textures.pcx",label:"Taros Units"},{key:"taros_features.pcx",label:"Taros Features"},{key:"ver_textures.pcx",label:"Veruna Units"},{key:"veruna_features.pcx",label:"Veruna Features"},{key:"zhon_features.pcx",label:"Zhon Units"},{key:"zon_textures.pcx",label:"Zhon Features"},{key:"cre_textures.pcx",label:"Creon Units"},{key:"creon_features.pcx",label:"Creon Features"}],Y_="black-to-white",Z_="white-to-black",NO=[{key:Y_,label:"(Black-to-white)"},{key:Z_,label:"(White-to-black)"}];function FO(){const e=new Oo,t=ry(!1),n=ry(!0),r=iy("Black-to-white",t,e),i=iy("White-to-black",n,e);async function o(s){if(s===Y_)return r;if(s===Z_)return i;const c=ny.find(x=>x.key===s);if(c===void 0)throw new Error(`Unknown pre-selectable palette key: ${s}`);const u=AO+c.key,f=await fetch(u).then(x=>x.arrayBuffer()),p=new Uint8Array(f),d=Dt.loadFromPcxFileData(p),h=Dt.compilePreviewImage(d);return{kind:"world",fileName:s,palette:d,previewImage:h,world:c.label}}const a=[...NO,...ny];return{default:r,preSelectables:a,loadPreSelectable:o}}function ry(e){const t=new Uint8Array(768);for(let n=0;n<256;n++){const r=e?255-n:n;t[n*3+0]=r,t[n*3+1]=r,t[n*3+2]=r}return{rgbData:t}}function iy(e,t,n){return{kind:"raw",palette:t,previewImage:Dt.compilePreviewImage(t,n),customName:e}}function oy({icon:e,label:t,disabled:n,onClick:r,title:i}){const o=n?"text-slate-400":"text-slate-500 hover:bg-slate-300 active:bg-slate-300";return l.jsxs("button",{className:`${o} flex items-center px-1 py-0.5 whitespace-nowrap`,disabled:n,title:i,onClick:a=>{a.preventDefault(),r()},children:[l.jsx(e,{}),t!==void 0&&l.jsx("span",{className:"ml-0.5 text-xs font-bold",children:t})]})}function X_(){return l.jsx("div",{className:"self-stretch border-l border-slate-300 my-1 mx-1"})}function RO(){const t=Y.useFormat()==="gaf"?"GAF":"TAF",{createNewProject:n,exportResult:r}=R.useContext(fn);return l.jsxs("div",{className:"flex items-center p-0.5",children:[l.jsx(oy,{icon:ie.NewFile,label:"New project",onClick:n}),l.jsx(X_,{}),l.jsx(oy,{icon:ie.ExportFile,label:`Export ${t}`,onClick:r})]})}function TO(){const e=Y.useCurrentGafFileName();return l.jsx("div",{className:"flex items-center px-1 py-0.5",children:l.jsxs("div",{className:"text-xs",children:[l.jsxs("span",{className:"text-slate-500 font-medium",children:["Loaded from file:"," "]}),e===null?l.jsx("span",{className:"text-slate-400 italic",children:"(None)"}):l.jsx("span",{className:"text-slate-500",children:e})]})})}function PO(){return l.jsxs("div",{className:"flex w-full overflow-x-auto overflow-y-hidden bg-slate-200",children:[l.jsx(RO,{}),l.jsx(X_,{}),l.jsx(TO,{})]})}function DO(){const e=Y.useActiveEntryIndex(),t=Y.useActiveFrameIndex(),n=Y.useOptionalActiveFrameDataKind(),r=R.useContext(fn);return l.jsxs(bn,{label:"Frame",children:[l.jsx(dt,{label:"Create frame(s)",disabled:e===null,onClick:()=>r.importImages("frames")}),l.jsx(Es,{}),l.jsxs(bn,{label:"Convert frame to...",disabled:t===null,children:[l.jsx(dt,{label:"Single-layered",disabled:n===null||n==="single",onClick:()=>r.convertToSingle()}),l.jsx(dt,{label:"Multi-layered",disabled:n===null||n==="multi",onClick:()=>r.convertToMulti()})]}),l.jsx(dt,{label:"Delete frame",disabled:t===null,onClick:()=>r.deleteFrame()})]})}function MO({label:e}){return l.jsx("div",{className:`px-2 py-1 font-bold text-slate-400 hover:text-slate-500 transition-colors\r
        whitespace-nowrap`,children:e})}function OO({label:e,onClick:t}){return l.jsx("button",{className:"bg-slate-100 hover:bg-slate-200 active:bg-slate-200 px-2 py-1 whitespace-nowrap",onClick:n=>{n.preventDefault(),t()},children:e})}function LO(){const e=Y.useActiveEntryIndex(),{changeFrameDuration:t}=R.useContext(fn);return l.jsx(bn,{label:"Tools",children:l.jsx(bn,{label:"Helper hunctions",children:l.jsx(dt,{label:"Change frame duration for Sequence",disabled:e===null,onClick:()=>t(!0)})})})}function BO(){const e=Y.useActiveFrameIndex(),t=Y.useActiveSubframeIndex(),n=R.useContext(fn);return l.jsxs(bn,{label:"Subframe",children:[l.jsx(dt,{label:"Create subframe(s)",disabled:e===null,onClick:()=>n.importImages("subframes")}),l.jsx(Es,{}),l.jsx(dt,{label:"Delete subframe",disabled:t===null,onClick:()=>n.deleteSubframe()})]})}function $O(){const e=tt(i=>i.frameListMode),t=tt(i=>i.actions.setFrameListMode),n=tt(i=>i.subframeListMode),r=tt(i=>i.actions.setSubframeListMode);return l.jsxs(bn,{label:"View",children:[l.jsxs(bn,{label:"Frame selector",children:[l.jsx(Bi,{label:"Thumbnails",checked:e==="thumbs",onChange:()=>t("thumbs")}),l.jsx(Bi,{label:"Minimalist",checked:e==="minimal",onChange:()=>t("minimal")}),l.jsx(Bi,{label:"Hidden",checked:e==="collapsed",onChange:()=>t("collapsed")})]}),l.jsxs(bn,{label:"Subframe selector",children:[l.jsx(Bi,{label:"Thumbnails",checked:n==="thumbs",onChange:()=>r("thumbs")}),l.jsx(Bi,{label:"Minimalist",checked:n==="minimal",onChange:()=>r("minimal")}),l.jsx(Bi,{label:"Hidden",checked:n==="collapsed",onChange:()=>r("collapsed")})]})]})}function UO(){const e=Y.useActiveEntryIndex(),t=R.useContext(fn);return l.jsxs(bn,{label:"Sequence",children:[l.jsx(dt,{label:"Create sequence",onClick:()=>t.createEntry()}),l.jsx(Es,{}),l.jsx(dt,{label:"Rename sequence",disabled:e===null,onClick:()=>t.renameActiveEntry()}),l.jsx(dt,{label:"Delete sequence",disabled:e===null,onClick:()=>t.deleteActiveEntry()})]})}function zO(){const t=Y.useFormat()==="gaf"?"GAF":"TAF",{createNewProject:n,exportResult:r}=R.useContext(fn);return l.jsxs(bn,{label:"File",children:[l.jsx(dt,{label:"New project...",onClick:n}),l.jsx(Es,{}),l.jsx(dt,{label:`Export ${t}...`,onClick:r})]})}function GO(){return l.jsxs("div",{className:"flex items-stretch w-full overflow-x-auto overflow-y-hidden bg-slate-100 p-0.5",children:[l.jsx(zO,{}),l.jsx(UO,{}),l.jsx(DO,{}),l.jsx(BO,{}),l.jsx($O,{}),l.jsx(LO,{}),l.jsx(OO,{label:"Help",onClick:()=>{}}),l.jsx("div",{className:"grow flex justify-end",children:l.jsx(MO,{label:"GAF Studio v"+yu.version})})]})}function HO({children:e}){return l.jsx(t_,{children:l.jsxs("div",{className:"grow flex flex-col justify-start items-stretch overflow-hidden",children:[l.jsxs("div",{children:[l.jsx(GO,{}),l.jsx("div",{className:"border-b border-slate-300"}),l.jsx(PO,{}),l.jsx("div",{className:"border-b border-slate-400"})]}),l.jsx("div",{className:"grow overflow-hidden bg-window-panel",children:e})]})})}const WO=e=>pu((t,n,r)=>{const i=Dh(t,n);return{format:"taf-pair",gafFormat:"taf",mode:"pair",currentTaf:e.initialGaf,cursor:i.cursor,abstractActions:{getCurrentGaf:()=>n().currentTaf,setCurrentGaf:o=>t({currentTaf:o})},commonActions:{...i.commonActions},tafPairOnlyActions:{}}});function VO(){const[e,t]=R.useState();R.useEffect(()=>{wI()},[]);const n=R.useMemo(()=>FO(),[]),r=R.useCallback(i=>{if(i.format==="gaf")t({format:"gaf",store:CO(i.config)});else if(i.format==="taf-solo")t({format:"taf-solo",store:IO(i.config)});else if(i.format==="taf-pair")t({format:"taf-pair",store:WO(i.config)});else throw new Error("Unknown format.")},[]);return e===void 0?l.jsx(ey,{children:l.jsx(Gp.Provider,{value:n,children:l.jsx(vP,{onInit:r})})}):l.jsx(ww.Provider,{value:{resetWorkspace:()=>t(void 0)},children:l.jsx(vu.Provider,{value:e,children:l.jsx(ey,{children:l.jsx(J3,{children:l.jsx(Gp.Provider,{value:n,children:l.jsx(HO,{children:l.jsx(RP,{children:l.jsx(mO,{})})})})})})})})}var Q_={},Mu={};Mu.byteLength=YO;Mu.toByteArray=XO;Mu.fromByteArray=e8;var Fn=[],Jt=[],KO=typeof Uint8Array<"u"?Uint8Array:Array,pd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var $i=0,qO=pd.length;$i<qO;++$i)Fn[$i]=pd[$i],Jt[pd.charCodeAt($i)]=$i;Jt[45]=62;Jt[95]=63;function J_(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function YO(e){var t=J_(e),n=t[0],r=t[1];return(n+r)*3/4-r}function ZO(e,t,n){return(t+n)*3/4-n}function XO(e){var t,n=J_(e),r=n[0],i=n[1],o=new KO(ZO(e,r,i)),a=0,s=i>0?r-4:r,c;for(c=0;c<s;c+=4)t=Jt[e.charCodeAt(c)]<<18|Jt[e.charCodeAt(c+1)]<<12|Jt[e.charCodeAt(c+2)]<<6|Jt[e.charCodeAt(c+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=Jt[e.charCodeAt(c)]<<2|Jt[e.charCodeAt(c+1)]>>4,o[a++]=t&255),i===1&&(t=Jt[e.charCodeAt(c)]<<10|Jt[e.charCodeAt(c+1)]<<4|Jt[e.charCodeAt(c+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function QO(e){return Fn[e>>18&63]+Fn[e>>12&63]+Fn[e>>6&63]+Fn[e&63]}function JO(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(QO(r));return i.join("")}function e8(e){for(var t,n=e.length,r=n%3,i=[],o=16383,a=0,s=n-r;a<s;a+=o)i.push(JO(e,a,a+o>s?s:a+o));return r===1?(t=e[n-1],i.push(Fn[t>>2]+Fn[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Fn[t>>10]+Fn[t>>4&63]+Fn[t<<2&63]+"=")),i.join("")}var Mh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Mh.read=function(e,t,n,r,i){var o,a,s=i*8-r-1,c=(1<<s)-1,u=c>>1,f=-7,p=n?i-1:0,d=n?-1:1,h=e[t+p];for(p+=d,o=h&(1<<-f)-1,h>>=-f,f+=s;f>0;o=o*256+e[t+p],p+=d,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;f>0;a=a*256+e[t+p],p+=d,f-=8);if(o===0)o=1-u;else{if(o===c)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,r),o=o-u}return(h?-1:1)*a*Math.pow(2,o-r)};Mh.write=function(e,t,n,r,i,o){var a,s,c,u=o*8-i-1,f=(1<<u)-1,p=f>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,x=r?1:-1,b=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+p>=1?t+=d/c:t+=d*Math.pow(2,1-p),t*c>=2&&(a++,c/=2),a+p>=f?(s=0,a=f):a+p>=1?(s=(t*c-1)*Math.pow(2,i),a=a+p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=s&255,h+=x,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+h]=a&255,h+=x,a/=256,u-=8);e[n+h-x]|=b*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Mu,n=Mh,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=g,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const w=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(w,m),w.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function a(w){if(w>i)throw new RangeError('The value "'+w+'" is invalid for option "size"');const m=new Uint8Array(w);return Object.setPrototypeOf(m,s.prototype),m}function s(w,m,v){if(typeof w=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(w)}return c(w,m,v)}s.poolSize=8192;function c(w,m,v){if(typeof w=="string")return d(w,m);if(ArrayBuffer.isView(w))return x(w);if(w==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w);if(Se(w,ArrayBuffer)||w&&Se(w.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Se(w,SharedArrayBuffer)||w&&Se(w.buffer,SharedArrayBuffer)))return b(w,m,v);if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const E=w.valueOf&&w.valueOf();if(E!=null&&E!==w)return s.from(E,m,v);const D=C(w);if(D)return D;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return s.from(w[Symbol.toPrimitive]("string"),m,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}s.from=function(w,m,v){return c(w,m,v)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function u(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}function f(w,m,v){return u(w),w<=0?a(w):m!==void 0?typeof v=="string"?a(w).fill(m,v):a(w).fill(m):a(w)}s.alloc=function(w,m,v){return f(w,m,v)};function p(w){return u(w),a(w<0?0:y(w)|0)}s.allocUnsafe=function(w){return p(w)},s.allocUnsafeSlow=function(w){return p(w)};function d(w,m){if((typeof m!="string"||m==="")&&(m="utf8"),!s.isEncoding(m))throw new TypeError("Unknown encoding: "+m);const v=k(w,m)|0;let E=a(v);const D=E.write(w,m);return D!==v&&(E=E.slice(0,D)),E}function h(w){const m=w.length<0?0:y(w.length)|0,v=a(m);for(let E=0;E<m;E+=1)v[E]=w[E]&255;return v}function x(w){if(Se(w,Uint8Array)){const m=new Uint8Array(w);return b(m.buffer,m.byteOffset,m.byteLength)}return h(w)}function b(w,m,v){if(m<0||w.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(w.byteLength<m+(v||0))throw new RangeError('"length" is outside of buffer bounds');let E;return m===void 0&&v===void 0?E=new Uint8Array(w):v===void 0?E=new Uint8Array(w,m):E=new Uint8Array(w,m,v),Object.setPrototypeOf(E,s.prototype),E}function C(w){if(s.isBuffer(w)){const m=y(w.length)|0,v=a(m);return v.length===0||w.copy(v,0,0,m),v}if(w.length!==void 0)return typeof w.length!="number"||Mt(w.length)?a(0):h(w);if(w.type==="Buffer"&&Array.isArray(w.data))return h(w.data)}function y(w){if(w>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return w|0}function g(w){return+w!=w&&(w=0),s.alloc(+w)}s.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==s.prototype},s.compare=function(m,v){if(Se(m,Uint8Array)&&(m=s.from(m,m.offset,m.byteLength)),Se(v,Uint8Array)&&(v=s.from(v,v.offset,v.byteLength)),!s.isBuffer(m)||!s.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===v)return 0;let E=m.length,D=v.length;for(let z=0,K=Math.min(E,D);z<K;++z)if(m[z]!==v[z]){E=m[z],D=v[z];break}return E<D?-1:D<E?1:0},s.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(m,v){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return s.alloc(0);let E;if(v===void 0)for(v=0,E=0;E<m.length;++E)v+=m[E].length;const D=s.allocUnsafe(v);let z=0;for(E=0;E<m.length;++E){let K=m[E];if(Se(K,Uint8Array))z+K.length>D.length?(s.isBuffer(K)||(K=s.from(K)),K.copy(D,z)):Uint8Array.prototype.set.call(D,K,z);else if(s.isBuffer(K))K.copy(D,z);else throw new TypeError('"list" argument must be an Array of Buffers');z+=K.length}return D};function k(w,m){if(s.isBuffer(w))return w.length;if(ArrayBuffer.isView(w)||Se(w,ArrayBuffer))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);const v=w.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&v===0)return 0;let D=!1;for(;;)switch(m){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return ee(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return ke(w).length;default:if(D)return E?-1:ee(w).length;m=(""+m).toLowerCase(),D=!0}}s.byteLength=k;function _(w,m,v){let E=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,m>>>=0,v<=m))return"";for(w||(w="utf8");;)switch(w){case"hex":return U(this,m,v);case"utf8":case"utf-8":return P(this,m,v);case"ascii":return G(this,m,v);case"latin1":case"binary":return I(this,m,v);case"base64":return O(this,m,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,m,v);default:if(E)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),E=!0}}s.prototype._isBuffer=!0;function S(w,m,v){const E=w[m];w[m]=w[v],w[v]=E}s.prototype.swap16=function(){const m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let v=0;v<m;v+=2)S(this,v,v+1);return this},s.prototype.swap32=function(){const m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let v=0;v<m;v+=4)S(this,v,v+3),S(this,v+1,v+2);return this},s.prototype.swap64=function(){const m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let v=0;v<m;v+=8)S(this,v,v+7),S(this,v+1,v+6),S(this,v+2,v+5),S(this,v+3,v+4);return this},s.prototype.toString=function(){const m=this.length;return m===0?"":arguments.length===0?P(this,0,m):_.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(m){if(!s.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:s.compare(this,m)===0},s.prototype.inspect=function(){let m="";const v=e.INSPECT_MAX_BYTES;return m=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(m+=" ... "),"<Buffer "+m+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(m,v,E,D,z){if(Se(m,Uint8Array)&&(m=s.from(m,m.offset,m.byteLength)),!s.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(v===void 0&&(v=0),E===void 0&&(E=m?m.length:0),D===void 0&&(D=0),z===void 0&&(z=this.length),v<0||E>m.length||D<0||z>this.length)throw new RangeError("out of range index");if(D>=z&&v>=E)return 0;if(D>=z)return-1;if(v>=E)return 1;if(v>>>=0,E>>>=0,D>>>=0,z>>>=0,this===m)return 0;let K=z-D,ue=E-v;const Be=Math.min(K,ue),Fe=this.slice(D,z),$e=m.slice(v,E);for(let _e=0;_e<Be;++_e)if(Fe[_e]!==$e[_e]){K=Fe[_e],ue=$e[_e];break}return K<ue?-1:ue<K?1:0};function N(w,m,v,E,D){if(w.length===0)return-1;if(typeof v=="string"?(E=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,Mt(v)&&(v=D?0:w.length-1),v<0&&(v=w.length+v),v>=w.length){if(D)return-1;v=w.length-1}else if(v<0)if(D)v=0;else return-1;if(typeof m=="string"&&(m=s.from(m,E)),s.isBuffer(m))return m.length===0?-1:T(w,m,v,E,D);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?D?Uint8Array.prototype.indexOf.call(w,m,v):Uint8Array.prototype.lastIndexOf.call(w,m,v):T(w,[m],v,E,D);throw new TypeError("val must be string, number or Buffer")}function T(w,m,v,E,D){let z=1,K=w.length,ue=m.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(w.length<2||m.length<2)return-1;z=2,K/=2,ue/=2,v/=2}function Be($e,_e){return z===1?$e[_e]:$e.readUInt16BE(_e*z)}let Fe;if(D){let $e=-1;for(Fe=v;Fe<K;Fe++)if(Be(w,Fe)===Be(m,$e===-1?0:Fe-$e)){if($e===-1&&($e=Fe),Fe-$e+1===ue)return $e*z}else $e!==-1&&(Fe-=Fe-$e),$e=-1}else for(v+ue>K&&(v=K-ue),Fe=v;Fe>=0;Fe--){let $e=!0;for(let _e=0;_e<ue;_e++)if(Be(w,Fe+_e)!==Be(m,_e)){$e=!1;break}if($e)return Fe}return-1}s.prototype.includes=function(m,v,E){return this.indexOf(m,v,E)!==-1},s.prototype.indexOf=function(m,v,E){return N(this,m,v,E,!0)},s.prototype.lastIndexOf=function(m,v,E){return N(this,m,v,E,!1)};function j(w,m,v,E){v=Number(v)||0;const D=w.length-v;E?(E=Number(E),E>D&&(E=D)):E=D;const z=m.length;E>z/2&&(E=z/2);let K;for(K=0;K<E;++K){const ue=parseInt(m.substr(K*2,2),16);if(Mt(ue))return K;w[v+K]=ue}return K}function F(w,m,v,E){return qe(ee(m,w.length-v),w,v,E)}function A(w,m,v,E){return qe(Q(m),w,v,E)}function L(w,m,v,E){return qe(ke(m),w,v,E)}function $(w,m,v,E){return qe(Ce(m,w.length-v),w,v,E)}s.prototype.write=function(m,v,E,D){if(v===void 0)D="utf8",E=this.length,v=0;else if(E===void 0&&typeof v=="string")D=v,E=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite(E)?(E=E>>>0,D===void 0&&(D="utf8")):(D=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const z=this.length-v;if((E===void 0||E>z)&&(E=z),m.length>0&&(E<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");D||(D="utf8");let K=!1;for(;;)switch(D){case"hex":return j(this,m,v,E);case"utf8":case"utf-8":return F(this,m,v,E);case"ascii":case"latin1":case"binary":return A(this,m,v,E);case"base64":return L(this,m,v,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,m,v,E);default:if(K)throw new TypeError("Unknown encoding: "+D);D=(""+D).toLowerCase(),K=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(w,m,v){return m===0&&v===w.length?t.fromByteArray(w):t.fromByteArray(w.slice(m,v))}function P(w,m,v){v=Math.min(w.length,v);const E=[];let D=m;for(;D<v;){const z=w[D];let K=null,ue=z>239?4:z>223?3:z>191?2:1;if(D+ue<=v){let Be,Fe,$e,_e;switch(ue){case 1:z<128&&(K=z);break;case 2:Be=w[D+1],(Be&192)===128&&(_e=(z&31)<<6|Be&63,_e>127&&(K=_e));break;case 3:Be=w[D+1],Fe=w[D+2],(Be&192)===128&&(Fe&192)===128&&(_e=(z&15)<<12|(Be&63)<<6|Fe&63,_e>2047&&(_e<55296||_e>57343)&&(K=_e));break;case 4:Be=w[D+1],Fe=w[D+2],$e=w[D+3],(Be&192)===128&&(Fe&192)===128&&($e&192)===128&&(_e=(z&15)<<18|(Be&63)<<12|(Fe&63)<<6|$e&63,_e>65535&&_e<1114112&&(K=_e))}}K===null?(K=65533,ue=1):K>65535&&(K-=65536,E.push(K>>>10&1023|55296),K=56320|K&1023),E.push(K),D+=ue}return V(E)}const M=4096;function V(w){const m=w.length;if(m<=M)return String.fromCharCode.apply(String,w);let v="",E=0;for(;E<m;)v+=String.fromCharCode.apply(String,w.slice(E,E+=M));return v}function G(w,m,v){let E="";v=Math.min(w.length,v);for(let D=m;D<v;++D)E+=String.fromCharCode(w[D]&127);return E}function I(w,m,v){let E="";v=Math.min(w.length,v);for(let D=m;D<v;++D)E+=String.fromCharCode(w[D]);return E}function U(w,m,v){const E=w.length;(!m||m<0)&&(m=0),(!v||v<0||v>E)&&(v=E);let D="";for(let z=m;z<v;++z)D+=Fi[w[z]];return D}function H(w,m,v){const E=w.slice(m,v);let D="";for(let z=0;z<E.length-1;z+=2)D+=String.fromCharCode(E[z]+E[z+1]*256);return D}s.prototype.slice=function(m,v){const E=this.length;m=~~m,v=v===void 0?E:~~v,m<0?(m+=E,m<0&&(m=0)):m>E&&(m=E),v<0?(v+=E,v<0&&(v=0)):v>E&&(v=E),v<m&&(v=m);const D=this.subarray(m,v);return Object.setPrototypeOf(D,s.prototype),D};function q(w,m,v){if(w%1!==0||w<0)throw new RangeError("offset is not uint");if(w+m>v)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(m,v,E){m=m>>>0,v=v>>>0,E||q(m,v,this.length);let D=this[m],z=1,K=0;for(;++K<v&&(z*=256);)D+=this[m+K]*z;return D},s.prototype.readUintBE=s.prototype.readUIntBE=function(m,v,E){m=m>>>0,v=v>>>0,E||q(m,v,this.length);let D=this[m+--v],z=1;for(;v>0&&(z*=256);)D+=this[m+--v]*z;return D},s.prototype.readUint8=s.prototype.readUInt8=function(m,v){return m=m>>>0,v||q(m,1,this.length),this[m]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(m,v){return m=m>>>0,v||q(m,2,this.length),this[m]|this[m+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(m,v){return m=m>>>0,v||q(m,2,this.length),this[m]<<8|this[m+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(m,v){return m=m>>>0,v||q(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(m,v){return m=m>>>0,v||q(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},s.prototype.readBigUInt64LE=Ot(function(m){m=m>>>0,Ne(m,"offset");const v=this[m],E=this[m+7];(v===void 0||E===void 0)&&we(m,this.length-8);const D=v+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24,z=this[++m]+this[++m]*2**8+this[++m]*2**16+E*2**24;return BigInt(D)+(BigInt(z)<<BigInt(32))}),s.prototype.readBigUInt64BE=Ot(function(m){m=m>>>0,Ne(m,"offset");const v=this[m],E=this[m+7];(v===void 0||E===void 0)&&we(m,this.length-8);const D=v*2**24+this[++m]*2**16+this[++m]*2**8+this[++m],z=this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+E;return(BigInt(D)<<BigInt(32))+BigInt(z)}),s.prototype.readIntLE=function(m,v,E){m=m>>>0,v=v>>>0,E||q(m,v,this.length);let D=this[m],z=1,K=0;for(;++K<v&&(z*=256);)D+=this[m+K]*z;return z*=128,D>=z&&(D-=Math.pow(2,8*v)),D},s.prototype.readIntBE=function(m,v,E){m=m>>>0,v=v>>>0,E||q(m,v,this.length);let D=v,z=1,K=this[m+--D];for(;D>0&&(z*=256);)K+=this[m+--D]*z;return z*=128,K>=z&&(K-=Math.pow(2,8*v)),K},s.prototype.readInt8=function(m,v){return m=m>>>0,v||q(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},s.prototype.readInt16LE=function(m,v){m=m>>>0,v||q(m,2,this.length);const E=this[m]|this[m+1]<<8;return E&32768?E|4294901760:E},s.prototype.readInt16BE=function(m,v){m=m>>>0,v||q(m,2,this.length);const E=this[m+1]|this[m]<<8;return E&32768?E|4294901760:E},s.prototype.readInt32LE=function(m,v){return m=m>>>0,v||q(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},s.prototype.readInt32BE=function(m,v){return m=m>>>0,v||q(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},s.prototype.readBigInt64LE=Ot(function(m){m=m>>>0,Ne(m,"offset");const v=this[m],E=this[m+7];(v===void 0||E===void 0)&&we(m,this.length-8);const D=this[m+4]+this[m+5]*2**8+this[m+6]*2**16+(E<<24);return(BigInt(D)<<BigInt(32))+BigInt(v+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24)}),s.prototype.readBigInt64BE=Ot(function(m){m=m>>>0,Ne(m,"offset");const v=this[m],E=this[m+7];(v===void 0||E===void 0)&&we(m,this.length-8);const D=(v<<24)+this[++m]*2**16+this[++m]*2**8+this[++m];return(BigInt(D)<<BigInt(32))+BigInt(this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+E)}),s.prototype.readFloatLE=function(m,v){return m=m>>>0,v||q(m,4,this.length),n.read(this,m,!0,23,4)},s.prototype.readFloatBE=function(m,v){return m=m>>>0,v||q(m,4,this.length),n.read(this,m,!1,23,4)},s.prototype.readDoubleLE=function(m,v){return m=m>>>0,v||q(m,8,this.length),n.read(this,m,!0,52,8)},s.prototype.readDoubleBE=function(m,v){return m=m>>>0,v||q(m,8,this.length),n.read(this,m,!1,52,8)};function Z(w,m,v,E,D,z){if(!s.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>D||m<z)throw new RangeError('"value" argument is out of bounds');if(v+E>w.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(m,v,E,D){if(m=+m,v=v>>>0,E=E>>>0,!D){const ue=Math.pow(2,8*E)-1;Z(this,m,v,E,ue,0)}let z=1,K=0;for(this[v]=m&255;++K<E&&(z*=256);)this[v+K]=m/z&255;return v+E},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(m,v,E,D){if(m=+m,v=v>>>0,E=E>>>0,!D){const ue=Math.pow(2,8*E)-1;Z(this,m,v,E,ue,0)}let z=E-1,K=1;for(this[v+z]=m&255;--z>=0&&(K*=256);)this[v+z]=m/K&255;return v+E},s.prototype.writeUint8=s.prototype.writeUInt8=function(m,v,E){return m=+m,v=v>>>0,E||Z(this,m,v,1,255,0),this[v]=m&255,v+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(m,v,E){return m=+m,v=v>>>0,E||Z(this,m,v,2,65535,0),this[v]=m&255,this[v+1]=m>>>8,v+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(m,v,E){return m=+m,v=v>>>0,E||Z(this,m,v,2,65535,0),this[v]=m>>>8,this[v+1]=m&255,v+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(m,v,E){return m=+m,v=v>>>0,E||Z(this,m,v,4,4294967295,0),this[v+3]=m>>>24,this[v+2]=m>>>16,this[v+1]=m>>>8,this[v]=m&255,v+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(m,v,E){return m=+m,v=v>>>0,E||Z(this,m,v,4,4294967295,0),this[v]=m>>>24,this[v+1]=m>>>16,this[v+2]=m>>>8,this[v+3]=m&255,v+4};function te(w,m,v,E,D){se(m,E,D,w,v,7);let z=Number(m&BigInt(4294967295));w[v++]=z,z=z>>8,w[v++]=z,z=z>>8,w[v++]=z,z=z>>8,w[v++]=z;let K=Number(m>>BigInt(32)&BigInt(4294967295));return w[v++]=K,K=K>>8,w[v++]=K,K=K>>8,w[v++]=K,K=K>>8,w[v++]=K,v}function re(w,m,v,E,D){se(m,E,D,w,v,7);let z=Number(m&BigInt(4294967295));w[v+7]=z,z=z>>8,w[v+6]=z,z=z>>8,w[v+5]=z,z=z>>8,w[v+4]=z;let K=Number(m>>BigInt(32)&BigInt(4294967295));return w[v+3]=K,K=K>>8,w[v+2]=K,K=K>>8,w[v+1]=K,K=K>>8,w[v]=K,v+8}s.prototype.writeBigUInt64LE=Ot(function(m,v=0){return te(this,m,v,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Ot(function(m,v=0){return re(this,m,v,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(m,v,E,D){if(m=+m,v=v>>>0,!D){const Be=Math.pow(2,8*E-1);Z(this,m,v,E,Be-1,-Be)}let z=0,K=1,ue=0;for(this[v]=m&255;++z<E&&(K*=256);)m<0&&ue===0&&this[v+z-1]!==0&&(ue=1),this[v+z]=(m/K>>0)-ue&255;return v+E},s.prototype.writeIntBE=function(m,v,E,D){if(m=+m,v=v>>>0,!D){const Be=Math.pow(2,8*E-1);Z(this,m,v,E,Be-1,-Be)}let z=E-1,K=1,ue=0;for(this[v+z]=m&255;--z>=0&&(K*=256);)m<0&&ue===0&&this[v+z+1]!==0&&(ue=1),this[v+z]=(m/K>>0)-ue&255;return v+E},s.prototype.writeInt8=function(m,v,E){return m=+m,v=v>>>0,E||Z(this,m,v,1,127,-128),m<0&&(m=255+m+1),this[v]=m&255,v+1},s.prototype.writeInt16LE=function(m,v,E){return m=+m,v=v>>>0,E||Z(this,m,v,2,32767,-32768),this[v]=m&255,this[v+1]=m>>>8,v+2},s.prototype.writeInt16BE=function(m,v,E){return m=+m,v=v>>>0,E||Z(this,m,v,2,32767,-32768),this[v]=m>>>8,this[v+1]=m&255,v+2},s.prototype.writeInt32LE=function(m,v,E){return m=+m,v=v>>>0,E||Z(this,m,v,4,2147483647,-2147483648),this[v]=m&255,this[v+1]=m>>>8,this[v+2]=m>>>16,this[v+3]=m>>>24,v+4},s.prototype.writeInt32BE=function(m,v,E){return m=+m,v=v>>>0,E||Z(this,m,v,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[v]=m>>>24,this[v+1]=m>>>16,this[v+2]=m>>>8,this[v+3]=m&255,v+4},s.prototype.writeBigInt64LE=Ot(function(m,v=0){return te(this,m,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Ot(function(m,v=0){return re(this,m,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ae(w,m,v,E,D,z){if(v+E>w.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function pe(w,m,v,E,D){return m=+m,v=v>>>0,D||ae(w,m,v,4),n.write(w,m,v,E,23,4),v+4}s.prototype.writeFloatLE=function(m,v,E){return pe(this,m,v,!0,E)},s.prototype.writeFloatBE=function(m,v,E){return pe(this,m,v,!1,E)};function ve(w,m,v,E,D){return m=+m,v=v>>>0,D||ae(w,m,v,8),n.write(w,m,v,E,52,8),v+8}s.prototype.writeDoubleLE=function(m,v,E){return ve(this,m,v,!0,E)},s.prototype.writeDoubleBE=function(m,v,E){return ve(this,m,v,!1,E)},s.prototype.copy=function(m,v,E,D){if(!s.isBuffer(m))throw new TypeError("argument should be a Buffer");if(E||(E=0),!D&&D!==0&&(D=this.length),v>=m.length&&(v=m.length),v||(v=0),D>0&&D<E&&(D=E),D===E||m.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("sourceEnd out of bounds");D>this.length&&(D=this.length),m.length-v<D-E&&(D=m.length-v+E);const z=D-E;return this===m&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(v,E,D):Uint8Array.prototype.set.call(m,this.subarray(E,D),v),z},s.prototype.fill=function(m,v,E,D){if(typeof m=="string"){if(typeof v=="string"?(D=v,v=0,E=this.length):typeof E=="string"&&(D=E,E=this.length),D!==void 0&&typeof D!="string")throw new TypeError("encoding must be a string");if(typeof D=="string"&&!s.isEncoding(D))throw new TypeError("Unknown encoding: "+D);if(m.length===1){const K=m.charCodeAt(0);(D==="utf8"&&K<128||D==="latin1")&&(m=K)}}else typeof m=="number"?m=m&255:typeof m=="boolean"&&(m=Number(m));if(v<0||this.length<v||this.length<E)throw new RangeError("Out of range index");if(E<=v)return this;v=v>>>0,E=E===void 0?this.length:E>>>0,m||(m=0);let z;if(typeof m=="number")for(z=v;z<E;++z)this[z]=m;else{const K=s.isBuffer(m)?m:s.from(m,D),ue=K.length;if(ue===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(z=0;z<E-v;++z)this[z+v]=K[z%ue]}return this};const ce={};function xe(w,m,v){ce[w]=class extends v{constructor(){super(),Object.defineProperty(this,"message",{value:m.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${w}]`,this.stack,delete this.name}get code(){return w}set code(D){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:D,writable:!0})}toString(){return`${this.name} [${w}]: ${this.message}`}}}xe("ERR_BUFFER_OUT_OF_BOUNDS",function(w){return w?`${w} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),xe("ERR_INVALID_ARG_TYPE",function(w,m){return`The "${w}" argument must be of type number. Received type ${typeof m}`},TypeError),xe("ERR_OUT_OF_RANGE",function(w,m,v){let E=`The value of "${w}" is out of range.`,D=v;return Number.isInteger(v)&&Math.abs(v)>2**32?D=Ke(String(v)):typeof v=="bigint"&&(D=String(v),(v>BigInt(2)**BigInt(32)||v<-(BigInt(2)**BigInt(32)))&&(D=Ke(D)),D+="n"),E+=` It must be ${m}. Received ${D}`,E},RangeError);function Ke(w){let m="",v=w.length;const E=w[0]==="-"?1:0;for(;v>=E+4;v-=3)m=`_${w.slice(v-3,v)}${m}`;return`${w.slice(0,v)}${m}`}function jt(w,m,v){Ne(m,"offset"),(w[m]===void 0||w[m+v]===void 0)&&we(m,w.length-(v+1))}function se(w,m,v,E,D,z){if(w>v||w<m){const K=typeof m=="bigint"?"n":"";let ue;throw z>3?m===0||m===BigInt(0)?ue=`>= 0${K} and < 2${K} ** ${(z+1)*8}${K}`:ue=`>= -(2${K} ** ${(z+1)*8-1}${K}) and < 2 ** ${(z+1)*8-1}${K}`:ue=`>= ${m}${K} and <= ${v}${K}`,new ce.ERR_OUT_OF_RANGE("value",ue,w)}jt(E,D,z)}function Ne(w,m){if(typeof w!="number")throw new ce.ERR_INVALID_ARG_TYPE(m,"number",w)}function we(w,m,v){throw Math.floor(w)!==w?(Ne(w,v),new ce.ERR_OUT_OF_RANGE(v||"offset","an integer",w)):m<0?new ce.ERR_BUFFER_OUT_OF_BOUNDS:new ce.ERR_OUT_OF_RANGE(v||"offset",`>= ${v?1:0} and <= ${m}`,w)}const be=/[^+/0-9A-Za-z-_]/g;function W(w){if(w=w.split("=")[0],w=w.trim().replace(be,""),w.length<2)return"";for(;w.length%4!==0;)w=w+"=";return w}function ee(w,m){m=m||1/0;let v;const E=w.length;let D=null;const z=[];for(let K=0;K<E;++K){if(v=w.charCodeAt(K),v>55295&&v<57344){if(!D){if(v>56319){(m-=3)>-1&&z.push(239,191,189);continue}else if(K+1===E){(m-=3)>-1&&z.push(239,191,189);continue}D=v;continue}if(v<56320){(m-=3)>-1&&z.push(239,191,189),D=v;continue}v=(D-55296<<10|v-56320)+65536}else D&&(m-=3)>-1&&z.push(239,191,189);if(D=null,v<128){if((m-=1)<0)break;z.push(v)}else if(v<2048){if((m-=2)<0)break;z.push(v>>6|192,v&63|128)}else if(v<65536){if((m-=3)<0)break;z.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((m-=4)<0)break;z.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return z}function Q(w){const m=[];for(let v=0;v<w.length;++v)m.push(w.charCodeAt(v)&255);return m}function Ce(w,m){let v,E,D;const z=[];for(let K=0;K<w.length&&!((m-=2)<0);++K)v=w.charCodeAt(K),E=v>>8,D=v%256,z.push(D),z.push(E);return z}function ke(w){return t.toByteArray(W(w))}function qe(w,m,v,E){let D;for(D=0;D<E&&!(D+v>=m.length||D>=w.length);++D)m[D+v]=w[D];return D}function Se(w,m){return w instanceof m||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===m.name}function Mt(w){return w!==w}const Fi=function(){const w="0123456789abcdef",m=new Array(256);for(let v=0;v<16;++v){const E=v*16;for(let D=0;D<16;++D)m[E+D]=w[v]+w[D]}return m}();function Ot(w){return typeof BigInt>"u"?Zt:w}function Zt(){throw new Error("BigInt not supported")}})(Q_);globalThis.Buffer=Q_.Buffer;md.createRoot(document.getElementById("root")).render(l.jsx(R.StrictMode,{children:l.jsx(VO,{})}));
